function Sw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var St=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ss(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function kw(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Kp={exports:{}},zo={},Xp={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qi=Symbol.for("react.element"),Ew=Symbol.for("react.portal"),Cw=Symbol.for("react.fragment"),Tw=Symbol.for("react.strict_mode"),Pw=Symbol.for("react.profiler"),Aw=Symbol.for("react.provider"),Lw=Symbol.for("react.context"),Rw=Symbol.for("react.forward_ref"),Ow=Symbol.for("react.suspense"),Iw=Symbol.for("react.memo"),Mw=Symbol.for("react.lazy"),Hh=Symbol.iterator;function Dw(e){return e===null||typeof e!="object"?null:(e=Hh&&e[Hh]||e["@@iterator"],typeof e=="function"?e:null)}var Yp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qp=Object.assign,Jp={};function ks(e,t,n){this.props=e,this.context=t,this.refs=Jp,this.updater=n||Yp}ks.prototype.isReactComponent={};ks.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ks.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zp(){}Zp.prototype=ks.prototype;function rd(e,t,n){this.props=e,this.context=t,this.refs=Jp,this.updater=n||Yp}var sd=rd.prototype=new Zp;sd.constructor=rd;Qp(sd,ks.prototype);sd.isPureReactComponent=!0;var Wh=Array.isArray,e0=Object.prototype.hasOwnProperty,id={current:null},t0={key:!0,ref:!0,__self:!0,__source:!0};function n0(e,t,n){var r,s={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)e0.call(t,r)&&!t0.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:qi,type:e,key:a,ref:o,props:s,_owner:id.current}}function $w(e,t){return{$$typeof:qi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ad(e){return typeof e=="object"&&e!==null&&e.$$typeof===qi}function Uw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Gh=/\/+/g;function Cl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Uw(""+e.key):t.toString(36)}function Da(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case qi:case Ew:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Cl(o,0):r,Wh(s)?(n="",e!=null&&(n=e.replace(Gh,"$&/")+"/"),Da(s,t,n,"",function(u){return u})):s!=null&&(ad(s)&&(s=$w(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Gh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Wh(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+Cl(a,l);o+=Da(a,t,n,c,s)}else if(c=Dw(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+Cl(a,l++),o+=Da(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function la(e,t,n){if(e==null)return e;var r=[],s=0;return Da(e,r,"","",function(a){return t.call(n,a,s++)}),r}function Fw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ze={current:null},$a={transition:null},Vw={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:$a,ReactCurrentOwner:id};function r0(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:la,forEach:function(e,t,n){la(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return la(e,function(){t++}),t},toArray:function(e){return la(e,function(t){return t})||[]},only:function(e){if(!ad(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=ks;J.Fragment=Cw;J.Profiler=Pw;J.PureComponent=rd;J.StrictMode=Tw;J.Suspense=Ow;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vw;J.act=r0;J.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Qp({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=id.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)e0.call(t,c)&&!t0.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:qi,type:e.type,key:s,ref:a,props:r,_owner:o}};J.createContext=function(e){return e={$$typeof:Lw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Aw,_context:e},e.Consumer=e};J.createElement=n0;J.createFactory=function(e){var t=n0.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:Rw,render:e}};J.isValidElement=ad;J.lazy=function(e){return{$$typeof:Mw,_payload:{_status:-1,_result:e},_init:Fw}};J.memo=function(e,t){return{$$typeof:Iw,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=$a.transition;$a.transition={};try{e()}finally{$a.transition=t}};J.unstable_act=r0;J.useCallback=function(e,t){return Ze.current.useCallback(e,t)};J.useContext=function(e){return Ze.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return Ze.current.useDeferredValue(e)};J.useEffect=function(e,t){return Ze.current.useEffect(e,t)};J.useId=function(){return Ze.current.useId()};J.useImperativeHandle=function(e,t,n){return Ze.current.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return Ze.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return Ze.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return Ze.current.useMemo(e,t)};J.useReducer=function(e,t,n){return Ze.current.useReducer(e,t,n)};J.useRef=function(e){return Ze.current.useRef(e)};J.useState=function(e){return Ze.current.useState(e)};J.useSyncExternalStore=function(e,t,n){return Ze.current.useSyncExternalStore(e,t,n)};J.useTransition=function(){return Ze.current.useTransition()};J.version="18.3.1";Xp.exports=J;var w=Xp.exports;const se=Ss(w),s0=Sw({__proto__:null,default:se},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw=w,Bw=Symbol.for("react.element"),Hw=Symbol.for("react.fragment"),Ww=Object.prototype.hasOwnProperty,Gw=zw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qw={key:!0,ref:!0,__self:!0,__source:!0};function i0(e,t,n){var r,s={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Ww.call(t,r)&&!qw.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Bw,type:e,key:a,ref:o,props:s,_owner:Gw.current}}zo.Fragment=Hw;zo.jsx=i0;zo.jsxs=i0;Kp.exports=zo;var i=Kp.exports,_c={},a0={exports:{}},xt={},o0={exports:{}},l0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,U){var P=E.length;E.push(U);e:for(;0<P;){var O=P-1>>>1,G=E[O];if(0<s(G,U))E[O]=U,E[P]=G,P=O;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var U=E[0],P=E.pop();if(P!==U){E[0]=P;e:for(var O=0,G=E.length,ee=G>>>1;O<ee;){var oe=2*(O+1)-1,tt=E[oe],F=oe+1,me=E[F];if(0>s(tt,P))F<G&&0>s(me,tt)?(E[O]=me,E[F]=P,O=F):(E[O]=tt,E[oe]=P,O=oe);else if(F<G&&0>s(me,P))E[O]=me,E[F]=P,O=F;else break e}}return U}function s(E,U){var P=E.sortIndex-U.sortIndex;return P!==0?P:E.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,v=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(E){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=E)r(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=n(u)}}function j(E){if(y=!1,x(E),!v)if(n(c)!==null)v=!0,$(N);else{var U=n(u);U!==null&&H(j,U.startTime-E)}}function N(E,U){v=!1,y&&(y=!1,p(C),C=-1),m=!0;var P=f;try{for(x(U),h=n(c);h!==null&&(!(h.expirationTime>U)||E&&!K());){var O=h.callback;if(typeof O=="function"){h.callback=null,f=h.priorityLevel;var G=O(h.expirationTime<=U);U=e.unstable_now(),typeof G=="function"?h.callback=G:h===n(c)&&r(c),x(U)}else r(c);h=n(c)}if(h!==null)var ee=!0;else{var oe=n(u);oe!==null&&H(j,oe.startTime-U),ee=!1}return ee}finally{h=null,f=P,m=!1}}var S=!1,_=null,C=-1,D=5,V=-1;function K(){return!(e.unstable_now()-V<D)}function B(){if(_!==null){var E=e.unstable_now();V=E;var U=!0;try{U=_(!0,E)}finally{U?z():(S=!1,_=null)}}else S=!1}var z;if(typeof g=="function")z=function(){g(B)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,L=k.port2;k.port1.onmessage=B,z=function(){L.postMessage(null)}}else z=function(){b(B,0)};function $(E){_=E,S||(S=!0,z())}function H(E,U){C=b(function(){E(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,$(N))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(E){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var P=f;f=U;try{return E()}finally{f=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,U){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var P=f;f=E;try{return U()}finally{f=P}},e.unstable_scheduleCallback=function(E,U,P){var O=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?O+P:O):P=O,E){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=P+G,E={id:d++,callback:U,priorityLevel:E,startTime:P,expirationTime:G,sortIndex:-1},P>O?(E.sortIndex=P,t(u,E),n(c)===null&&E===n(u)&&(y?(p(C),C=-1):y=!0,H(j,P-O))):(E.sortIndex=G,t(c,E),v||m||(v=!0,$(N))),E},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(E){var U=f;return function(){var P=f;f=U;try{return E.apply(this,arguments)}finally{f=P}}}})(l0);o0.exports=l0;var Kw=o0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xw=w,pt=Kw;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c0=new Set,wi={};function Cr(e,t){fs(e,t),fs(e+"Capture",t)}function fs(e,t){for(wi[e]=t,e=0;e<t.length;e++)c0.add(t[e])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sc=Object.prototype.hasOwnProperty,Yw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qh={},Kh={};function Qw(e){return Sc.call(Kh,e)?!0:Sc.call(qh,e)?!1:Yw.test(e)?Kh[e]=!0:(qh[e]=!0,!1)}function Jw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Zw(e,t,n,r){if(t===null||typeof t>"u"||Jw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function et(e,t,n,r,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new et(e,5,!1,e.toLowerCase(),null,!1,!1)});var od=/[\-:]([a-z])/g;function ld(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(od,ld);Fe[t]=new et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(od,ld);Fe[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(od,ld);Fe[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new et(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new et(e,1,!1,e.toLowerCase(),null,!0,!0)});function cd(e,t,n,r){var s=Fe.hasOwnProperty(t)?Fe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Zw(t,n,s,r)&&(n=null),r||s===null?Qw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var pn=Xw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ca=Symbol.for("react.element"),Br=Symbol.for("react.portal"),Hr=Symbol.for("react.fragment"),ud=Symbol.for("react.strict_mode"),kc=Symbol.for("react.profiler"),u0=Symbol.for("react.provider"),d0=Symbol.for("react.context"),dd=Symbol.for("react.forward_ref"),Ec=Symbol.for("react.suspense"),Cc=Symbol.for("react.suspense_list"),hd=Symbol.for("react.memo"),_n=Symbol.for("react.lazy"),h0=Symbol.for("react.offscreen"),Xh=Symbol.iterator;function Is(e){return e===null||typeof e!="object"?null:(e=Xh&&e[Xh]||e["@@iterator"],typeof e=="function"?e:null)}var be=Object.assign,Tl;function Qs(e){if(Tl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tl=t&&t[1]||""}return`
`+Tl+e}var Pl=!1;function Al(e,t){if(!e||Pl)return"";Pl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Pl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Qs(e):""}function e1(e){switch(e.tag){case 5:return Qs(e.type);case 16:return Qs("Lazy");case 13:return Qs("Suspense");case 19:return Qs("SuspenseList");case 0:case 2:case 15:return e=Al(e.type,!1),e;case 11:return e=Al(e.type.render,!1),e;case 1:return e=Al(e.type,!0),e;default:return""}}function Tc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hr:return"Fragment";case Br:return"Portal";case kc:return"Profiler";case ud:return"StrictMode";case Ec:return"Suspense";case Cc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case d0:return(e.displayName||"Context")+".Consumer";case u0:return(e._context.displayName||"Context")+".Provider";case dd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hd:return t=e.displayName||null,t!==null?t:Tc(e.type)||"Memo";case _n:t=e._payload,e=e._init;try{return Tc(e(t))}catch{}}return null}function t1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tc(t);case 8:return t===ud?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function f0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function n1(e){var t=f0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ua(e){e._valueTracker||(e._valueTracker=n1(e))}function m0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=f0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ja(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pc(e,t){var n=t.checked;return be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Yh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Wn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function p0(e,t){t=t.checked,t!=null&&cd(e,"checked",t,!1)}function Ac(e,t){p0(e,t);var n=Wn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lc(e,t.type,n):t.hasOwnProperty("defaultValue")&&Lc(e,t.type,Wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Lc(e,t,n){(t!=="number"||Ja(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Js=Array.isArray;function is(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Wn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Rc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(Js(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Wn(n)}}function g0(e,t){var n=Wn(t.value),r=Wn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Zh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function x0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?x0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var da,v0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(da=da||document.createElement("div"),da.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=da.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r1=["Webkit","ms","Moz","O"];Object.keys(ri).forEach(function(e){r1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ri[t]=ri[e]})});function y0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ri.hasOwnProperty(e)&&ri[e]?(""+t).trim():t+"px"}function w0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=y0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var s1=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ic(e,t){if(t){if(s1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Mc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dc=null;function fd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $c=null,as=null,os=null;function ef(e){if(e=Yi(e)){if(typeof $c!="function")throw Error(I(280));var t=e.stateNode;t&&(t=qo(t),$c(e.stateNode,e.type,t))}}function b0(e){as?os?os.push(e):os=[e]:as=e}function j0(){if(as){var e=as,t=os;if(os=as=null,ef(e),t)for(e=0;e<t.length;e++)ef(t[e])}}function N0(e,t){return e(t)}function _0(){}var Ll=!1;function S0(e,t,n){if(Ll)return e(t,n);Ll=!0;try{return N0(e,t,n)}finally{Ll=!1,(as!==null||os!==null)&&(_0(),j0())}}function ji(e,t){var n=e.stateNode;if(n===null)return null;var r=qo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var Uc=!1;if(cn)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){Uc=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{Uc=!1}function i1(e,t,n,r,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var si=!1,Za=null,eo=!1,Fc=null,a1={onError:function(e){si=!0,Za=e}};function o1(e,t,n,r,s,a,o,l,c){si=!1,Za=null,i1.apply(a1,arguments)}function l1(e,t,n,r,s,a,o,l,c){if(o1.apply(this,arguments),si){if(si){var u=Za;si=!1,Za=null}else throw Error(I(198));eo||(eo=!0,Fc=u)}}function Tr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function k0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tf(e){if(Tr(e)!==e)throw Error(I(188))}function c1(e){var t=e.alternate;if(!t){if(t=Tr(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return tf(s),e;if(a===r)return tf(s),t;a=a.sibling}throw Error(I(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function E0(e){return e=c1(e),e!==null?C0(e):null}function C0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=C0(e);if(t!==null)return t;e=e.sibling}return null}var T0=pt.unstable_scheduleCallback,nf=pt.unstable_cancelCallback,u1=pt.unstable_shouldYield,d1=pt.unstable_requestPaint,_e=pt.unstable_now,h1=pt.unstable_getCurrentPriorityLevel,md=pt.unstable_ImmediatePriority,P0=pt.unstable_UserBlockingPriority,to=pt.unstable_NormalPriority,f1=pt.unstable_LowPriority,A0=pt.unstable_IdlePriority,Bo=null,Gt=null;function m1(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Bo,e,void 0,(e.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:x1,p1=Math.log,g1=Math.LN2;function x1(e){return e>>>=0,e===0?32:31-(p1(e)/g1|0)|0}var ha=64,fa=4194304;function Zs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function no(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Zs(l):(a&=o,a!==0&&(r=Zs(a)))}else o=n&~s,o!==0?r=Zs(o):a!==0&&(r=Zs(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-$t(t),s=1<<n,r|=e[n],t&=~s;return r}function v1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-$t(a),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=v1(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Vc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function L0(){var e=ha;return ha<<=1,!(ha&4194240)&&(ha=64),e}function Rl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ki(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$t(t),e[t]=n}function w1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-$t(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function pd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$t(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ie=0;function R0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var O0,gd,I0,M0,D0,zc=!1,ma=[],On=null,In=null,Mn=null,Ni=new Map,_i=new Map,Cn=[],b1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rf(e,t){switch(e){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":Ni.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_i.delete(t.pointerId)}}function Ds(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Yi(t),t!==null&&gd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function j1(e,t,n,r,s){switch(t){case"focusin":return On=Ds(On,e,t,n,r,s),!0;case"dragenter":return In=Ds(In,e,t,n,r,s),!0;case"mouseover":return Mn=Ds(Mn,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Ni.set(a,Ds(Ni.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,_i.set(a,Ds(_i.get(a)||null,e,t,n,r,s)),!0}return!1}function $0(e){var t=hr(e.target);if(t!==null){var n=Tr(t);if(n!==null){if(t=n.tag,t===13){if(t=k0(n),t!==null){e.blockedOn=t,D0(e.priority,function(){I0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ua(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Bc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Dc=r,n.target.dispatchEvent(r),Dc=null}else return t=Yi(n),t!==null&&gd(t),e.blockedOn=n,!1;t.shift()}return!0}function sf(e,t,n){Ua(e)&&n.delete(t)}function N1(){zc=!1,On!==null&&Ua(On)&&(On=null),In!==null&&Ua(In)&&(In=null),Mn!==null&&Ua(Mn)&&(Mn=null),Ni.forEach(sf),_i.forEach(sf)}function $s(e,t){e.blockedOn===t&&(e.blockedOn=null,zc||(zc=!0,pt.unstable_scheduleCallback(pt.unstable_NormalPriority,N1)))}function Si(e){function t(s){return $s(s,e)}if(0<ma.length){$s(ma[0],e);for(var n=1;n<ma.length;n++){var r=ma[n];r.blockedOn===e&&(r.blockedOn=null)}}for(On!==null&&$s(On,e),In!==null&&$s(In,e),Mn!==null&&$s(Mn,e),Ni.forEach(t),_i.forEach(t),n=0;n<Cn.length;n++)r=Cn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Cn.length&&(n=Cn[0],n.blockedOn===null);)$0(n),n.blockedOn===null&&Cn.shift()}var ls=pn.ReactCurrentBatchConfig,ro=!0;function _1(e,t,n,r){var s=ie,a=ls.transition;ls.transition=null;try{ie=1,xd(e,t,n,r)}finally{ie=s,ls.transition=a}}function S1(e,t,n,r){var s=ie,a=ls.transition;ls.transition=null;try{ie=4,xd(e,t,n,r)}finally{ie=s,ls.transition=a}}function xd(e,t,n,r){if(ro){var s=Bc(e,t,n,r);if(s===null)Bl(e,t,r,so,n),rf(e,r);else if(j1(s,e,t,n,r))r.stopPropagation();else if(rf(e,r),t&4&&-1<b1.indexOf(e)){for(;s!==null;){var a=Yi(s);if(a!==null&&O0(a),a=Bc(e,t,n,r),a===null&&Bl(e,t,r,so,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Bl(e,t,r,null,n)}}var so=null;function Bc(e,t,n,r){if(so=null,e=fd(r),e=hr(e),e!==null)if(t=Tr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=k0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return so=e,null}function U0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(h1()){case md:return 1;case P0:return 4;case to:case f1:return 16;case A0:return 536870912;default:return 16}default:return 16}}var An=null,vd=null,Fa=null;function F0(){if(Fa)return Fa;var e,t=vd,n=t.length,r,s="value"in An?An.value:An.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[a-r];r++);return Fa=s.slice(e,1<r?1-r:void 0)}function Va(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pa(){return!0}function af(){return!1}function vt(e){function t(n,r,s,a,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?pa:af,this.isPropagationStopped=af,this}return be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pa)},persist:function(){},isPersistent:pa}),t}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yd=vt(Es),Xi=be({},Es,{view:0,detail:0}),k1=vt(Xi),Ol,Il,Us,Ho=be({},Xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Us&&(Us&&e.type==="mousemove"?(Ol=e.screenX-Us.screenX,Il=e.screenY-Us.screenY):Il=Ol=0,Us=e),Ol)},movementY:function(e){return"movementY"in e?e.movementY:Il}}),of=vt(Ho),E1=be({},Ho,{dataTransfer:0}),C1=vt(E1),T1=be({},Xi,{relatedTarget:0}),Ml=vt(T1),P1=be({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),A1=vt(P1),L1=be({},Es,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),R1=vt(L1),O1=be({},Es,{data:0}),lf=vt(O1),I1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=D1[e])?!!t[e]:!1}function wd(){return $1}var U1=be({},Xi,{key:function(e){if(e.key){var t=I1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Va(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?M1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wd,charCode:function(e){return e.type==="keypress"?Va(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Va(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),F1=vt(U1),V1=be({},Ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cf=vt(V1),z1=be({},Xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wd}),B1=vt(z1),H1=be({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),W1=vt(H1),G1=be({},Ho,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q1=vt(G1),K1=[9,13,27,32],bd=cn&&"CompositionEvent"in window,ii=null;cn&&"documentMode"in document&&(ii=document.documentMode);var X1=cn&&"TextEvent"in window&&!ii,V0=cn&&(!bd||ii&&8<ii&&11>=ii),uf=String.fromCharCode(32),df=!1;function z0(e,t){switch(e){case"keyup":return K1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wr=!1;function Y1(e,t){switch(e){case"compositionend":return B0(t);case"keypress":return t.which!==32?null:(df=!0,uf);case"textInput":return e=t.data,e===uf&&df?null:e;default:return null}}function Q1(e,t){if(Wr)return e==="compositionend"||!bd&&z0(e,t)?(e=F0(),Fa=vd=An=null,Wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return V0&&t.locale!=="ko"?null:t.data;default:return null}}var J1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!J1[e.type]:t==="textarea"}function H0(e,t,n,r){b0(r),t=io(t,"onChange"),0<t.length&&(n=new yd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ai=null,ki=null;function Z1(e){tg(e,0)}function Wo(e){var t=Kr(e);if(m0(t))return e}function eb(e,t){if(e==="change")return t}var W0=!1;if(cn){var Dl;if(cn){var $l="oninput"in document;if(!$l){var ff=document.createElement("div");ff.setAttribute("oninput","return;"),$l=typeof ff.oninput=="function"}Dl=$l}else Dl=!1;W0=Dl&&(!document.documentMode||9<document.documentMode)}function mf(){ai&&(ai.detachEvent("onpropertychange",G0),ki=ai=null)}function G0(e){if(e.propertyName==="value"&&Wo(ki)){var t=[];H0(t,ki,e,fd(e)),S0(Z1,t)}}function tb(e,t,n){e==="focusin"?(mf(),ai=t,ki=n,ai.attachEvent("onpropertychange",G0)):e==="focusout"&&mf()}function nb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wo(ki)}function rb(e,t){if(e==="click")return Wo(t)}function sb(e,t){if(e==="input"||e==="change")return Wo(t)}function ib(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:ib;function Ei(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Sc.call(t,s)||!Vt(e[s],t[s]))return!1}return!0}function pf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gf(e,t){var n=pf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pf(n)}}function q0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?q0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function K0(){for(var e=window,t=Ja();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ja(e.document)}return t}function jd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ab(e){var t=K0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&q0(n.ownerDocument.documentElement,n)){if(r!==null&&jd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=gf(n,a);var o=gf(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ob=cn&&"documentMode"in document&&11>=document.documentMode,Gr=null,Hc=null,oi=null,Wc=!1;function xf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wc||Gr==null||Gr!==Ja(r)||(r=Gr,"selectionStart"in r&&jd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),oi&&Ei(oi,r)||(oi=r,r=io(Hc,"onSelect"),0<r.length&&(t=new yd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Gr)))}function ga(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qr={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionend:ga("Transition","TransitionEnd")},Ul={},X0={};cn&&(X0=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function Go(e){if(Ul[e])return Ul[e];if(!qr[e])return e;var t=qr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in X0)return Ul[e]=t[n];return e}var Y0=Go("animationend"),Q0=Go("animationiteration"),J0=Go("animationstart"),Z0=Go("transitionend"),eg=new Map,vf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(e,t){eg.set(e,t),Cr(t,[e])}for(var Fl=0;Fl<vf.length;Fl++){var Vl=vf[Fl],lb=Vl.toLowerCase(),cb=Vl[0].toUpperCase()+Vl.slice(1);Yn(lb,"on"+cb)}Yn(Y0,"onAnimationEnd");Yn(Q0,"onAnimationIteration");Yn(J0,"onAnimationStart");Yn("dblclick","onDoubleClick");Yn("focusin","onFocus");Yn("focusout","onBlur");Yn(Z0,"onTransitionEnd");fs("onMouseEnter",["mouseout","mouseover"]);fs("onMouseLeave",["mouseout","mouseover"]);fs("onPointerEnter",["pointerout","pointerover"]);fs("onPointerLeave",["pointerout","pointerover"]);Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ub=new Set("cancel close invalid load scroll toggle".split(" ").concat(ei));function yf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,l1(r,t,void 0,e),e.currentTarget=null}function tg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;yf(s,l,u),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;yf(s,l,u),a=c}}}if(eo)throw e=Fc,eo=!1,Fc=null,e}function he(e,t){var n=t[Yc];n===void 0&&(n=t[Yc]=new Set);var r=e+"__bubble";n.has(r)||(ng(t,e,2,!1),n.add(r))}function zl(e,t,n){var r=0;t&&(r|=4),ng(n,e,r,t)}var xa="_reactListening"+Math.random().toString(36).slice(2);function Ci(e){if(!e[xa]){e[xa]=!0,c0.forEach(function(n){n!=="selectionchange"&&(ub.has(n)||zl(n,!1,e),zl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xa]||(t[xa]=!0,zl("selectionchange",!1,t))}}function ng(e,t,n,r){switch(U0(t)){case 1:var s=_1;break;case 4:s=S1;break;default:s=xd}n=s.bind(null,t,n,e),s=void 0,!Uc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Bl(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=hr(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}S0(function(){var u=a,d=fd(n),h=[];e:{var f=eg.get(e);if(f!==void 0){var m=yd,v=e;switch(e){case"keypress":if(Va(n)===0)break e;case"keydown":case"keyup":m=F1;break;case"focusin":v="focus",m=Ml;break;case"focusout":v="blur",m=Ml;break;case"beforeblur":case"afterblur":m=Ml;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=of;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=C1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=B1;break;case Y0:case Q0:case J0:m=A1;break;case Z0:m=W1;break;case"scroll":m=k1;break;case"wheel":m=q1;break;case"copy":case"cut":case"paste":m=R1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=cf}var y=(t&4)!==0,b=!y&&e==="scroll",p=y?f!==null?f+"Capture":null:f;y=[];for(var g=u,x;g!==null;){x=g;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,p!==null&&(j=ji(g,p),j!=null&&y.push(Ti(g,j,x)))),b)break;g=g.return}0<y.length&&(f=new m(f,v,null,n,d),h.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==Dc&&(v=n.relatedTarget||n.fromElement)&&(hr(v)||v[un]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?hr(v):null,v!==null&&(b=Tr(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(y=of,j="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=cf,j="onPointerLeave",p="onPointerEnter",g="pointer"),b=m==null?f:Kr(m),x=v==null?f:Kr(v),f=new y(j,g+"leave",m,n,d),f.target=b,f.relatedTarget=x,j=null,hr(d)===u&&(y=new y(p,g+"enter",v,n,d),y.target=x,y.relatedTarget=b,j=y),b=j,m&&v)t:{for(y=m,p=v,g=0,x=y;x;x=Mr(x))g++;for(x=0,j=p;j;j=Mr(j))x++;for(;0<g-x;)y=Mr(y),g--;for(;0<x-g;)p=Mr(p),x--;for(;g--;){if(y===p||p!==null&&y===p.alternate)break t;y=Mr(y),p=Mr(p)}y=null}else y=null;m!==null&&wf(h,f,m,y,!1),v!==null&&b!==null&&wf(h,b,v,y,!0)}}e:{if(f=u?Kr(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=eb;else if(hf(f))if(W0)N=sb;else{N=nb;var S=tb}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=rb);if(N&&(N=N(e,u))){H0(h,N,n,d);break e}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Lc(f,"number",f.value)}switch(S=u?Kr(u):window,e){case"focusin":(hf(S)||S.contentEditable==="true")&&(Gr=S,Hc=u,oi=null);break;case"focusout":oi=Hc=Gr=null;break;case"mousedown":Wc=!0;break;case"contextmenu":case"mouseup":case"dragend":Wc=!1,xf(h,n,d);break;case"selectionchange":if(ob)break;case"keydown":case"keyup":xf(h,n,d)}var _;if(bd)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Wr?z0(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(V0&&n.locale!=="ko"&&(Wr||C!=="onCompositionStart"?C==="onCompositionEnd"&&Wr&&(_=F0()):(An=d,vd="value"in An?An.value:An.textContent,Wr=!0)),S=io(u,C),0<S.length&&(C=new lf(C,e,null,n,d),h.push({event:C,listeners:S}),_?C.data=_:(_=B0(n),_!==null&&(C.data=_)))),(_=X1?Y1(e,n):Q1(e,n))&&(u=io(u,"onBeforeInput"),0<u.length&&(d=new lf("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=_))}tg(h,t)})}function Ti(e,t,n){return{instance:e,listener:t,currentTarget:n}}function io(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=ji(e,n),a!=null&&r.unshift(Ti(e,a,s)),a=ji(e,t),a!=null&&r.push(Ti(e,a,s))),e=e.return}return r}function Mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,t,n,r,s){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=ji(n,a),c!=null&&o.unshift(Ti(n,c,l))):s||(c=ji(n,a),c!=null&&o.push(Ti(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var db=/\r\n?/g,hb=/\u0000|\uFFFD/g;function bf(e){return(typeof e=="string"?e:""+e).replace(db,`
`).replace(hb,"")}function va(e,t,n){if(t=bf(t),bf(e)!==t&&n)throw Error(I(425))}function ao(){}var Gc=null,qc=null;function Kc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xc=typeof setTimeout=="function"?setTimeout:void 0,fb=typeof clearTimeout=="function"?clearTimeout:void 0,jf=typeof Promise=="function"?Promise:void 0,mb=typeof queueMicrotask=="function"?queueMicrotask:typeof jf<"u"?function(e){return jf.resolve(null).then(e).catch(pb)}:Xc;function pb(e){setTimeout(function(){throw e})}function Hl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Si(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Si(t)}function Dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Nf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Cs=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Cs,Pi="__reactProps$"+Cs,un="__reactContainer$"+Cs,Yc="__reactEvents$"+Cs,gb="__reactListeners$"+Cs,xb="__reactHandles$"+Cs;function hr(e){var t=e[Wt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[un]||n[Wt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Nf(e);e!==null;){if(n=e[Wt])return n;e=Nf(e)}return t}e=n,n=e.parentNode}return null}function Yi(e){return e=e[Wt]||e[un],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function qo(e){return e[Pi]||null}var Qc=[],Xr=-1;function Qn(e){return{current:e}}function fe(e){0>Xr||(e.current=Qc[Xr],Qc[Xr]=null,Xr--)}function ce(e,t){Xr++,Qc[Xr]=e.current,e.current=t}var Gn={},Ge=Qn(Gn),ot=Qn(!1),wr=Gn;function ms(e,t){var n=e.type.contextTypes;if(!n)return Gn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function lt(e){return e=e.childContextTypes,e!=null}function oo(){fe(ot),fe(Ge)}function _f(e,t,n){if(Ge.current!==Gn)throw Error(I(168));ce(Ge,t),ce(ot,n)}function rg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(I(108,t1(e)||"Unknown",s));return be({},n,r)}function lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gn,wr=Ge.current,ce(Ge,e),ce(ot,ot.current),!0}function Sf(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=rg(e,t,wr),r.__reactInternalMemoizedMergedChildContext=e,fe(ot),fe(Ge),ce(Ge,e)):fe(ot),ce(ot,n)}var tn=null,Ko=!1,Wl=!1;function sg(e){tn===null?tn=[e]:tn.push(e)}function vb(e){Ko=!0,sg(e)}function Jn(){if(!Wl&&tn!==null){Wl=!0;var e=0,t=ie;try{var n=tn;for(ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}tn=null,Ko=!1}catch(s){throw tn!==null&&(tn=tn.slice(e+1)),T0(md,Jn),s}finally{ie=t,Wl=!1}}return null}var Yr=[],Qr=0,co=null,uo=0,bt=[],jt=0,br=null,nn=1,rn="";function ir(e,t){Yr[Qr++]=uo,Yr[Qr++]=co,co=e,uo=t}function ig(e,t,n){bt[jt++]=nn,bt[jt++]=rn,bt[jt++]=br,br=e;var r=nn;e=rn;var s=32-$t(r)-1;r&=~(1<<s),n+=1;var a=32-$t(t)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,nn=1<<32-$t(t)+s|n<<s|r,rn=a+e}else nn=1<<a|n<<s|r,rn=e}function Nd(e){e.return!==null&&(ir(e,1),ig(e,1,0))}function _d(e){for(;e===co;)co=Yr[--Qr],Yr[Qr]=null,uo=Yr[--Qr],Yr[Qr]=null;for(;e===br;)br=bt[--jt],bt[jt]=null,rn=bt[--jt],bt[jt]=null,nn=bt[--jt],bt[jt]=null}var mt=null,ft=null,xe=!1,Mt=null;function ag(e,t){var n=Nt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function kf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mt=e,ft=Dn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mt=e,ft=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=br!==null?{id:nn,overflow:rn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Nt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mt=e,ft=null,!0):!1;default:return!1}}function Jc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zc(e){if(xe){var t=ft;if(t){var n=t;if(!kf(e,t)){if(Jc(e))throw Error(I(418));t=Dn(n.nextSibling);var r=mt;t&&kf(e,t)?ag(r,n):(e.flags=e.flags&-4097|2,xe=!1,mt=e)}}else{if(Jc(e))throw Error(I(418));e.flags=e.flags&-4097|2,xe=!1,mt=e}}}function Ef(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function ya(e){if(e!==mt)return!1;if(!xe)return Ef(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Kc(e.type,e.memoizedProps)),t&&(t=ft)){if(Jc(e))throw og(),Error(I(418));for(;t;)ag(e,t),t=Dn(t.nextSibling)}if(Ef(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ft=Dn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ft=null}}else ft=mt?Dn(e.stateNode.nextSibling):null;return!0}function og(){for(var e=ft;e;)e=Dn(e.nextSibling)}function ps(){ft=mt=null,xe=!1}function Sd(e){Mt===null?Mt=[e]:Mt.push(e)}var yb=pn.ReactCurrentBatchConfig;function Fs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function wa(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cf(e){var t=e._init;return t(e._payload)}function lg(e){function t(p,g){if(e){var x=p.deletions;x===null?(p.deletions=[g],p.flags|=16):x.push(g)}}function n(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function s(p,g){return p=Vn(p,g),p.index=0,p.sibling=null,p}function a(p,g,x){return p.index=x,e?(x=p.alternate,x!==null?(x=x.index,x<g?(p.flags|=2,g):x):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,g,x,j){return g===null||g.tag!==6?(g=Jl(x,p.mode,j),g.return=p,g):(g=s(g,x),g.return=p,g)}function c(p,g,x,j){var N=x.type;return N===Hr?d(p,g,x.props.children,j,x.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===_n&&Cf(N)===g.type)?(j=s(g,x.props),j.ref=Fs(p,g,x),j.return=p,j):(j=Ka(x.type,x.key,x.props,null,p.mode,j),j.ref=Fs(p,g,x),j.return=p,j)}function u(p,g,x,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Zl(x,p.mode,j),g.return=p,g):(g=s(g,x.children||[]),g.return=p,g)}function d(p,g,x,j,N){return g===null||g.tag!==7?(g=vr(x,p.mode,j,N),g.return=p,g):(g=s(g,x),g.return=p,g)}function h(p,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Jl(""+g,p.mode,x),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ca:return x=Ka(g.type,g.key,g.props,null,p.mode,x),x.ref=Fs(p,null,g),x.return=p,x;case Br:return g=Zl(g,p.mode,x),g.return=p,g;case _n:var j=g._init;return h(p,j(g._payload),x)}if(Js(g)||Is(g))return g=vr(g,p.mode,x,null),g.return=p,g;wa(p,g)}return null}function f(p,g,x,j){var N=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:l(p,g,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ca:return x.key===N?c(p,g,x,j):null;case Br:return x.key===N?u(p,g,x,j):null;case _n:return N=x._init,f(p,g,N(x._payload),j)}if(Js(x)||Is(x))return N!==null?null:d(p,g,x,j,null);wa(p,x)}return null}function m(p,g,x,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return p=p.get(x)||null,l(g,p,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ca:return p=p.get(j.key===null?x:j.key)||null,c(g,p,j,N);case Br:return p=p.get(j.key===null?x:j.key)||null,u(g,p,j,N);case _n:var S=j._init;return m(p,g,x,S(j._payload),N)}if(Js(j)||Is(j))return p=p.get(x)||null,d(g,p,j,N,null);wa(g,j)}return null}function v(p,g,x,j){for(var N=null,S=null,_=g,C=g=0,D=null;_!==null&&C<x.length;C++){_.index>C?(D=_,_=null):D=_.sibling;var V=f(p,_,x[C],j);if(V===null){_===null&&(_=D);break}e&&_&&V.alternate===null&&t(p,_),g=a(V,g,C),S===null?N=V:S.sibling=V,S=V,_=D}if(C===x.length)return n(p,_),xe&&ir(p,C),N;if(_===null){for(;C<x.length;C++)_=h(p,x[C],j),_!==null&&(g=a(_,g,C),S===null?N=_:S.sibling=_,S=_);return xe&&ir(p,C),N}for(_=r(p,_);C<x.length;C++)D=m(_,p,C,x[C],j),D!==null&&(e&&D.alternate!==null&&_.delete(D.key===null?C:D.key),g=a(D,g,C),S===null?N=D:S.sibling=D,S=D);return e&&_.forEach(function(K){return t(p,K)}),xe&&ir(p,C),N}function y(p,g,x,j){var N=Is(x);if(typeof N!="function")throw Error(I(150));if(x=N.call(x),x==null)throw Error(I(151));for(var S=N=null,_=g,C=g=0,D=null,V=x.next();_!==null&&!V.done;C++,V=x.next()){_.index>C?(D=_,_=null):D=_.sibling;var K=f(p,_,V.value,j);if(K===null){_===null&&(_=D);break}e&&_&&K.alternate===null&&t(p,_),g=a(K,g,C),S===null?N=K:S.sibling=K,S=K,_=D}if(V.done)return n(p,_),xe&&ir(p,C),N;if(_===null){for(;!V.done;C++,V=x.next())V=h(p,V.value,j),V!==null&&(g=a(V,g,C),S===null?N=V:S.sibling=V,S=V);return xe&&ir(p,C),N}for(_=r(p,_);!V.done;C++,V=x.next())V=m(_,p,C,V.value,j),V!==null&&(e&&V.alternate!==null&&_.delete(V.key===null?C:V.key),g=a(V,g,C),S===null?N=V:S.sibling=V,S=V);return e&&_.forEach(function(B){return t(p,B)}),xe&&ir(p,C),N}function b(p,g,x,j){if(typeof x=="object"&&x!==null&&x.type===Hr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ca:e:{for(var N=x.key,S=g;S!==null;){if(S.key===N){if(N=x.type,N===Hr){if(S.tag===7){n(p,S.sibling),g=s(S,x.props.children),g.return=p,p=g;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===_n&&Cf(N)===S.type){n(p,S.sibling),g=s(S,x.props),g.ref=Fs(p,S,x),g.return=p,p=g;break e}n(p,S);break}else t(p,S);S=S.sibling}x.type===Hr?(g=vr(x.props.children,p.mode,j,x.key),g.return=p,p=g):(j=Ka(x.type,x.key,x.props,null,p.mode,j),j.ref=Fs(p,g,x),j.return=p,p=j)}return o(p);case Br:e:{for(S=x.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){n(p,g.sibling),g=s(g,x.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else t(p,g);g=g.sibling}g=Zl(x,p.mode,j),g.return=p,p=g}return o(p);case _n:return S=x._init,b(p,g,S(x._payload),j)}if(Js(x))return v(p,g,x,j);if(Is(x))return y(p,g,x,j);wa(p,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(n(p,g.sibling),g=s(g,x),g.return=p,p=g):(n(p,g),g=Jl(x,p.mode,j),g.return=p,p=g),o(p)):n(p,g)}return b}var gs=lg(!0),cg=lg(!1),ho=Qn(null),fo=null,Jr=null,kd=null;function Ed(){kd=Jr=fo=null}function Cd(e){var t=ho.current;fe(ho),e._currentValue=t}function eu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cs(e,t){fo=e,kd=Jr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(at=!0),e.firstContext=null)}function kt(e){var t=e._currentValue;if(kd!==e)if(e={context:e,memoizedValue:t,next:null},Jr===null){if(fo===null)throw Error(I(308));Jr=e,fo.dependencies={lanes:0,firstContext:e}}else Jr=Jr.next=e;return t}var fr=null;function Td(e){fr===null?fr=[e]:fr.push(e)}function ug(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Td(t)):(n.next=s.next,s.next=n),t.interleaved=n,dn(e,r)}function dn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sn=!1;function Pd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function an(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $n(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,dn(e,n)}return s=r.interleaved,s===null?(t.next=t,Td(r)):(t.next=s.next,s.next=t),r.interleaved=t,dn(e,n)}function za(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pd(e,n)}}function Tf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function mo(e,t,n,r){var s=e.updateQueue;Sn=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;o=0,d=u=c=null,l=a;do{var f=l.lane,m=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,y=l;switch(f=t,m=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=be({},h,f);break e;case 2:Sn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Nr|=o,e.lanes=o,e.memoizedState=h}}function Pf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(I(191,s));s.call(r)}}}var Qi={},qt=Qn(Qi),Ai=Qn(Qi),Li=Qn(Qi);function mr(e){if(e===Qi)throw Error(I(174));return e}function Ad(e,t){switch(ce(Li,t),ce(Ai,e),ce(qt,Qi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Oc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Oc(t,e)}fe(qt),ce(qt,t)}function xs(){fe(qt),fe(Ai),fe(Li)}function hg(e){mr(Li.current);var t=mr(qt.current),n=Oc(t,e.type);t!==n&&(ce(Ai,e),ce(qt,n))}function Ld(e){Ai.current===e&&(fe(qt),fe(Ai))}var ve=Qn(0);function po(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gl=[];function Rd(){for(var e=0;e<Gl.length;e++)Gl[e]._workInProgressVersionPrimary=null;Gl.length=0}var Ba=pn.ReactCurrentDispatcher,ql=pn.ReactCurrentBatchConfig,jr=0,we=null,Pe=null,Ie=null,go=!1,li=!1,Ri=0,wb=0;function Ve(){throw Error(I(321))}function Od(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function Id(e,t,n,r,s,a){if(jr=a,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ba.current=e===null||e.memoizedState===null?_b:Sb,e=n(r,s),li){a=0;do{if(li=!1,Ri=0,25<=a)throw Error(I(301));a+=1,Ie=Pe=null,t.updateQueue=null,Ba.current=kb,e=n(r,s)}while(li)}if(Ba.current=xo,t=Pe!==null&&Pe.next!==null,jr=0,Ie=Pe=we=null,go=!1,t)throw Error(I(300));return e}function Md(){var e=Ri!==0;return Ri=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?we.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function Et(){if(Pe===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=Ie===null?we.memoizedState:Ie.next;if(t!==null)Ie=t,Pe=e;else{if(e===null)throw Error(I(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Ie===null?we.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function Oi(e,t){return typeof t=="function"?t(e):t}function Kl(e){var t=Et(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=Pe,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((jr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,we.lanes|=d,Nr|=d}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=l,Vt(r,t.memoizedState)||(at=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,we.lanes|=a,Nr|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xl(e){var t=Et(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Vt(a,t.memoizedState)||(at=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function fg(){}function mg(e,t){var n=we,r=Et(),s=t(),a=!Vt(r.memoizedState,s);if(a&&(r.memoizedState=s,at=!0),r=r.queue,Dd(xg.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Ie!==null&&Ie.memoizedState.tag&1){if(n.flags|=2048,Ii(9,gg.bind(null,n,r,s,t),void 0,null),Me===null)throw Error(I(349));jr&30||pg(n,t,s)}return s}function pg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function gg(e,t,n,r){t.value=n,t.getSnapshot=r,vg(t)&&yg(e)}function xg(e,t,n){return n(function(){vg(t)&&yg(e)})}function vg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch{return!0}}function yg(e){var t=dn(e,1);t!==null&&Ut(t,e,1,-1)}function Af(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:e},t.queue=e,e=e.dispatch=Nb.bind(null,we,e),[t.memoizedState,e]}function Ii(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function wg(){return Et().memoizedState}function Ha(e,t,n,r){var s=Ht();we.flags|=e,s.memoizedState=Ii(1|t,n,void 0,r===void 0?null:r)}function Xo(e,t,n,r){var s=Et();r=r===void 0?null:r;var a=void 0;if(Pe!==null){var o=Pe.memoizedState;if(a=o.destroy,r!==null&&Od(r,o.deps)){s.memoizedState=Ii(t,n,a,r);return}}we.flags|=e,s.memoizedState=Ii(1|t,n,a,r)}function Lf(e,t){return Ha(8390656,8,e,t)}function Dd(e,t){return Xo(2048,8,e,t)}function bg(e,t){return Xo(4,2,e,t)}function jg(e,t){return Xo(4,4,e,t)}function Ng(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _g(e,t,n){return n=n!=null?n.concat([e]):null,Xo(4,4,Ng.bind(null,t,e),n)}function $d(){}function Sg(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Od(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function kg(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Od(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Eg(e,t,n){return jr&21?(Vt(n,t)||(n=L0(),we.lanes|=n,Nr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=n)}function bb(e,t){var n=ie;ie=n!==0&&4>n?n:4,e(!0);var r=ql.transition;ql.transition={};try{e(!1),t()}finally{ie=n,ql.transition=r}}function Cg(){return Et().memoizedState}function jb(e,t,n){var r=Fn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Tg(e))Pg(t,n);else if(n=ug(e,t,n,r),n!==null){var s=Je();Ut(n,e,r,s),Ag(n,t,r)}}function Nb(e,t,n){var r=Fn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tg(e))Pg(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(s.hasEagerState=!0,s.eagerState=l,Vt(l,o)){var c=t.interleaved;c===null?(s.next=s,Td(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=ug(e,t,s,r),n!==null&&(s=Je(),Ut(n,e,r,s),Ag(n,t,r))}}function Tg(e){var t=e.alternate;return e===we||t!==null&&t===we}function Pg(e,t){li=go=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ag(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pd(e,n)}}var xo={readContext:kt,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},_b={readContext:kt,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:Lf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ha(4194308,4,Ng.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ha(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ha(4,2,e,t)},useMemo:function(e,t){var n=Ht();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ht();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=jb.bind(null,we,e),[r.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:Af,useDebugValue:$d,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=Af(!1),t=e[0];return e=bb.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=we,s=Ht();if(xe){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),Me===null)throw Error(I(349));jr&30||pg(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Lf(xg.bind(null,r,a,e),[e]),r.flags|=2048,Ii(9,gg.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ht(),t=Me.identifierPrefix;if(xe){var n=rn,r=nn;n=(r&~(1<<32-$t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ri++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=wb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Sb={readContext:kt,useCallback:Sg,useContext:kt,useEffect:Dd,useImperativeHandle:_g,useInsertionEffect:bg,useLayoutEffect:jg,useMemo:kg,useReducer:Kl,useRef:wg,useState:function(){return Kl(Oi)},useDebugValue:$d,useDeferredValue:function(e){var t=Et();return Eg(t,Pe.memoizedState,e)},useTransition:function(){var e=Kl(Oi)[0],t=Et().memoizedState;return[e,t]},useMutableSource:fg,useSyncExternalStore:mg,useId:Cg,unstable_isNewReconciler:!1},kb={readContext:kt,useCallback:Sg,useContext:kt,useEffect:Dd,useImperativeHandle:_g,useInsertionEffect:bg,useLayoutEffect:jg,useMemo:kg,useReducer:Xl,useRef:wg,useState:function(){return Xl(Oi)},useDebugValue:$d,useDeferredValue:function(e){var t=Et();return Pe===null?t.memoizedState=e:Eg(t,Pe.memoizedState,e)},useTransition:function(){var e=Xl(Oi)[0],t=Et().memoizedState;return[e,t]},useMutableSource:fg,useSyncExternalStore:mg,useId:Cg,unstable_isNewReconciler:!1};function Rt(e,t){if(e&&e.defaultProps){t=be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function tu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yo={isMounted:function(e){return(e=e._reactInternals)?Tr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Je(),s=Fn(e),a=an(r,s);a.payload=t,n!=null&&(a.callback=n),t=$n(e,a,s),t!==null&&(Ut(t,e,s,r),za(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Je(),s=Fn(e),a=an(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=$n(e,a,s),t!==null&&(Ut(t,e,s,r),za(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Je(),r=Fn(e),s=an(n,r);s.tag=2,t!=null&&(s.callback=t),t=$n(e,s,r),t!==null&&(Ut(t,e,r,n),za(t,e,r))}};function Rf(e,t,n,r,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Ei(n,r)||!Ei(s,a):!0}function Lg(e,t,n){var r=!1,s=Gn,a=t.contextType;return typeof a=="object"&&a!==null?a=kt(a):(s=lt(t)?wr:Ge.current,r=t.contextTypes,a=(r=r!=null)?ms(e,s):Gn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Of(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Yo.enqueueReplaceState(t,t.state,null)}function nu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Pd(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=kt(a):(a=lt(t)?wr:Ge.current,s.context=ms(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(tu(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Yo.enqueueReplaceState(s,s.state,null),mo(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function vs(e,t){try{var n="",r=t;do n+=e1(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Yl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ru(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Eb=typeof WeakMap=="function"?WeakMap:Map;function Rg(e,t,n){n=an(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){yo||(yo=!0,fu=r),ru(e,t)},n}function Og(e,t,n){n=an(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ru(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ru(e,t),typeof r!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function If(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Eb;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Vb.bind(null,e,t,n),t.then(e,e))}function Mf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Df(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=an(-1,1),t.tag=2,$n(n,t,1))),n.lanes|=1),e)}var Cb=pn.ReactCurrentOwner,at=!1;function Qe(e,t,n,r){t.child=e===null?cg(t,null,n,r):gs(t,e.child,n,r)}function $f(e,t,n,r,s){n=n.render;var a=t.ref;return cs(t,s),r=Id(e,t,n,r,a,s),n=Md(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hn(e,t,s)):(xe&&n&&Nd(t),t.flags|=1,Qe(e,t,r,s),t.child)}function Uf(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!Gd(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Ig(e,t,a,r,s)):(e=Ka(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ei,n(o,r)&&e.ref===t.ref)return hn(e,t,s)}return t.flags|=1,e=Vn(a,r),e.ref=t.ref,e.return=t,t.child=e}function Ig(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(Ei(a,r)&&e.ref===t.ref)if(at=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(at=!0);else return t.lanes=e.lanes,hn(e,t,s)}return su(e,t,n,r,s)}function Mg(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(es,dt),dt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(es,dt),dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,ce(es,dt),dt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,ce(es,dt),dt|=r;return Qe(e,t,s,n),t.child}function Dg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function su(e,t,n,r,s){var a=lt(n)?wr:Ge.current;return a=ms(t,a),cs(t,s),n=Id(e,t,n,r,a,s),r=Md(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hn(e,t,s)):(xe&&r&&Nd(t),t.flags|=1,Qe(e,t,n,s),t.child)}function Ff(e,t,n,r,s){if(lt(n)){var a=!0;lo(t)}else a=!1;if(cs(t,s),t.stateNode===null)Wa(e,t),Lg(t,n,r),nu(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=kt(u):(u=lt(n)?wr:Ge.current,u=ms(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Of(t,o,r,u),Sn=!1;var f=t.memoizedState;o.state=f,mo(t,r,o,s),c=t.memoizedState,l!==r||f!==c||ot.current||Sn?(typeof d=="function"&&(tu(t,n,d,r),c=t.memoizedState),(l=Sn||Rf(t,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,dg(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Rt(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=kt(c):(c=lt(n)?wr:Ge.current,c=ms(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Of(t,o,r,c),Sn=!1,f=t.memoizedState,o.state=f,mo(t,r,o,s);var v=t.memoizedState;l!==h||f!==v||ot.current||Sn?(typeof m=="function"&&(tu(t,n,m,r),v=t.memoizedState),(u=Sn||Rf(t,n,u,r,f,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return iu(e,t,n,r,a,s)}function iu(e,t,n,r,s,a){Dg(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Sf(t,n,!1),hn(e,t,a);r=t.stateNode,Cb.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=gs(t,e.child,null,a),t.child=gs(t,null,l,a)):Qe(e,t,l,a),t.memoizedState=r.state,s&&Sf(t,n,!0),t.child}function $g(e){var t=e.stateNode;t.pendingContext?_f(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_f(e,t.context,!1),Ad(e,t.containerInfo)}function Vf(e,t,n,r,s){return ps(),Sd(s),t.flags|=256,Qe(e,t,n,r),t.child}var au={dehydrated:null,treeContext:null,retryLane:0};function ou(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ug(e,t,n){var r=t.pendingProps,s=ve.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ce(ve,s&1),e===null)return Zc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Zo(o,r,0,null),e=vr(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ou(n),t.memoizedState=au,e):Ud(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Tb(e,t,o,r,l,s,n);if(a){a=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Vn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Vn(l,a):(a=vr(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?ou(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=au,r}return a=e.child,e=a.sibling,r=Vn(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ud(e,t){return t=Zo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ba(e,t,n,r){return r!==null&&Sd(r),gs(t,e.child,null,n),e=Ud(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tb(e,t,n,r,s,a,o){if(n)return t.flags&256?(t.flags&=-257,r=Yl(Error(I(422))),ba(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Zo({mode:"visible",children:r.children},s,0,null),a=vr(a,s,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&gs(t,e.child,null,o),t.child.memoizedState=ou(o),t.memoizedState=au,a);if(!(t.mode&1))return ba(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(I(419)),r=Yl(a,r,void 0),ba(e,t,o,r)}if(l=(o&e.childLanes)!==0,at||l){if(r=Me,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,dn(e,s),Ut(r,e,s,-1))}return Wd(),r=Yl(Error(I(421))),ba(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=zb.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ft=Dn(s.nextSibling),mt=t,xe=!0,Mt=null,e!==null&&(bt[jt++]=nn,bt[jt++]=rn,bt[jt++]=br,nn=e.id,rn=e.overflow,br=t),t=Ud(t,r.children),t.flags|=4096,t)}function zf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),eu(e.return,t,n)}function Ql(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Fg(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(Qe(e,t,r.children,n),r=ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zf(e,n,t);else if(e.tag===19)zf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ce(ve,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&po(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ql(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&po(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ql(t,!0,n,null,a);break;case"together":Ql(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=Vn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Vn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Pb(e,t,n){switch(t.tag){case 3:$g(t),ps();break;case 5:hg(t);break;case 1:lt(t.type)&&lo(t);break;case 4:Ad(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ce(ho,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ce(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?Ug(e,t,n):(ce(ve,ve.current&1),e=hn(e,t,n),e!==null?e.sibling:null);ce(ve,ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Fg(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ce(ve,ve.current),r)break;return null;case 22:case 23:return t.lanes=0,Mg(e,t,n)}return hn(e,t,n)}var Vg,lu,zg,Bg;Vg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lu=function(){};zg=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,mr(qt.current);var a=null;switch(n){case"input":s=Pc(e,s),r=Pc(e,r),a=[];break;case"select":s=be({},s,{value:void 0}),r=be({},r,{value:void 0}),a=[];break;case"textarea":s=Rc(e,s),r=Rc(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ao)}Ic(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wi.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&he("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Bg=function(e,t,n,r){n!==r&&(t.flags|=4)};function Vs(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ab(e,t,n){var r=t.pendingProps;switch(_d(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return lt(t.type)&&oo(),ze(t),null;case 3:return r=t.stateNode,xs(),fe(ot),fe(Ge),Rd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ya(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mt!==null&&(gu(Mt),Mt=null))),lu(e,t),ze(t),null;case 5:Ld(t);var s=mr(Li.current);if(n=t.type,e!==null&&t.stateNode!=null)zg(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return ze(t),null}if(e=mr(qt.current),ya(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Wt]=t,r[Pi]=a,e=(t.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(s=0;s<ei.length;s++)he(ei[s],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":Yh(r,a),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},he("invalid",r);break;case"textarea":Jh(r,a),he("invalid",r)}Ic(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&va(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&va(r.textContent,l,e),s=["children",""+l]):wi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&he("scroll",r)}switch(n){case"input":ua(r),Qh(r,a,!0);break;case"textarea":ua(r),Zh(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=ao)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=x0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Wt]=t,e[Pi]=r,Vg(e,t,!1,!1),t.stateNode=e;e:{switch(o=Mc(n,r),n){case"dialog":he("cancel",e),he("close",e),s=r;break;case"iframe":case"object":case"embed":he("load",e),s=r;break;case"video":case"audio":for(s=0;s<ei.length;s++)he(ei[s],e);s=r;break;case"source":he("error",e),s=r;break;case"img":case"image":case"link":he("error",e),he("load",e),s=r;break;case"details":he("toggle",e),s=r;break;case"input":Yh(e,r),s=Pc(e,r),he("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=be({},r,{value:void 0}),he("invalid",e);break;case"textarea":Jh(e,r),s=Rc(e,r),he("invalid",e);break;default:s=r}Ic(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?w0(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&v0(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&bi(e,c):typeof c=="number"&&bi(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(wi.hasOwnProperty(a)?c!=null&&a==="onScroll"&&he("scroll",e):c!=null&&cd(e,a,c,o))}switch(n){case"input":ua(e),Qh(e,r,!1);break;case"textarea":ua(e),Zh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Wn(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?is(e,!!r.multiple,a,!1):r.defaultValue!=null&&is(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ao)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)Bg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=mr(Li.current),mr(qt.current),ya(t)){if(r=t.stateNode,n=t.memoizedProps,r[Wt]=t,(a=r.nodeValue!==n)&&(e=mt,e!==null))switch(e.tag){case 3:va(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&va(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wt]=t,t.stateNode=r}return ze(t),null;case 13:if(fe(ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&ft!==null&&t.mode&1&&!(t.flags&128))og(),ps(),t.flags|=98560,a=!1;else if(a=ya(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(I(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(I(317));a[Wt]=t}else ps(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),a=!1}else Mt!==null&&(gu(Mt),Mt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?Ae===0&&(Ae=3):Wd())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return xs(),lu(e,t),e===null&&Ci(t.stateNode.containerInfo),ze(t),null;case 10:return Cd(t.type._context),ze(t),null;case 17:return lt(t.type)&&oo(),ze(t),null;case 19:if(fe(ve),a=t.memoizedState,a===null)return ze(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Vs(a,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=po(e),o!==null){for(t.flags|=128,Vs(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(ve,ve.current&1|2),t.child}e=e.sibling}a.tail!==null&&_e()>ys&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304)}else{if(!r)if(e=po(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!xe)return ze(t),null}else 2*_e()-a.renderingStartTime>ys&&n!==1073741824&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=_e(),t.sibling=null,n=ve.current,ce(ve,r?n&1|2:n&1),t):(ze(t),null);case 22:case 23:return Hd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?dt&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function Lb(e,t){switch(_d(t),t.tag){case 1:return lt(t.type)&&oo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xs(),fe(ot),fe(Ge),Rd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ld(t),null;case 13:if(fe(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));ps()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(ve),null;case 4:return xs(),null;case 10:return Cd(t.type._context),null;case 22:case 23:return Hd(),null;case 24:return null;default:return null}}var ja=!1,He=!1,Rb=typeof WeakSet=="function"?WeakSet:Set,W=null;function Zr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(e,t,r)}else n.current=null}function cu(e,t,n){try{n()}catch(r){je(e,t,r)}}var Bf=!1;function Ob(e,t){if(Gc=ro,e=K0(),jd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==a||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===a&&++d===r&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(qc={focusedElem:e,selectionRange:n},ro=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,b=v.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?y:Rt(t.type,y),b);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(j){je(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return v=Bf,Bf=!1,v}function ci(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&cu(t,n,a)}s=s.next}while(s!==r)}}function Qo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function uu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Hg(e){var t=e.alternate;t!==null&&(e.alternate=null,Hg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wt],delete t[Pi],delete t[Yc],delete t[gb],delete t[xb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wg(e){return e.tag===5||e.tag===3||e.tag===4}function Hf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function du(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ao));else if(r!==4&&(e=e.child,e!==null))for(du(e,t,n),e=e.sibling;e!==null;)du(e,t,n),e=e.sibling}function hu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(hu(e,t,n),e=e.sibling;e!==null;)hu(e,t,n),e=e.sibling}var De=null,Ot=!1;function wn(e,t,n){for(n=n.child;n!==null;)Gg(e,t,n),n=n.sibling}function Gg(e,t,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Bo,n)}catch{}switch(n.tag){case 5:He||Zr(n,t);case 6:var r=De,s=Ot;De=null,wn(e,t,n),De=r,Ot=s,De!==null&&(Ot?(e=De,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(Ot?(e=De,n=n.stateNode,e.nodeType===8?Hl(e.parentNode,n):e.nodeType===1&&Hl(e,n),Si(e)):Hl(De,n.stateNode));break;case 4:r=De,s=Ot,De=n.stateNode.containerInfo,Ot=!0,wn(e,t,n),De=r,Ot=s;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&cu(n,t,o),s=s.next}while(s!==r)}wn(e,t,n);break;case 1:if(!He&&(Zr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){je(n,t,l)}wn(e,t,n);break;case 21:wn(e,t,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,wn(e,t,n),He=r):wn(e,t,n);break;default:wn(e,t,n)}}function Wf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Rb),t.forEach(function(r){var s=Bb.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Tt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:De=l.stateNode,Ot=!1;break e;case 3:De=l.stateNode.containerInfo,Ot=!0;break e;case 4:De=l.stateNode.containerInfo,Ot=!0;break e}l=l.return}if(De===null)throw Error(I(160));Gg(a,o,s),De=null,Ot=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){je(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qg(t,e),t=t.sibling}function qg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Bt(e),r&4){try{ci(3,e,e.return),Qo(3,e)}catch(y){je(e,e.return,y)}try{ci(5,e,e.return)}catch(y){je(e,e.return,y)}}break;case 1:Tt(t,e),Bt(e),r&512&&n!==null&&Zr(n,n.return);break;case 5:if(Tt(t,e),Bt(e),r&512&&n!==null&&Zr(n,n.return),e.flags&32){var s=e.stateNode;try{bi(s,"")}catch(y){je(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&p0(s,a),Mc(l,o);var u=Mc(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?w0(s,h):d==="dangerouslySetInnerHTML"?v0(s,h):d==="children"?bi(s,h):cd(s,d,h,u)}switch(l){case"input":Ac(s,a);break;case"textarea":g0(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?is(s,!!a.multiple,m,!1):f!==!!a.multiple&&(a.defaultValue!=null?is(s,!!a.multiple,a.defaultValue,!0):is(s,!!a.multiple,a.multiple?[]:"",!1))}s[Pi]=a}catch(y){je(e,e.return,y)}}break;case 6:if(Tt(t,e),Bt(e),r&4){if(e.stateNode===null)throw Error(I(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(y){je(e,e.return,y)}}break;case 3:if(Tt(t,e),Bt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Si(t.containerInfo)}catch(y){je(e,e.return,y)}break;case 4:Tt(t,e),Bt(e);break;case 13:Tt(t,e),Bt(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(zd=_e())),r&4&&Wf(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(He=(u=He)||d,Tt(t,e),He=u):Tt(t,e),Bt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(W=e,d=e.child;d!==null;){for(h=W=d;W!==null;){switch(f=W,m=f.child,f.tag){case 0:case 11:case 14:case 15:ci(4,f,f.return);break;case 1:Zr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){je(r,n,y)}}break;case 5:Zr(f,f.return);break;case 22:if(f.memoizedState!==null){qf(h);continue}}m!==null?(m.return=f,W=m):qf(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=y0("display",o))}catch(y){je(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){je(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Tt(t,e),Bt(e),r&4&&Wf(e);break;case 21:break;default:Tt(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Wg(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(bi(s,""),r.flags&=-33);var a=Hf(e);hu(e,a,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Hf(e);du(e,l,o);break;default:throw Error(I(161))}}catch(c){je(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ib(e,t,n){W=e,Kg(e)}function Kg(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var s=W,a=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ja;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||He;l=ja;var u=He;if(ja=o,(He=c)&&!u)for(W=s;W!==null;)o=W,c=o.child,o.tag===22&&o.memoizedState!==null?Kf(s):c!==null?(c.return=o,W=c):Kf(s);for(;a!==null;)W=a,Kg(a),a=a.sibling;W=s,ja=l,He=u}Gf(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,W=a):Gf(e)}}function Gf(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||Qo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!He)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Rt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Pf(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Pf(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Si(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}He||t.flags&512&&uu(t)}catch(f){je(t,t.return,f)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function qf(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function Kf(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qo(4,t)}catch(c){je(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){je(t,s,c)}}var a=t.return;try{uu(t)}catch(c){je(t,a,c)}break;case 5:var o=t.return;try{uu(t)}catch(c){je(t,o,c)}}}catch(c){je(t,t.return,c)}if(t===e){W=null;break}var l=t.sibling;if(l!==null){l.return=t.return,W=l;break}W=t.return}}var Mb=Math.ceil,vo=pn.ReactCurrentDispatcher,Fd=pn.ReactCurrentOwner,_t=pn.ReactCurrentBatchConfig,ne=0,Me=null,Ee=null,$e=0,dt=0,es=Qn(0),Ae=0,Mi=null,Nr=0,Jo=0,Vd=0,ui=null,st=null,zd=0,ys=1/0,Zt=null,yo=!1,fu=null,Un=null,Na=!1,Ln=null,wo=0,di=0,mu=null,Ga=-1,qa=0;function Je(){return ne&6?_e():Ga!==-1?Ga:Ga=_e()}function Fn(e){return e.mode&1?ne&2&&$e!==0?$e&-$e:yb.transition!==null?(qa===0&&(qa=L0()),qa):(e=ie,e!==0||(e=window.event,e=e===void 0?16:U0(e.type)),e):1}function Ut(e,t,n,r){if(50<di)throw di=0,mu=null,Error(I(185));Ki(e,n,r),(!(ne&2)||e!==Me)&&(e===Me&&(!(ne&2)&&(Jo|=n),Ae===4&&Tn(e,$e)),ct(e,r),n===1&&ne===0&&!(t.mode&1)&&(ys=_e()+500,Ko&&Jn()))}function ct(e,t){var n=e.callbackNode;y1(e,t);var r=no(e,e===Me?$e:0);if(r===0)n!==null&&nf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&nf(n),t===1)e.tag===0?vb(Xf.bind(null,e)):sg(Xf.bind(null,e)),mb(function(){!(ne&6)&&Jn()}),n=null;else{switch(R0(r)){case 1:n=md;break;case 4:n=P0;break;case 16:n=to;break;case 536870912:n=A0;break;default:n=to}n=nx(n,Xg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Xg(e,t){if(Ga=-1,qa=0,ne&6)throw Error(I(327));var n=e.callbackNode;if(us()&&e.callbackNode!==n)return null;var r=no(e,e===Me?$e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=bo(e,r);else{t=r;var s=ne;ne|=2;var a=Qg();(Me!==e||$e!==t)&&(Zt=null,ys=_e()+500,xr(e,t));do try{Ub();break}catch(l){Yg(e,l)}while(1);Ed(),vo.current=a,ne=s,Ee!==null?t=0:(Me=null,$e=0,t=Ae)}if(t!==0){if(t===2&&(s=Vc(e),s!==0&&(r=s,t=pu(e,s))),t===1)throw n=Mi,xr(e,0),Tn(e,r),ct(e,_e()),n;if(t===6)Tn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Db(s)&&(t=bo(e,r),t===2&&(a=Vc(e),a!==0&&(r=a,t=pu(e,a))),t===1))throw n=Mi,xr(e,0),Tn(e,r),ct(e,_e()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:ar(e,st,Zt);break;case 3:if(Tn(e,r),(r&130023424)===r&&(t=zd+500-_e(),10<t)){if(no(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Je(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Xc(ar.bind(null,e,st,Zt),t);break}ar(e,st,Zt);break;case 4:if(Tn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-$t(r);a=1<<o,o=t[o],o>s&&(s=o),r&=~a}if(r=s,r=_e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Mb(r/1960))-r,10<r){e.timeoutHandle=Xc(ar.bind(null,e,st,Zt),r);break}ar(e,st,Zt);break;case 5:ar(e,st,Zt);break;default:throw Error(I(329))}}}return ct(e,_e()),e.callbackNode===n?Xg.bind(null,e):null}function pu(e,t){var n=ui;return e.current.memoizedState.isDehydrated&&(xr(e,t).flags|=256),e=bo(e,t),e!==2&&(t=st,st=n,t!==null&&gu(t)),e}function gu(e){st===null?st=e:st.push.apply(st,e)}function Db(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Vt(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tn(e,t){for(t&=~Vd,t&=~Jo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$t(t),r=1<<n;e[n]=-1,t&=~r}}function Xf(e){if(ne&6)throw Error(I(327));us();var t=no(e,0);if(!(t&1))return ct(e,_e()),null;var n=bo(e,t);if(e.tag!==0&&n===2){var r=Vc(e);r!==0&&(t=r,n=pu(e,r))}if(n===1)throw n=Mi,xr(e,0),Tn(e,t),ct(e,_e()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ar(e,st,Zt),ct(e,_e()),null}function Bd(e,t){var n=ne;ne|=1;try{return e(t)}finally{ne=n,ne===0&&(ys=_e()+500,Ko&&Jn())}}function _r(e){Ln!==null&&Ln.tag===0&&!(ne&6)&&us();var t=ne;ne|=1;var n=_t.transition,r=ie;try{if(_t.transition=null,ie=1,e)return e()}finally{ie=r,_t.transition=n,ne=t,!(ne&6)&&Jn()}}function Hd(){dt=es.current,fe(es)}function xr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,fb(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(_d(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&oo();break;case 3:xs(),fe(ot),fe(Ge),Rd();break;case 5:Ld(r);break;case 4:xs();break;case 13:fe(ve);break;case 19:fe(ve);break;case 10:Cd(r.type._context);break;case 22:case 23:Hd()}n=n.return}if(Me=e,Ee=e=Vn(e.current,null),$e=dt=t,Ae=0,Mi=null,Vd=Jo=Nr=0,st=ui=null,fr!==null){for(t=0;t<fr.length;t++)if(n=fr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,r.next=o}n.pending=r}fr=null}return e}function Yg(e,t){do{var n=Ee;try{if(Ed(),Ba.current=xo,go){for(var r=we.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}go=!1}if(jr=0,Ie=Pe=we=null,li=!1,Ri=0,Fd.current=null,n===null||n.return===null){Ae=1,Mi=t,Ee=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=$e,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Mf(o);if(m!==null){m.flags&=-257,Df(m,o,l,a,t),m.mode&1&&If(a,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}else{if(!(t&1)){If(a,u,t),Wd();break e}c=Error(I(426))}}else if(xe&&l.mode&1){var b=Mf(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Df(b,o,l,a,t),Sd(vs(c,l));break e}}a=c=vs(c,l),Ae!==4&&(Ae=2),ui===null?ui=[a]:ui.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=Rg(a,c,t);Tf(a,p);break e;case 1:l=c;var g=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Un===null||!Un.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=Og(a,l,t);Tf(a,j);break e}}a=a.return}while(a!==null)}Zg(n)}catch(N){t=N,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(1)}function Qg(){var e=vo.current;return vo.current=xo,e===null?xo:e}function Wd(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Me===null||!(Nr&268435455)&&!(Jo&268435455)||Tn(Me,$e)}function bo(e,t){var n=ne;ne|=2;var r=Qg();(Me!==e||$e!==t)&&(Zt=null,xr(e,t));do try{$b();break}catch(s){Yg(e,s)}while(1);if(Ed(),ne=n,vo.current=r,Ee!==null)throw Error(I(261));return Me=null,$e=0,Ae}function $b(){for(;Ee!==null;)Jg(Ee)}function Ub(){for(;Ee!==null&&!u1();)Jg(Ee)}function Jg(e){var t=tx(e.alternate,e,dt);e.memoizedProps=e.pendingProps,t===null?Zg(e):Ee=t,Fd.current=null}function Zg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Lb(n,t),n!==null){n.flags&=32767,Ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Ee=null;return}}else if(n=Ab(n,t,dt),n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Ae===0&&(Ae=5)}function ar(e,t,n){var r=ie,s=_t.transition;try{_t.transition=null,ie=1,Fb(e,t,n,r)}finally{_t.transition=s,ie=r}return null}function Fb(e,t,n,r){do us();while(Ln!==null);if(ne&6)throw Error(I(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(w1(e,a),e===Me&&(Ee=Me=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Na||(Na=!0,nx(to,function(){return us(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=_t.transition,_t.transition=null;var o=ie;ie=1;var l=ne;ne|=4,Fd.current=null,Ob(e,n),qg(n,e),ab(qc),ro=!!Gc,qc=Gc=null,e.current=n,Ib(n),d1(),ne=l,ie=o,_t.transition=a}else e.current=n;if(Na&&(Na=!1,Ln=e,wo=s),a=e.pendingLanes,a===0&&(Un=null),m1(n.stateNode),ct(e,_e()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(yo)throw yo=!1,e=fu,fu=null,e;return wo&1&&e.tag!==0&&us(),a=e.pendingLanes,a&1?e===mu?di++:(di=0,mu=e):di=0,Jn(),null}function us(){if(Ln!==null){var e=R0(wo),t=_t.transition,n=ie;try{if(_t.transition=null,ie=16>e?16:e,Ln===null)var r=!1;else{if(e=Ln,Ln=null,wo=0,ne&6)throw Error(I(331));var s=ne;for(ne|=4,W=e.current;W!==null;){var a=W,o=a.child;if(W.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(W=u;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:ci(8,d,a)}var h=d.child;if(h!==null)h.return=d,W=h;else for(;W!==null;){d=W;var f=d.sibling,m=d.return;if(Hg(d),d===u){W=null;break}if(f!==null){f.return=m,W=f;break}W=m}}}var v=a.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}W=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,W=o;else e:for(;W!==null;){if(a=W,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ci(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,W=p;break e}W=a.return}}var g=e.current;for(W=g;W!==null;){o=W;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,W=x;else e:for(o=g;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qo(9,l)}}catch(N){je(l,l.return,N)}if(l===o){W=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,W=j;break e}W=l.return}}if(ne=s,Jn(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Bo,e)}catch{}r=!0}return r}finally{ie=n,_t.transition=t}}return!1}function Yf(e,t,n){t=vs(n,t),t=Rg(e,t,1),e=$n(e,t,1),t=Je(),e!==null&&(Ki(e,1,t),ct(e,t))}function je(e,t,n){if(e.tag===3)Yf(e,e,n);else for(;t!==null;){if(t.tag===3){Yf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Un===null||!Un.has(r))){e=vs(n,e),e=Og(t,e,1),t=$n(t,e,1),e=Je(),t!==null&&(Ki(t,1,e),ct(t,e));break}}t=t.return}}function Vb(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Je(),e.pingedLanes|=e.suspendedLanes&n,Me===e&&($e&n)===n&&(Ae===4||Ae===3&&($e&130023424)===$e&&500>_e()-zd?xr(e,0):Vd|=n),ct(e,t)}function ex(e,t){t===0&&(e.mode&1?(t=fa,fa<<=1,!(fa&130023424)&&(fa=4194304)):t=1);var n=Je();e=dn(e,t),e!==null&&(Ki(e,t,n),ct(e,n))}function zb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ex(e,n)}function Bb(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),ex(e,n)}var tx;tx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ot.current)at=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return at=!1,Pb(e,t,n);at=!!(e.flags&131072)}else at=!1,xe&&t.flags&1048576&&ig(t,uo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var s=ms(t,Ge.current);cs(t,n),s=Id(null,t,r,e,s,n);var a=Md();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(r)?(a=!0,lo(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Pd(t),s.updater=Yo,t.stateNode=s,s._reactInternals=t,nu(t,r,e,n),t=iu(null,t,r,!0,a,n)):(t.tag=0,xe&&a&&Nd(t),Qe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Wb(r),e=Rt(r,e),s){case 0:t=su(null,t,r,e,n);break e;case 1:t=Ff(null,t,r,e,n);break e;case 11:t=$f(null,t,r,e,n);break e;case 14:t=Uf(null,t,r,Rt(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rt(r,s),su(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rt(r,s),Ff(e,t,r,s,n);case 3:e:{if($g(t),e===null)throw Error(I(387));r=t.pendingProps,a=t.memoizedState,s=a.element,dg(e,t),mo(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=vs(Error(I(423)),t),t=Vf(e,t,r,n,s);break e}else if(r!==s){s=vs(Error(I(424)),t),t=Vf(e,t,r,n,s);break e}else for(ft=Dn(t.stateNode.containerInfo.firstChild),mt=t,xe=!0,Mt=null,n=cg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ps(),r===s){t=hn(e,t,n);break e}Qe(e,t,r,n)}t=t.child}return t;case 5:return hg(t),e===null&&Zc(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,Kc(r,s)?o=null:a!==null&&Kc(r,a)&&(t.flags|=32),Dg(e,t),Qe(e,t,o,n),t.child;case 6:return e===null&&Zc(t),null;case 13:return Ug(e,t,n);case 4:return Ad(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=gs(t,null,r,n):Qe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rt(r,s),$f(e,t,r,s,n);case 7:return Qe(e,t,t.pendingProps,n),t.child;case 8:return Qe(e,t,t.pendingProps.children,n),t.child;case 12:return Qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,ce(ho,r._currentValue),r._currentValue=o,a!==null)if(Vt(a.value,o)){if(a.children===s.children&&!ot.current){t=hn(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=an(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),eu(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(I(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),eu(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Qe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,cs(t,n),s=kt(s),r=r(s),t.flags|=1,Qe(e,t,r,n),t.child;case 14:return r=t.type,s=Rt(r,t.pendingProps),s=Rt(r.type,s),Uf(e,t,r,s,n);case 15:return Ig(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rt(r,s),Wa(e,t),t.tag=1,lt(r)?(e=!0,lo(t)):e=!1,cs(t,n),Lg(t,r,s),nu(t,r,s,n),iu(null,t,r,!0,e,n);case 19:return Fg(e,t,n);case 22:return Mg(e,t,n)}throw Error(I(156,t.tag))};function nx(e,t){return T0(e,t)}function Hb(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,n,r){return new Hb(e,t,n,r)}function Gd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wb(e){if(typeof e=="function")return Gd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dd)return 11;if(e===hd)return 14}return 2}function Vn(e,t){var n=e.alternate;return n===null?(n=Nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ka(e,t,n,r,s,a){var o=2;if(r=e,typeof e=="function")Gd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Hr:return vr(n.children,s,a,t);case ud:o=8,s|=8;break;case kc:return e=Nt(12,n,t,s|2),e.elementType=kc,e.lanes=a,e;case Ec:return e=Nt(13,n,t,s),e.elementType=Ec,e.lanes=a,e;case Cc:return e=Nt(19,n,t,s),e.elementType=Cc,e.lanes=a,e;case h0:return Zo(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case u0:o=10;break e;case d0:o=9;break e;case dd:o=11;break e;case hd:o=14;break e;case _n:o=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=Nt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function vr(e,t,n,r){return e=Nt(7,e,r,t),e.lanes=n,e}function Zo(e,t,n,r){return e=Nt(22,e,r,t),e.elementType=h0,e.lanes=n,e.stateNode={isHidden:!1},e}function Jl(e,t,n){return e=Nt(6,e,null,t),e.lanes=n,e}function Zl(e,t,n){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gb(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rl(0),this.expirationTimes=Rl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function qd(e,t,n,r,s,a,o,l,c){return e=new Gb(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Nt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pd(a),e}function qb(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Br,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function rx(e){if(!e)return Gn;e=e._reactInternals;e:{if(Tr(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(lt(n))return rg(e,n,t)}return t}function sx(e,t,n,r,s,a,o,l,c){return e=qd(n,r,!0,e,s,a,o,l,c),e.context=rx(null),n=e.current,r=Je(),s=Fn(n),a=an(r,s),a.callback=t??null,$n(n,a,s),e.current.lanes=s,Ki(e,s,r),ct(e,r),e}function el(e,t,n,r){var s=t.current,a=Je(),o=Fn(s);return n=rx(n),t.context===null?t.context=n:t.pendingContext=n,t=an(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=$n(s,t,o),e!==null&&(Ut(e,s,o,a),za(e,s,o)),o}function jo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Kd(e,t){Qf(e,t),(e=e.alternate)&&Qf(e,t)}function Kb(){return null}var ix=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xd(e){this._internalRoot=e}tl.prototype.render=Xd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));el(e,t,null,null)};tl.prototype.unmount=Xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_r(function(){el(null,e,null,null)}),t[un]=null}};function tl(e){this._internalRoot=e}tl.prototype.unstable_scheduleHydration=function(e){if(e){var t=M0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Cn.length&&t!==0&&t<Cn[n].priority;n++);Cn.splice(n,0,e),n===0&&$0(e)}};function Yd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jf(){}function Xb(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=jo(o);a.call(u)}}var o=sx(t,r,e,0,null,!1,!1,"",Jf);return e._reactRootContainer=o,e[un]=o.current,Ci(e.nodeType===8?e.parentNode:e),_r(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=jo(c);l.call(u)}}var c=qd(e,0,!1,null,null,!1,!1,"",Jf);return e._reactRootContainer=c,e[un]=c.current,Ci(e.nodeType===8?e.parentNode:e),_r(function(){el(t,c,n,r)}),c}function rl(e,t,n,r,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=jo(o);l.call(c)}}el(t,o,e,s)}else o=Xb(n,t,e,s,r);return jo(o)}O0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Zs(t.pendingLanes);n!==0&&(pd(t,n|1),ct(t,_e()),!(ne&6)&&(ys=_e()+500,Jn()))}break;case 13:_r(function(){var r=dn(e,1);if(r!==null){var s=Je();Ut(r,e,1,s)}}),Kd(e,1)}};gd=function(e){if(e.tag===13){var t=dn(e,134217728);if(t!==null){var n=Je();Ut(t,e,134217728,n)}Kd(e,134217728)}};I0=function(e){if(e.tag===13){var t=Fn(e),n=dn(e,t);if(n!==null){var r=Je();Ut(n,e,t,r)}Kd(e,t)}};M0=function(){return ie};D0=function(e,t){var n=ie;try{return ie=e,t()}finally{ie=n}};$c=function(e,t,n){switch(t){case"input":if(Ac(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=qo(r);if(!s)throw Error(I(90));m0(r),Ac(r,s)}}}break;case"textarea":g0(e,n);break;case"select":t=n.value,t!=null&&is(e,!!n.multiple,t,!1)}};N0=Bd;_0=_r;var Yb={usingClientEntryPoint:!1,Events:[Yi,Kr,qo,b0,j0,Bd]},zs={findFiberByHostInstance:hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qb={bundleType:zs.bundleType,version:zs.version,rendererPackageName:zs.rendererPackageName,rendererConfig:zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=E0(e),e===null?null:e.stateNode},findFiberByHostInstance:zs.findFiberByHostInstance||Kb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_a.isDisabled&&_a.supportsFiber)try{Bo=_a.inject(Qb),Gt=_a}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yb;xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yd(t))throw Error(I(200));return qb(e,t,null,n)};xt.createRoot=function(e,t){if(!Yd(e))throw Error(I(299));var n=!1,r="",s=ix;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=qd(e,1,!1,null,null,n,!1,r,s),e[un]=t.current,Ci(e.nodeType===8?e.parentNode:e),new Xd(t)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=E0(t),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return _r(e)};xt.hydrate=function(e,t,n){if(!nl(t))throw Error(I(200));return rl(null,e,t,!0,n)};xt.hydrateRoot=function(e,t,n){if(!Yd(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",o=ix;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=sx(t,null,e,1,n??null,s,!1,a,o),e[un]=t.current,Ci(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new tl(t)};xt.render=function(e,t,n){if(!nl(t))throw Error(I(200));return rl(null,e,t,!1,n)};xt.unmountComponentAtNode=function(e){if(!nl(e))throw Error(I(40));return e._reactRootContainer?(_r(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[un]=null})}),!0):!1};xt.unstable_batchedUpdates=Bd;xt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nl(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return rl(e,t,n,!1,r)};xt.version="18.3.1-next-f1338f8080-20240426";function ax(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ax)}catch(e){console.error(e)}}ax(),a0.exports=xt;var sl=a0.exports;const Jb=Ss(sl);var Zf=sl;_c.createRoot=Zf.createRoot,_c.hydrateRoot=Zf.hydrateRoot;var ox={exports:{}},Zb="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ej=Zb,tj=ej;function lx(){}function cx(){}cx.resetWarningCache=lx;var nj=function(){function e(r,s,a,o,l,c){if(c!==tj){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:cx,resetWarningCache:lx};return n.PropTypes=n,n};ox.exports=nj();var rj=ox.exports;const pe=Ss(rj);function sj(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var ux=w,ij=sj(ux);function em(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aj(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var oj=!!(typeof window<"u"&&window.document&&window.document.createElement);function lj(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(s){return s.displayName||s.name||"Component"}return function(a){if(typeof a!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=e(o.map(function(d){return d.props})),u.canUseDOM?t(l):n&&(l=n(l))}var u=function(d){aj(h,d);function h(){return d.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var v=l;return l=void 0,o=[],v};var f=h.prototype;return f.UNSAFE_componentWillMount=function(){o.push(this),c()},f.componentDidUpdate=function(){c()},f.componentWillUnmount=function(){var v=o.indexOf(this);o.splice(v,1),c()},f.render=function(){return ij.createElement(a,this.props)},h}(ux.PureComponent);return em(u,"displayName","SideEffect("+r(a)+")"),em(u,"canUseDOM",oj),u}}var cj=lj;const uj=Ss(cj);var dj=typeof Element<"u",hj=typeof Map=="function",fj=typeof Set=="function",mj=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Xa(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,s;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Xa(e[r],t[r]))return!1;return!0}var a;if(hj&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;for(a=e.entries();!(r=a.next()).done;)if(!Xa(r.value[1],t.get(r.value[0])))return!1;return!0}if(fj&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(mj&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;if(dj&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&e.$$typeof)&&!Xa(e[s[r]],t[s[r]]))return!1;return!0}return e!==e&&t!==t}var pj=function(t,n){try{return Xa(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const gj=Ss(pj);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var tm=Object.getOwnPropertySymbols,xj=Object.prototype.hasOwnProperty,vj=Object.prototype.propertyIsEnumerable;function yj(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function wj(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(a){s[a]=a}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var bj=wj()?Object.assign:function(e,t){for(var n,r=yj(e),s,a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var o in n)xj.call(n,o)&&(r[o]=n[o]);if(tm){s=tm(n);for(var l=0;l<s.length;l++)vj.call(n,s[l])&&(r[s[l]]=n[s[l]])}}return r};const jj=Ss(bj);var yr={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},X={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(X).map(function(e){return X[e]});var ge={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},No={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Di={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},Nj=Object.keys(No).reduce(function(e,t){return e[No[t]]=t,e},{}),_j=[X.NOSCRIPT,X.SCRIPT,X.STYLE],Dt="data-react-helmet",Sj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kj=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ej=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cj=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},nm=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Tj=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},xu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Pj=function(t){var n=ds(t,X.TITLE),r=ds(t,Di.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=ds(t,Di.DEFAULT_TITLE);return n||s||void 0},Aj=function(t){return ds(t,Di.ON_CHANGE_CLIENT_STATE)||function(){}},ec=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,s){return rt({},r,s)},{})},Lj=function(t,n){return n.filter(function(r){return typeof r[X.BASE]<"u"}).map(function(r){return r[X.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var a=Object.keys(s),o=0;o<a.length;o++){var l=a[o],c=l.toLowerCase();if(t.indexOf(c)!==-1&&s[c])return r.concat(s)}return r},[])},Bs=function(t,n,r){var s={};return r.filter(function(a){return Array.isArray(a[t])?!0:(typeof a[t]<"u"&&Mj("Helmet: "+t+' should be of type "Array". Instead found type "'+Sj(a[t])+'"'),!1)}).map(function(a){return a[t]}).reverse().reduce(function(a,o){var l={};o.filter(function(f){for(var m=void 0,v=Object.keys(f),y=0;y<v.length;y++){var b=v[y],p=b.toLowerCase();n.indexOf(p)!==-1&&!(m===ge.REL&&f[m].toLowerCase()==="canonical")&&!(p===ge.REL&&f[p].toLowerCase()==="stylesheet")&&(m=p),n.indexOf(b)!==-1&&(b===ge.INNER_HTML||b===ge.CSS_TEXT||b===ge.ITEM_PROP)&&(m=b)}if(!m||!f[m])return!1;var g=f[m].toLowerCase();return s[m]||(s[m]={}),l[m]||(l[m]={}),s[m][g]?!1:(l[m][g]=!0,!0)}).reverse().forEach(function(f){return a.push(f)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],h=jj({},s[d],l[d]);s[d]=h}return a},[]).reverse()},ds=function(t,n){for(var r=t.length-1;r>=0;r--){var s=t[r];if(s.hasOwnProperty(n))return s[n]}return null},Rj=function(t){return{baseTag:Lj([ge.HREF,ge.TARGET],t),bodyAttributes:ec(yr.BODY,t),defer:ds(t,Di.DEFER),encode:ds(t,Di.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:ec(yr.HTML,t),linkTags:Bs(X.LINK,[ge.REL,ge.HREF],t),metaTags:Bs(X.META,[ge.NAME,ge.CHARSET,ge.HTTPEQUIV,ge.PROPERTY,ge.ITEM_PROP],t),noscriptTags:Bs(X.NOSCRIPT,[ge.INNER_HTML],t),onChangeClientState:Aj(t),scriptTags:Bs(X.SCRIPT,[ge.SRC,ge.INNER_HTML],t),styleTags:Bs(X.STYLE,[ge.CSS_TEXT],t),title:Pj(t),titleAttributes:ec(yr.TITLE,t)}},vu=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){vu(t)},0)}}(),rm=function(t){return clearTimeout(t)},Oj=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||vu:global.requestAnimationFrame||vu,Ij=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||rm:global.cancelAnimationFrame||rm,Mj=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Hs=null,Dj=function(t){Hs&&Ij(Hs),t.defer?Hs=Oj(function(){sm(t,function(){Hs=null})}):(sm(t),Hs=null)},sm=function(t,n){var r=t.baseTag,s=t.bodyAttributes,a=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.onChangeClientState,d=t.scriptTags,h=t.styleTags,f=t.title,m=t.titleAttributes;yu(X.BODY,s),yu(X.HTML,a),$j(f,m);var v={baseTag:Dr(X.BASE,r),linkTags:Dr(X.LINK,o),metaTags:Dr(X.META,l),noscriptTags:Dr(X.NOSCRIPT,c),scriptTags:Dr(X.SCRIPT,d),styleTags:Dr(X.STYLE,h)},y={},b={};Object.keys(v).forEach(function(p){var g=v[p],x=g.newTags,j=g.oldTags;x.length&&(y[p]=x),j.length&&(b[p]=v[p].oldTags)}),n&&n(),u(t,y,b)},dx=function(t){return Array.isArray(t)?t.join(""):t},$j=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=dx(t)),yu(X.TITLE,n)},yu=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var s=r.getAttribute(Dt),a=s?s.split(","):[],o=[].concat(a),l=Object.keys(n),c=0;c<l.length;c++){var u=l[c],d=n[u]||"";r.getAttribute(u)!==d&&r.setAttribute(u,d),a.indexOf(u)===-1&&a.push(u);var h=o.indexOf(u);h!==-1&&o.splice(h,1)}for(var f=o.length-1;f>=0;f--)r.removeAttribute(o[f]);a.length===o.length?r.removeAttribute(Dt):r.getAttribute(Dt)!==l.join(",")&&r.setAttribute(Dt,l.join(","))}},Dr=function(t,n){var r=document.head||document.querySelector(X.HEAD),s=r.querySelectorAll(t+"["+Dt+"]"),a=Array.prototype.slice.call(s),o=[],l=void 0;return n&&n.length&&n.forEach(function(c){var u=document.createElement(t);for(var d in c)if(c.hasOwnProperty(d))if(d===ge.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===ge.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[d]>"u"?"":c[d];u.setAttribute(d,h)}u.setAttribute(Dt,"true"),a.some(function(f,m){return l=m,u.isEqualNode(f)})?a.splice(l,1):o.push(u)}),a.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return r.appendChild(c)}),{oldTags:a,newTags:o}},hx=function(t){return Object.keys(t).reduce(function(n,r){var s=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+s:s},"")},Uj=function(t,n,r,s){var a=hx(r),o=dx(n);return a?"<"+t+" "+Dt+'="true" '+a+">"+xu(o,s)+"</"+t+">":"<"+t+" "+Dt+'="true">'+xu(o,s)+"</"+t+">"},Fj=function(t,n,r){return n.reduce(function(s,a){var o=Object.keys(a).filter(function(u){return!(u===ge.INNER_HTML||u===ge.CSS_TEXT)}).reduce(function(u,d){var h=typeof a[d]>"u"?d:d+'="'+xu(a[d],r)+'"';return u?u+" "+h:h},""),l=a.innerHTML||a.cssText||"",c=_j.indexOf(t)===-1;return s+"<"+t+" "+Dt+'="true" '+o+(c?"/>":">"+l+"</"+t+">")},"")},fx=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,s){return r[No[s]||s]=t[s],r},n)},Vj=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,s){return r[Nj[s]||s]=t[s],r},n)},zj=function(t,n,r){var s,a=(s={key:n},s[Dt]=!0,s),o=fx(r,a);return[se.createElement(X.TITLE,o,n)]},Bj=function(t,n){return n.map(function(r,s){var a,o=(a={key:s},a[Dt]=!0,a);return Object.keys(r).forEach(function(l){var c=No[l]||l;if(c===ge.INNER_HTML||c===ge.CSS_TEXT){var u=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[c]=r[l]}),se.createElement(t,o)})},Qt=function(t,n,r){switch(t){case X.TITLE:return{toComponent:function(){return zj(t,n.title,n.titleAttributes)},toString:function(){return Uj(t,n.title,n.titleAttributes,r)}};case yr.BODY:case yr.HTML:return{toComponent:function(){return fx(n)},toString:function(){return hx(n)}};default:return{toComponent:function(){return Bj(t,n)},toString:function(){return Fj(t,n,r)}}}},mx=function(t){var n=t.baseTag,r=t.bodyAttributes,s=t.encode,a=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.scriptTags,d=t.styleTags,h=t.title,f=h===void 0?"":h,m=t.titleAttributes;return{base:Qt(X.BASE,n,s),bodyAttributes:Qt(yr.BODY,r,s),htmlAttributes:Qt(yr.HTML,a,s),link:Qt(X.LINK,o,s),meta:Qt(X.META,l,s),noscript:Qt(X.NOSCRIPT,c,s),script:Qt(X.SCRIPT,u,s),style:Qt(X.STYLE,d,s),title:Qt(X.TITLE,{title:f,titleAttributes:m},s)}},Hj=function(t){var n,r;return r=n=function(s){Cj(a,s);function a(){return kj(this,a),Tj(this,s.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(l){return!gj(this.props,l)},a.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case X.SCRIPT:case X.NOSCRIPT:return{innerHTML:c};case X.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,h=l.newChildProps,f=l.nestedChildren;return rt({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[rt({},h,this.mapNestedChildrenToProps(u,f))]),c))},a.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,h=l.newProps,f=l.newChildProps,m=l.nestedChildren;switch(d.type){case X.TITLE:return rt({},h,(c={},c[d.type]=m,c.titleAttributes=rt({},f),c));case X.BODY:return rt({},h,{bodyAttributes:rt({},f)});case X.HTML:return rt({},h,{htmlAttributes:rt({},f)})}return rt({},h,(u={},u[d.type]=rt({},f),u))},a.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=rt({},c);return Object.keys(l).forEach(function(d){var h;u=rt({},u,(h={},h[d]=l[d],h))}),u},a.prototype.warnOnInvalidChildren=function(l,c){return!0},a.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return se.Children.forEach(l,function(h){if(!(!h||!h.props)){var f=h.props,m=f.children,v=nm(f,["children"]),y=Vj(v);switch(u.warnOnInvalidChildren(h,m),h.type){case X.LINK:case X.META:case X.NOSCRIPT:case X.SCRIPT:case X.STYLE:d=u.flattenArrayTypeChildren({child:h,arrayTypeChildren:d,newChildProps:y,nestedChildren:m});break;default:c=u.mapObjectTypeChildren({child:h,newProps:c,newChildProps:y,nestedChildren:m});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},a.prototype.render=function(){var l=this.props,c=l.children,u=nm(l,["children"]),d=rt({},u);return c&&(d=this.mapChildrenToProps(c,d)),se.createElement(t,d)},Ej(a,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),a}(se.Component),n.propTypes={base:pe.object,bodyAttributes:pe.object,children:pe.oneOfType([pe.arrayOf(pe.node),pe.node]),defaultTitle:pe.string,defer:pe.bool,encodeSpecialCharacters:pe.bool,htmlAttributes:pe.object,link:pe.arrayOf(pe.object),meta:pe.arrayOf(pe.object),noscript:pe.arrayOf(pe.object),onChangeClientState:pe.func,script:pe.arrayOf(pe.object),style:pe.arrayOf(pe.object),title:pe.string,titleAttributes:pe.object,titleTemplate:pe.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var s=t.rewind();return s||(s=mx({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},Wj=function(){return null},Gj=uj(Rj,Dj,mx)(Wj),Ce=Hj(Gj);Ce.renderStatic=Ce.rewind;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$i.apply(this,arguments)}var Rn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Rn||(Rn={}));const im="popstate";function qj(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:o,hash:l}=r.location;return wu("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:_o(s)}return Xj(t,n,null,e)}function Se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function px(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Kj(){return Math.random().toString(36).substr(2,8)}function am(e,t){return{usr:e.state,key:e.key,idx:t}}function wu(e,t,n,r){return n===void 0&&(n=null),$i({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ts(t):t,{state:n,key:t&&t.key||r||Kj()})}function _o(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ts(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Xj(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,l=Rn.Pop,c=null,u=d();u==null&&(u=0,o.replaceState($i({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Rn.Pop;let b=d(),p=b==null?null:b-u;u=b,c&&c({action:l,location:y.location,delta:p})}function f(b,p){l=Rn.Push;let g=wu(y.location,b,p);n&&n(g,b),u=d()+1;let x=am(g,u),j=y.createHref(g);try{o.pushState(x,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(j)}a&&c&&c({action:l,location:y.location,delta:1})}function m(b,p){l=Rn.Replace;let g=wu(y.location,b,p);n&&n(g,b),u=d();let x=am(g,u),j=y.createHref(g);o.replaceState(x,"",j),a&&c&&c({action:l,location:y.location,delta:0})}function v(b){let p=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof b=="string"?b:_o(b);return g=g.replace(/ $/,"%20"),Se(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let y={get action(){return l},get location(){return e(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(im,h),c=b,()=>{s.removeEventListener(im,h),c=null}},createHref(b){return t(s,b)},createURL:v,encodeLocation(b){let p=v(b);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:m,go(b){return o.go(b)}};return y}var om;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(om||(om={}));function Yj(e,t,n){return n===void 0&&(n="/"),Qj(e,t,n,!1)}function Qj(e,t,n,r){let s=typeof t=="string"?Ts(t):t,a=Qd(s.pathname||"/",n);if(a==null)return null;let o=gx(e);Jj(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=c2(a);l=o2(o[c],u,r)}return l}function gx(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Se(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=zn([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(Se(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),gx(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:i2(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of xx(a.path))s(a,o,c)}),t}function xx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let o=xx(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Jj(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:a2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Zj=/^:[\w-]+$/,e2=3,t2=2,n2=1,r2=10,s2=-2,lm=e=>e==="*";function i2(e,t){let n=e.split("/"),r=n.length;return n.some(lm)&&(r+=s2),t&&(r+=t2),n.filter(s=>!lm(s)).reduce((s,a)=>s+(Zj.test(a)?e2:a===""?n2:r2),r)}function a2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function o2(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=cm({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=cm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:zn([a,h.pathname]),pathnameBase:f2(zn([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=zn([a,h.pathnameBase]))}return o}function cm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=l2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let y=l[h]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const v=l[h];return m&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function l2(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),px(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function c2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return px(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Qd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function u2(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ts(e):e;return{pathname:n?n.startsWith("/")?n:d2(n,t):t,search:m2(r),hash:p2(s)}}function d2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function tc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function h2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Jd(e,t){let n=h2(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Zd(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ts(e):(s=$i({},e),Se(!s.pathname||!s.pathname.includes("?"),tc("?","pathname","search",s)),Se(!s.pathname||!s.pathname.includes("#"),tc("#","pathname","hash",s)),Se(!s.search||!s.search.includes("#"),tc("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=u2(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const zn=e=>e.join("/").replace(/\/\/+/g,"/"),f2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),m2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,p2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function g2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const vx=["post","put","patch","delete"];new Set(vx);const x2=["get",...vx];new Set(x2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ui(){return Ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ui.apply(this,arguments)}const eh=w.createContext(null),v2=w.createContext(null),Zn=w.createContext(null),il=w.createContext(null),gn=w.createContext({outlet:null,matches:[],isDataRoute:!1}),yx=w.createContext(null);function y2(e,t){let{relative:n}=t===void 0?{}:t;Ps()||Se(!1);let{basename:r,navigator:s}=w.useContext(Zn),{hash:a,pathname:o,search:l}=bx(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:zn([r,o])),s.createHref({pathname:c,search:l,hash:a})}function Ps(){return w.useContext(il)!=null}function Pr(){return Ps()||Se(!1),w.useContext(il).location}function wx(e){w.useContext(Zn).static||w.useLayoutEffect(e)}function As(){let{isDataRoute:e}=w.useContext(gn);return e?L2():w2()}function w2(){Ps()||Se(!1);let e=w.useContext(eh),{basename:t,future:n,navigator:r}=w.useContext(Zn),{matches:s}=w.useContext(gn),{pathname:a}=Pr(),o=JSON.stringify(Jd(s,n.v7_relativeSplatPath)),l=w.useRef(!1);return wx(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=Zd(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:zn([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,a,e])}function al(){let{matches:e}=w.useContext(gn),t=e[e.length-1];return t?t.params:{}}function bx(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(Zn),{matches:s}=w.useContext(gn),{pathname:a}=Pr(),o=JSON.stringify(Jd(s,r.v7_relativeSplatPath));return w.useMemo(()=>Zd(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function b2(e,t){return j2(e,t)}function j2(e,t,n,r){Ps()||Se(!1);let{navigator:s}=w.useContext(Zn),{matches:a}=w.useContext(gn),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Pr(),d;if(t){var h;let b=typeof t=="string"?Ts(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||Se(!1),d=b}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=Yj(e,{pathname:m}),y=E2(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:zn([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:zn([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,n,r);return t&&y?w.createElement(il.Provider,{value:{location:Ui({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Rn.Pop}},y):y}function N2(){let e=A2(),t=g2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:s},n):null,a)}const _2=w.createElement(N2,null);class S2 extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(gn.Provider,{value:this.props.routeContext},w.createElement(yx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k2(e){let{routeContext:t,match:n,children:r}=e,s=w.useContext(eh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(gn.Provider,{value:t},r)}function E2(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Se(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,v=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,v=!1,y=null,b=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||_2,c&&(u<0&&f===0?(R2("route-fallback",!1),v=!0,b=null):u===f&&(v=!0,b=h.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,f+1)),g=()=>{let x;return m?x=y:v?x=b:h.route.Component?x=w.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,w.createElement(k2,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?w.createElement(S2,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var jx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(jx||{}),So=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(So||{});function C2(e){let t=w.useContext(eh);return t||Se(!1),t}function T2(e){let t=w.useContext(v2);return t||Se(!1),t}function P2(e){let t=w.useContext(gn);return t||Se(!1),t}function Nx(e){let t=P2(),n=t.matches[t.matches.length-1];return n.route.id||Se(!1),n.route.id}function A2(){var e;let t=w.useContext(yx),n=T2(So.UseRouteError),r=Nx(So.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function L2(){let{router:e}=C2(jx.UseNavigateStable),t=Nx(So.UseNavigateStable),n=w.useRef(!1);return wx(()=>{n.current=!0}),w.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ui({fromRouteId:t},a)))},[e,t])}const um={};function R2(e,t,n){!t&&!um[e]&&(um[e]=!0)}function O2(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function hi(e){let{to:t,replace:n,state:r,relative:s}=e;Ps()||Se(!1);let{future:a,static:o}=w.useContext(Zn),{matches:l}=w.useContext(gn),{pathname:c}=Pr(),u=As(),d=Zd(t,Jd(l,a.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function Re(e){Se(!1)}function I2(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Rn.Pop,navigator:a,static:o=!1,future:l}=e;Ps()&&Se(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:a,static:o,future:Ui({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof r=="string"&&(r=Ts(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:v="default"}=r,y=w.useMemo(()=>{let b=Qd(d,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:m,key:v},navigationType:s}},[c,d,h,f,m,v,s]);return y==null?null:w.createElement(Zn.Provider,{value:u},w.createElement(il.Provider,{children:n,value:y}))}function M2(e){let{children:t,location:n}=e;return b2(bu(t),n)}new Promise(()=>{});function bu(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,s)=>{if(!w.isValidElement(r))return;let a=[...t,s];if(r.type===w.Fragment){n.push.apply(n,bu(r.props.children,a));return}r.type!==Re&&Se(!1),!r.props.index||!r.props.children||Se(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=bu(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ju(){return ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ju.apply(this,arguments)}function D2(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function $2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function U2(e,t){return e.button===0&&(!t||t==="_self")&&!$2(e)}const F2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],V2="6";try{window.__reactRouterVersion=V2}catch{}const z2="startTransition",dm=s0[z2];function B2(e){let{basename:t,children:n,future:r,window:s}=e,a=w.useRef();a.current==null&&(a.current=qj({window:s,v5Compat:!0}));let o=a.current,[l,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=w.useCallback(h=>{u&&dm?dm(()=>c(h)):c(h)},[c,u]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>O2(r),[r]),w.createElement(I2,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const H2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,te=w.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=D2(t,F2),{basename:m}=w.useContext(Zn),v,y=!1;if(typeof u=="string"&&W2.test(u)&&(v=u,H2))try{let x=new URL(window.location.href),j=u.startsWith("//")?new URL(x.protocol+u):new URL(u),N=Qd(j.pathname,m);j.origin===x.origin&&N!=null?u=N+j.search+j.hash:y=!0}catch{}let b=y2(u,{relative:s}),p=G2(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function g(x){r&&r(x),x.defaultPrevented||p(x)}return w.createElement("a",ju({},f,{href:v||b,onClick:y||a?r:g,ref:n,target:c}))});var hm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(hm||(hm={}));var fm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(fm||(fm={}));function G2(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=As(),u=Pr(),d=bx(e,{relative:o});return w.useCallback(h=>{if(U2(h,n)){h.preventDefault();let f=r!==void 0?r:_o(u)===_o(d);c(e,{replace:f,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,a,o,l])}function _x(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=_x(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Sx(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=_x(e))&&(r&&(r+=" "),r+=t);return r}function q2(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=kx(t))&&(r&&(r+=" "),r+=n);return r}function kx(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=kx(e[r]))&&(n&&(n+=" "),n+=t);return n}var th="-";function K2(e){var t=Y2(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,s=r===void 0?{}:r;function a(l){var c=l.split(th);return c[0]===""&&c.length!==1&&c.shift(),Ex(c,t)||X2(l)}function o(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:a,getConflictingClassGroupIds:o}}function Ex(e,t){var o;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),s=r?Ex(e.slice(1),r):void 0;if(s)return s;if(t.validators.length!==0){var a=e.join(th);return(o=t.validators.find(function(l){var c=l.validator;return c(a)}))==null?void 0:o.classGroupId}}var mm=/^\[(.+)\]$/;function X2(e){if(mm.test(e)){var t=mm.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function Y2(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=J2(Object.entries(e.classGroups),n);return s.forEach(function(a){var o=a[0],l=a[1];Nu(l,r,o,t)}),r}function Nu(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var a=s===""?t:pm(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(Q2(s)){Nu(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(o){var l=o[0],c=o[1];Nu(c,pm(t,l),n,r)})})}function pm(e,t){var n=e;return t.split(th).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function Q2(e){return e.isThemeGetter}function J2(e,t){return t?e.map(function(n){var r=n[0],s=n[1],a=s.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):o});return[r,a]}):e}function Z2(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(a,o){n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(o){var l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return s(o,l),l},set:function(o,l){n.has(o)?n.set(o,l):s(o,l)}}}var Cx="!";function eN(e){var t=e.separator||":",n=t.length===1,r=t[0],s=t.length;return function(o){for(var l=[],c=0,u=0,d,h=0;h<o.length;h++){var f=o[h];if(c===0){if(f===r&&(n||o.slice(h,h+s)===t)){l.push(o.slice(u,h)),u=h+s;continue}if(f==="/"){d=h;continue}}f==="["?c++:f==="]"&&c--}var m=l.length===0?o:o.substring(u),v=m.startsWith(Cx),y=v?m.substring(1):m,b=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:b}}}function tN(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function nN(e){return{cache:Z2(e.cacheSize),splitModifiers:eN(e),...K2(e)}}var rN=/\s+/;function sN(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(rN).map(function(o){var l=n(o),c=l.modifiers,u=l.hasImportantModifier,d=l.baseClassName,h=l.maybePostfixModifierPosition,f=r(h?d.substring(0,h):d),m=!!h;if(!f){if(!h)return{isTailwindClass:!1,originalClassName:o};if(f=r(d),!f)return{isTailwindClass:!1,originalClassName:o};m=!1}var v=tN(c).join(":"),y=u?v+Cx:v;return{isTailwindClass:!0,modifierId:y,classGroupId:f,originalClassName:o,hasPostfixModifier:m}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var l=o.modifierId,c=o.classGroupId,u=o.hasPostfixModifier,d=l+c;return a.has(d)?!1:(a.add(d),s(c,u).forEach(function(h){return a.add(l+h)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function iN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,a,o=l;function l(u){var d=t[0],h=t.slice(1),f=h.reduce(function(m,v){return v(m)},d());return r=nN(f),s=r.cache.get,a=r.cache.set,o=c,c(u)}function c(u){var d=s(u);if(d)return d;var h=sN(u,r);return a(u,h),h}return function(){return o(q2.apply(null,arguments))}}function de(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var Tx=/^\[(?:([a-z-]+):)?(.+)\]$/i,aN=/^\d+\/\d+$/,oN=new Set(["px","full","screen"]),lN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uN=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Pt(e){return pr(e)||oN.has(e)||aN.test(e)||_u(e)}function _u(e){return Ar(e,"length",gN)}function dN(e){return Ar(e,"size",Px)}function hN(e){return Ar(e,"position",Px)}function fN(e){return Ar(e,"url",xN)}function Sa(e){return Ar(e,"number",pr)}function pr(e){return!Number.isNaN(Number(e))}function mN(e){return e.endsWith("%")&&pr(e.slice(0,-1))}function Ws(e){return gm(e)||Ar(e,"number",gm)}function Z(e){return Tx.test(e)}function Gs(){return!0}function bn(e){return lN.test(e)}function pN(e){return Ar(e,"",vN)}function Ar(e,t,n){var r=Tx.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function gN(e){return cN.test(e)}function Px(){return!1}function xN(e){return e.startsWith("url(")}function gm(e){return Number.isInteger(Number(e))}function vN(e){return uN.test(e)}function yN(){var e=de("colors"),t=de("spacing"),n=de("blur"),r=de("brightness"),s=de("borderColor"),a=de("borderRadius"),o=de("borderSpacing"),l=de("borderWidth"),c=de("contrast"),u=de("grayscale"),d=de("hueRotate"),h=de("invert"),f=de("gap"),m=de("gradientColorStops"),v=de("gradientColorStopPositions"),y=de("inset"),b=de("margin"),p=de("opacity"),g=de("padding"),x=de("saturate"),j=de("scale"),N=de("sepia"),S=de("skew"),_=de("space"),C=de("translate"),D=function(){return["auto","contain","none"]},V=function(){return["auto","hidden","clip","visible","scroll"]},K=function(){return["auto",Z,t]},B=function(){return[Z,t]},z=function(){return["",Pt]},k=function(){return["auto",pr,Z]},L=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},$=function(){return["solid","dashed","dotted","double","none"]},H=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},E=function(){return["start","end","center","between","around","evenly","stretch"]},U=function(){return["","0",Z]},P=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},O=function(){return[pr,Sa]},G=function(){return[pr,Z]};return{cacheSize:500,theme:{colors:[Gs],spacing:[Pt],blur:["none","",bn,Z],brightness:O(),borderColor:[e],borderRadius:["none","","full",bn,Z],borderSpacing:B(),borderWidth:z(),contrast:O(),grayscale:U(),hueRotate:G(),invert:U(),gap:B(),gradientColorStops:[e],gradientColorStopPositions:[mN,_u],inset:K(),margin:K(),opacity:O(),padding:B(),saturate:O(),scale:O(),sepia:U(),skew:G(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",Z]}],container:["container"],columns:[{columns:[bn]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(L(),[Z])}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ws]}],basis:[{basis:K()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Z]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Ws]}],"grid-cols":[{"grid-cols":[Gs]}],"col-start-end":[{col:["auto",{span:["full",Ws]},Z]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[Gs]}],"row-start-end":[{row:["auto",{span:[Ws]},Z]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Z]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Z]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal"].concat(E())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(E(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(E(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Z,t]}],"min-w":[{"min-w":["min","max","fit",Z,Pt]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[bn]},bn,Z]}],h:[{h:[Z,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Z,Pt]}],"max-h":[{"max-h":[Z,t,"min","max","fit"]}],"font-size":[{text:["base",bn,_u]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Sa]}],"font-family":[{font:[Gs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Z]}],"line-clamp":[{"line-clamp":["none",pr,Sa]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Z,Pt]}],"list-image":[{"list-image":["none",Z]}],"list-style-type":[{list:["none","disc","decimal",Z]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat($(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Pt]}],"underline-offset":[{"underline-offset":["auto",Z,Pt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Z]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Z]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(L(),[hN])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",dN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fN]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[].concat($(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:$()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat($())}],"outline-offset":[{"outline-offset":[Z,Pt]}],"outline-w":[{outline:[Pt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Pt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",bn,pN]}],"shadow-color":[{shadow:[Gs]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":H()}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",bn,Z]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Z]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Z]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Z]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Ws,Z]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Z]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Z]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Z]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Pt,Sa]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var wN=iN(yN);function xn(...e){return wN(Sx(e))}function ht(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function xm(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ax(...e){return t=>{let n=!1;const r=e.map(s=>{const a=xm(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():xm(e[s],null)}}}}function Sr(...e){return w.useCallback(Ax(...e),e)}function Lx(e,t=[]){let n=[];function r(a,o){const l=w.createContext(o),c=n.length;n=[...n,o];const u=h=>{var p;const{scope:f,children:m,...v}=h,y=((p=f==null?void 0:f[e])==null?void 0:p[c])||l,b=w.useMemo(()=>v,Object.values(v));return i.jsx(y.Provider,{value:b,children:m})};u.displayName=a+"Provider";function d(h,f){var y;const m=((y=f==null?void 0:f[e])==null?void 0:y[c])||l,v=w.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=n.map(o=>w.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,bN(s,...t)]}function bN(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function ko(e){const t=NN(e),n=w.forwardRef((r,s)=>{const{children:a,...o}=r,l=w.Children.toArray(a),c=l.find(SN);if(c){const u=c.props.children,d=l.map(h=>h===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:h);return i.jsx(t,{...o,ref:s,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var jN=ko("Slot");function NN(e){const t=w.forwardRef((n,r)=>{const{children:s,...a}=n;if(w.isValidElement(s)){const o=EN(s),l=kN(a,s.props);return s.type!==w.Fragment&&(l.ref=r?Ax(r,o):o),w.cloneElement(s,l)}return w.Children.count(s)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _N=Symbol("radix.slottable");function SN(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_N}function kN(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function EN(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function CN(e){const t=e+"CollectionProvider",[n,r]=Lx(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:b,children:p}=y,g=se.useRef(null),x=se.useRef(new Map).current;return i.jsx(s,{scope:b,itemMap:x,collectionRef:g,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=ko(l),u=se.forwardRef((y,b)=>{const{scope:p,children:g}=y,x=a(l,p),j=Sr(b,x.collectionRef);return i.jsx(c,{ref:j,children:g})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=ko(d),m=se.forwardRef((y,b)=>{const{scope:p,children:g,...x}=y,j=se.useRef(null),N=Sr(b,j),S=a(d,p);return se.useEffect(()=>(S.itemMap.set(j,{ref:j,...x}),()=>void S.itemMap.delete(j))),i.jsx(f,{[h]:"",ref:N,children:g})});m.displayName=d;function v(y){const b=a(e+"CollectionConsumer",y);return se.useCallback(()=>{const g=b.collectionRef.current;if(!g)return[];const x=Array.from(g.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((S,_)=>x.indexOf(S.ref.current)-x.indexOf(_.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},v,r]}var TN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Yt=TN.reduce((e,t)=>{const n=ko(`Primitive.${t}`),r=w.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Rx(e,t){e&&sl.flushSync(()=>e.dispatchEvent(t))}function kr(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function PN(e,t=globalThis==null?void 0:globalThis.document){const n=kr(e);w.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var AN="DismissableLayer",Su="dismissableLayer.update",LN="dismissableLayer.pointerDownOutside",RN="dismissableLayer.focusOutside",vm,Ox=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ix=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=w.useContext(Ox),[d,h]=w.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=w.useState({}),v=Sr(t,_=>h(_)),y=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=y.indexOf(b),g=d?y.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,j=g>=p,N=IN(_=>{const C=_.target,D=[...u.branches].some(V=>V.contains(C));!j||D||(s==null||s(_),o==null||o(_),_.defaultPrevented||l==null||l())},f),S=MN(_=>{const C=_.target;[...u.branches].some(V=>V.contains(C))||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},f);return PN(_=>{g===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},f),w.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(vm=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),ym(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=vm)}},[d,f,n,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),ym())},[d,u]),w.useEffect(()=>{const _=()=>m({});return document.addEventListener(Su,_),()=>document.removeEventListener(Su,_)},[]),i.jsx(Yt.div,{...c,ref:v,style:{pointerEvents:x?j?"auto":"none":void 0,...e.style},onFocusCapture:ht(e.onFocusCapture,S.onFocusCapture),onBlurCapture:ht(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ht(e.onPointerDownCapture,N.onPointerDownCapture)})});Ix.displayName=AN;var ON="DismissableLayerBranch",Mx=w.forwardRef((e,t)=>{const n=w.useContext(Ox),r=w.useRef(null),s=Sr(t,r);return w.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),i.jsx(Yt.div,{...e,ref:s})});Mx.displayName=ON;function IN(e,t=globalThis==null?void 0:globalThis.document){const n=kr(e),r=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){Dx(LN,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function MN(e,t=globalThis==null?void 0:globalThis.document){const n=kr(e),r=w.useRef(!1);return w.useEffect(()=>{const s=a=>{a.target&&!r.current&&Dx(RN,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ym(){const e=new CustomEvent(Su);document.dispatchEvent(e)}function Dx(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Rx(s,a):s.dispatchEvent(a)}var DN=Ix,$N=Mx,Fi=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},UN="Portal",$x=w.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,a]=w.useState(!1);Fi(()=>a(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Jb.createPortal(i.jsx(Yt.div,{...r,ref:t}),o):null});$x.displayName=UN;function FN(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var Ux=e=>{const{present:t,children:n}=e,r=VN(t),s=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),a=Sr(r.ref,zN(s));return typeof n=="function"||r.isPresent?w.cloneElement(s,{ref:a}):null};Ux.displayName="Presence";function VN(e){const[t,n]=w.useState(),r=w.useRef(null),s=w.useRef(e),a=w.useRef("none"),o=e?"mounted":"unmounted",[l,c]=FN(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=ka(r.current);a.current=l==="mounted"?u:"none"},[l]),Fi(()=>{const u=r.current,d=s.current;if(d!==e){const f=a.current,m=ka(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Fi(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const y=ka(r.current).includes(m.animationName);if(m.target===t&&y&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},f=m=>{m.target===t&&(a.current=ka(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function ka(e){return(e==null?void 0:e.animationName)||"none"}function zN(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var BN=s0[" useInsertionEffect ".trim().toString()]||Fi;function HN({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,o]=WN({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=w.useRef(e!==void 0);w.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=w.useCallback(d=>{var h;if(l){const f=GN(d)?d(e):d;f!==e&&((h=o.current)==null||h.call(o,f))}else a(d)},[l,e,a,o]);return[c,u]}function WN({defaultProp:e,onChange:t}){const[n,r]=w.useState(e),s=w.useRef(n),a=w.useRef(t);return BN(()=>{a.current=t},[t]),w.useEffect(()=>{var o;s.current!==n&&((o=a.current)==null||o.call(a,n),s.current=n)},[n,s]),[n,r,a]}function GN(e){return typeof e=="function"}var qN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),KN="VisuallyHidden",nh=w.forwardRef((e,t)=>i.jsx(Yt.span,{...e,ref:t,style:{...qN,...e.style}}));nh.displayName=KN;var rh="ToastProvider",[sh,XN,YN]=CN("Toast"),[Fx,d5]=Lx("Toast",[YN]),[QN,ol]=Fx(rh),Vx=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=w.useState(null),[u,d]=w.useState(0),h=w.useRef(!1),f=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${rh}\`. Expected non-empty \`string\`.`),i.jsx(sh.Provider,{scope:t,children:i.jsx(QN,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:w.useCallback(()=>d(m=>m+1),[]),onToastRemove:w.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};Vx.displayName=rh;var zx="ToastViewport",JN=["F8"],ku="toast.viewportPause",Eu="toast.viewportResume",Bx=w.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=JN,label:s="Notifications ({hotkey})",...a}=e,o=ol(zx,n),l=XN(n),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),h=w.useRef(null),f=Sr(t,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;w.useEffect(()=>{const b=p=>{var x;r.length!==0&&r.every(j=>p[j]||p.code===j)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),w.useEffect(()=>{const b=c.current,p=h.current;if(v&&b&&p){const g=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(ku);p.dispatchEvent(S),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(Eu);p.dispatchEvent(S),o.isClosePausedRef.current=!1}},j=S=>{!b.contains(S.relatedTarget)&&x()},N=()=>{b.contains(document.activeElement)||x()};return b.addEventListener("focusin",g),b.addEventListener("focusout",j),b.addEventListener("pointermove",g),b.addEventListener("pointerleave",N),window.addEventListener("blur",g),window.addEventListener("focus",x),()=>{b.removeEventListener("focusin",g),b.removeEventListener("focusout",j),b.removeEventListener("pointermove",g),b.removeEventListener("pointerleave",N),window.removeEventListener("blur",g),window.removeEventListener("focus",x)}}},[v,o.isClosePausedRef]);const y=w.useCallback(({tabbingDirection:b})=>{const g=l().map(x=>{const j=x.ref.current,N=[j,...d_(j)];return b==="forwards"?N:N.reverse()});return(b==="forwards"?g.reverse():g).flat()},[l]);return w.useEffect(()=>{const b=h.current;if(b){const p=g=>{var N,S,_;const x=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!x){const C=document.activeElement,D=g.shiftKey;if(g.target===b&&D){(N=u.current)==null||N.focus();return}const B=y({tabbingDirection:D?"backwards":"forwards"}),z=B.findIndex(k=>k===C);nc(B.slice(z+1))?g.preventDefault():D?(S=u.current)==null||S.focus():(_=d.current)==null||_.focus()}};return b.addEventListener("keydown",p),()=>b.removeEventListener("keydown",p)}},[l,y]),i.jsxs($N,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&i.jsx(Cu,{ref:u,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"forwards"});nc(b)}}),i.jsx(sh.Slot,{scope:n,children:i.jsx(Yt.ol,{tabIndex:-1,...a,ref:f})}),v&&i.jsx(Cu,{ref:d,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"backwards"});nc(b)}})]})});Bx.displayName=zx;var Hx="ToastFocusProxy",Cu=w.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,a=ol(Hx,n);return i.jsx(nh,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&r()}})});Cu.displayName=Hx;var Ji="Toast",ZN="toast.swipeStart",e_="toast.swipeMove",t_="toast.swipeCancel",n_="toast.swipeEnd",Wx=w.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:a,...o}=e,[l,c]=HN({prop:r,defaultProp:s??!0,onChange:a,caller:Ji});return i.jsx(Ux,{present:n||l,children:i.jsx(i_,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:kr(e.onPause),onResume:kr(e.onResume),onSwipeStart:ht(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ht(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ht(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ht(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});Wx.displayName=Ji;var[r_,s_]=Fx(Ji,{onClose(){}}),i_=w.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...v}=e,y=ol(Ji,n),[b,p]=w.useState(null),g=Sr(t,k=>p(k)),x=w.useRef(null),j=w.useRef(null),N=s||y.duration,S=w.useRef(0),_=w.useRef(N),C=w.useRef(0),{onToastAdd:D,onToastRemove:V}=y,K=kr(()=>{var L;(b==null?void 0:b.contains(document.activeElement))&&((L=y.viewport)==null||L.focus()),o()}),B=w.useCallback(k=>{!k||k===1/0||(window.clearTimeout(C.current),S.current=new Date().getTime(),C.current=window.setTimeout(K,k))},[K]);w.useEffect(()=>{const k=y.viewport;if(k){const L=()=>{B(_.current),u==null||u()},$=()=>{const H=new Date().getTime()-S.current;_.current=_.current-H,window.clearTimeout(C.current),c==null||c()};return k.addEventListener(ku,$),k.addEventListener(Eu,L),()=>{k.removeEventListener(ku,$),k.removeEventListener(Eu,L)}}},[y.viewport,N,c,u,B]),w.useEffect(()=>{a&&!y.isClosePausedRef.current&&B(N)},[a,N,y.isClosePausedRef,B]),w.useEffect(()=>(D(),()=>V()),[D,V]);const z=w.useMemo(()=>b?Jx(b):null,[b]);return y.viewport?i.jsxs(i.Fragment,{children:[z&&i.jsx(a_,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),i.jsx(r_,{scope:n,onClose:K,children:sl.createPortal(i.jsx(sh.ItemSlot,{scope:n,children:i.jsx(DN,{asChild:!0,onEscapeKeyDown:ht(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||K(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Yt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ht(e.onKeyDown,k=>{k.key==="Escape"&&(l==null||l(k.nativeEvent),k.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,K()))}),onPointerDown:ht(e.onPointerDown,k=>{k.button===0&&(x.current={x:k.clientX,y:k.clientY})}),onPointerMove:ht(e.onPointerMove,k=>{if(!x.current)return;const L=k.clientX-x.current.x,$=k.clientY-x.current.y,H=!!j.current,E=["left","right"].includes(y.swipeDirection),U=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,P=E?U(0,L):0,O=E?0:U(0,$),G=k.pointerType==="touch"?10:2,ee={x:P,y:O},oe={originalEvent:k,delta:ee};H?(j.current=ee,Ea(e_,h,oe,{discrete:!1})):wm(ee,y.swipeDirection,G)?(j.current=ee,Ea(ZN,d,oe,{discrete:!1}),k.target.setPointerCapture(k.pointerId)):(Math.abs(L)>G||Math.abs($)>G)&&(x.current=null)}),onPointerUp:ht(e.onPointerUp,k=>{const L=j.current,$=k.target;if($.hasPointerCapture(k.pointerId)&&$.releasePointerCapture(k.pointerId),j.current=null,x.current=null,L){const H=k.currentTarget,E={originalEvent:k,delta:L};wm(L,y.swipeDirection,y.swipeThreshold)?Ea(n_,m,E,{discrete:!0}):Ea(t_,f,E,{discrete:!0}),H.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),a_=e=>{const{__scopeToast:t,children:n,...r}=e,s=ol(Ji,t),[a,o]=w.useState(!1),[l,c]=w.useState(!1);return c_(()=>o(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx($x,{asChild:!0,children:i.jsx(nh,{...r,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",n]})})})},o_="ToastTitle",Gx=w.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(Yt.div,{...r,ref:t})});Gx.displayName=o_;var l_="ToastDescription",qx=w.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(Yt.div,{...r,ref:t})});qx.displayName=l_;var Kx="ToastAction",Xx=w.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?i.jsx(Qx,{altText:n,asChild:!0,children:i.jsx(ih,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Kx}\`. Expected non-empty \`string\`.`),null)});Xx.displayName=Kx;var Yx="ToastClose",ih=w.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=s_(Yx,n);return i.jsx(Qx,{asChild:!0,children:i.jsx(Yt.button,{type:"button",...r,ref:t,onClick:ht(e.onClick,s.onClose)})})});ih.displayName=Yx;var Qx=w.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return i.jsx(Yt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function Jx(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),u_(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Jx(r))}}),t}function Ea(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Rx(s,a):s.dispatchEvent(a)}var wm=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),a=r>s;return t==="left"||t==="right"?a&&r>n:!a&&s>n};function c_(e=()=>{}){const t=kr(e);Fi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function u_(e){return e.nodeType===e.ELEMENT_NODE}function d_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function nc(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var h_=Vx,Zx=Bx,ev=Wx,tv=Gx,nv=qx,rv=Xx,sv=ih;const bm=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,jm=Sx,iv=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return jm(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=a==null?void 0:a[u];if(d===null)return null;const f=bm(d)||bm(h);return s[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(v=>{let[y,b]=v;return Array.isArray(b)?b.includes({...a,...l}[y]):{...a,...l}[y]===b})?[...u,h,f]:u},[]);return jm(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};var f_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const m_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),M=(e,t)=>{const n=w.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:o,children:l,...c},u)=>w.createElement("svg",{ref:u,...f_,width:s,height:s,stroke:r,strokeWidth:o?Number(a)*24/Number(s):a,className:`lucide lucide-${m_(e)}`,...c},[...t.map(([d,h])=>w.createElement(d,h)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n},Xt=M("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),ws=M("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Zi=M("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),p_=M("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Ft=M("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),av=M("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),ov=M("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),g_=M("BarChartHorizontalBig",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["rect",{width:"12",height:"4",x:"7",y:"5",rx:"1",key:"936jl1"}],["rect",{width:"7",height:"4",x:"7",y:"13",rx:"1",key:"jqfkpy"}]]),x_=M("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Eo=M("BookOpenText",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}],["path",{d:"M6 8h2",key:"30oboj"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M16 12h2",key:"7q9ll5"}]]),We=M("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),v_=M("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]),lv=M("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),cv=M("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),ll=M("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),uv=M("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Ls=M("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),y_=M("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),w_=M("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Nm=M("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),b_=M("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),vn=M("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Tu=M("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),j_=M("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),dv=M("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),fn=M("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Pu=M("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),N_=M("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),qn=M("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),hv=M("FileArchive",[["path",{d:"M4 22V4c0-.5.2-1 .6-1.4C5 2.2 5.5 2 6 2h8.5L20 7.5V20c0 .5-.2 1-.6 1.4-.4.4-.9.6-1.4.6h-2",key:"1u864v"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}]]),re=M("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),ah=M("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),__=M("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]),S_=M("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),k_=M("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),E_=M("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),C_=M("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),T_=M("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),oh=M("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),P_=M("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),fv=M("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),A_=M("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),Co=M("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),To=M("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),L_=M("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),R_=M("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Er=M("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Po=M("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),mv=M("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),O_=M("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),I_=M("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),bs=M("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),pv=M("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),cl=M("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),lh=M("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),Au=M("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),gv=M("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Vi=M("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),M_=M("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),D_=M("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),$_=M("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),ch=M("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),U_=M("School",[["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M14 22v-4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v4",key:"cpkuc4"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]),ul=M("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),xv=M("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),uh=M("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),F_=M("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),V_=M("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),z_=M("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),B_=M("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),H_=M("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),W_=M("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),G_=M("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),q_=M("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Lu=M("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),dh=M("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Lr=M("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),K_=M("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),dl=M("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),Ru=M("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),X_=M("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),vv=M("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),yv=M("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),zi=M("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ue=M("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),wv=M("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),Y_=M("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),Q_=M("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Ou=M("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ea=M("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bv=M("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),J_=M("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Z_=M("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),eS=h_,jv=se.forwardRef(({className:e,...t},n)=>i.jsx(Zx,{ref:n,className:xn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));jv.displayName=Zx.displayName;const tS=iv("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Nv=se.forwardRef(({className:e,variant:t,...n},r)=>i.jsx(ev,{ref:r,className:xn(tS({variant:t}),e),...n}));Nv.displayName=ev.displayName;const nS=se.forwardRef(({className:e,...t},n)=>i.jsx(rv,{ref:n,className:xn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));nS.displayName=rv.displayName;const _v=se.forwardRef(({className:e,...t},n)=>i.jsx(sv,{ref:n,className:xn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(ea,{className:"h-4 w-4"})}));_v.displayName=sv.displayName;const Sv=se.forwardRef(({className:e,...t},n)=>i.jsx(tv,{ref:n,className:xn("text-sm font-semibold",e),...t}));Sv.displayName=tv.displayName;const kv=se.forwardRef(({className:e,...t},n)=>i.jsx(nv,{ref:n,className:xn("text-sm opacity-90",e),...t}));kv.displayName=nv.displayName;const rS=1;let rc=0;function sS(){return rc=(rc+1)%Number.MAX_VALUE,rc.toString()}const Xe={state:{toasts:[]},listeners:[],getState:()=>Xe.state,setState:e=>{typeof e=="function"?Xe.state=e(Xe.state):Xe.state={...Xe.state,...e},Xe.listeners.forEach(t=>t(Xe.state))},subscribe:e=>(Xe.listeners.push(e),()=>{Xe.listeners=Xe.listeners.filter(t=>t!==e)})},iS=({...e})=>{const t=sS(),n=s=>Xe.setState(a=>({...a,toasts:a.toasts.map(o=>o.id===t?{...o,...s}:o)})),r=()=>Xe.setState(s=>({...s,toasts:s.toasts.filter(a=>a.id!==t)}));return Xe.setState(s=>({...s,toasts:[{...e,id:t,dismiss:r},...s.toasts].slice(0,rS)})),{id:t,dismiss:r,update:n}};function ae(){const[e,t]=w.useState(Xe.getState());return w.useEffect(()=>Xe.subscribe(r=>{t(r)}),[]),w.useEffect(()=>{const n=[];return e.toasts.forEach(r=>{if(r.duration===1/0)return;const s=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(s)}),()=>{n.forEach(r=>clearTimeout(r))}},[e.toasts]),{toast:iS,toasts:e.toasts}}function aS(){const{toasts:e}=ae();return i.jsxs(eS,{children:[e.map(({id:t,title:n,description:r,action:s,...a})=>i.jsxs(Nv,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[n&&i.jsx(Sv,{children:n}),r&&i.jsx(kv,{children:r})]}),s,i.jsx(_v,{})]},t)),i.jsx(jv,{})]})}const oS="modulepreload",lS=function(e){return"/"+e},_m={},ta=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=lS(a),a in _m)return;_m[a]=!0;const o=a.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===a&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":oS,o||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),o)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})},cS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ta(()=>Promise.resolve().then(()=>Rs),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class hh extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class uS extends hh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class dS extends hh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class hS extends hh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Iu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Iu||(Iu={}));var fS=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class mS{constructor(t,{headers:n={},customFetch:r,region:s=Iu.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=cS(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return fS(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:o}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(v=>{throw new uS(v)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new dS(d);if(!d.ok)throw new hS(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield d.json():f==="application/octet-stream"?m=yield d.blob():f==="text/event-stream"?m=d:f==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var it={},fh={},hl={},na={},fl={},ml={},pS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},js=pS();const gS=js.fetch,Ev=js.fetch.bind(js),Cv=js.Headers,xS=js.Request,vS=js.Response,Rs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Cv,Request:xS,Response:vS,default:Ev,fetch:gS},Symbol.toStringTag,{value:"Module"})),yS=kw(Rs);var pl={};Object.defineProperty(pl,"__esModule",{value:!0});let wS=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};pl.default=wS;var Tv=St&&St.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ml,"__esModule",{value:!0});const bS=Tv(yS),jS=Tv(pl);let NS=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=bS.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c;let u=null,d=null,h=null,f=a.status,m=a.statusText;if(a.ok){if(this.method!=="HEAD"){const p=await a.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await a.text();try{u=JSON.parse(y),Array.isArray(u)&&a.status===404&&(d=[],u=null,f=200,m="OK")}catch{a.status===404&&y===""?(f=204,m="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&this.shouldThrowOnError)throw new jS.default(u)}return{error:u,data:d,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(s=s.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};ml.default=NS;var _S=St&&St.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fl,"__esModule",{value:!0});const SS=_S(ml);let kS=class extends SS.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:a=s}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};fl.default=kS;var ES=St&&St.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(na,"__esModule",{value:!0});const CS=ES(fl);let TS=class extends CS.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};na.default=TS;var PS=St&&St.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hl,"__esModule",{value:!0});const qs=PS(na);let AS=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new qs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new qs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:a=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new qs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new qs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new qs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};hl.default=AS;var gl={},xl={};Object.defineProperty(xl,"__esModule",{value:!0});xl.version=void 0;xl.version="0.0.0-automated";Object.defineProperty(gl,"__esModule",{value:!0});gl.DEFAULT_HEADERS=void 0;const LS=xl;gl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${LS.version}`};var Pv=St&&St.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fh,"__esModule",{value:!0});const RS=Pv(hl),OS=Pv(na),IS=gl;let MS=class Av{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},IS.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new RS.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Av(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:a}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=n);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new OS.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};fh.default=MS;var Os=St&&St.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(it,"__esModule",{value:!0});it.PostgrestError=it.PostgrestBuilder=it.PostgrestTransformBuilder=it.PostgrestFilterBuilder=it.PostgrestQueryBuilder=it.PostgrestClient=void 0;const Lv=Os(fh);it.PostgrestClient=Lv.default;const Rv=Os(hl);it.PostgrestQueryBuilder=Rv.default;const Ov=Os(na);it.PostgrestFilterBuilder=Ov.default;const Iv=Os(fl);it.PostgrestTransformBuilder=Iv.default;const Mv=Os(ml);it.PostgrestBuilder=Mv.default;const Dv=Os(pl);it.PostgrestError=Dv.default;var DS=it.default={PostgrestClient:Lv.default,PostgrestQueryBuilder:Rv.default,PostgrestFilterBuilder:Ov.default,PostgrestTransformBuilder:Iv.default,PostgrestBuilder:Mv.default,PostgrestError:Dv.default};const{PostgrestClient:$S,PostgrestQueryBuilder:x5,PostgrestFilterBuilder:v5,PostgrestTransformBuilder:y5,PostgrestBuilder:w5,PostgrestError:b5}=DS;let Mu;typeof window>"u"?Mu=require("ws"):Mu=window.WebSocket;const US=Mu,FS="2.11.10",VS={"X-Client-Info":`realtime-js/${FS}`},zS="1.0.0",$v=1e4,BS=1e3;var hs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(hs||(hs={}));var Ke;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ke||(Ke={}));var It;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(It||(It={}));var Du;(function(e){e.websocket="websocket"})(Du||(Du={}));var dr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(dr||(dr={}));class HS{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+s));o=o+s;const c=r.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Uv{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var le;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(le||(le={}));const Sm=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((a,o)=>(a[o]=WS(o,e,t,s),a),{})},WS=(e,t,n,r)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=n[e];return a&&!r.includes(a)?Fv(a,o):$u(o)},Fv=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return XS(t,n)}switch(e){case le.bool:return GS(t);case le.float4:case le.float8:case le.int2:case le.int4:case le.int8:case le.numeric:case le.oid:return qS(t);case le.json:case le.jsonb:return KS(t);case le.timestamp:return YS(t);case le.abstime:case le.date:case le.daterange:case le.int4range:case le.int8range:case le.money:case le.reltime:case le.text:case le.time:case le.timestamptz:case le.timetz:case le.tsrange:case le.tstzrange:return $u(t);default:return $u(t)}},$u=e=>e,GS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},qS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},KS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},XS=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>Fv(t,l))}return e},YS=e=>typeof e=="string"?e.replace(" ","T"):e,Vv=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class sc{constructor(t,n,r={},s=$v){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var km;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(km||(km={}));class fi{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fi.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=fi.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=fi.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const a=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=a[u];if(h){const f=d.map(b=>b.presence_ref),m=h.map(b=>b.presence_ref),v=d.filter(b=>m.indexOf(b.presence_ref)<0),y=h.filter(b=>f.indexOf(b.presence_ref)<0);v.length>0&&(l[u]=v),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Em;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Em||(Em={}));var Cm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Cm||(Cm={}));var en;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(en||(en={}));class mh{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new sc(this,It.join,this.params,this.timeout),this.rejoinTimer=new Uv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ke.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(It.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new fi(this),this.broadcastEndpointURL=Vv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(en.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(en.CLOSED));const c={},u={broadcast:a,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(en.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,v=[];for(let y=0;y<m;y++){const b=f[y],{filter:{event:p,schema:g,table:x,filter:j}}=b,N=d&&d[y];if(N&&N.event===p&&N.schema===g&&N.table===x&&N.filter===j)v.push(Object.assign(Object.assign({},b),{id:N.id}));else{this.unsubscribe(),this.state=Ke.errored,t==null||t(en.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(en.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ke.errored,t==null||t(en.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(en.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ke.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(It.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new sc(this,It.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new sc(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=It;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var v,y,b;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(y=m.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(m=>m.callback(f,r)):(a=this.bindings[o])===null||a===void 0||a.filter(m=>{var v,y,b,p,g,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,N=(v=m.filter)===null||v===void 0?void 0:v.event;return j&&((y=n.ids)===null||y===void 0?void 0:y.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(g=(p=m==null?void 0:m.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return j==="*"||j===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:y,table:b,commit_timestamp:p,type:g,errors:x}=v;f=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:p,eventType:g,new:{},old:{},errors:x}),this._getPayloadRecords(v))}m.callback(f,r)})}_isClosed(){return this.state===Ke.closed}_isJoined(){return this.state===Ke.joined}_isJoining(){return this.state===Ke.joining}_isLeaving(){return this.state===Ke.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),a={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&mh.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(It.close,{},t)}_onError(t){this._on(It.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ke.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Sm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Sm(t.columns,t.old_record)),n}}const Tm=()=>{},QS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class JS{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=VS,this.params={},this.timeout=$v,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Tm,this.ref=0,this.logger=Tm,this.conn=null,this.sendBuffer=[],this.serializer=new HS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>ta(()=>Promise.resolve().then(()=>Rs),void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Du.websocket}`,this.httpEndpoint=Vv(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,o)=>o(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Uv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=US),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new ZS(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:zS}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case hs.connecting:return dr.Connecting;case hs.open:return dr.Open;case hs.closing:return dr.Closing;default:return dr.Closed}}isConnected(){return this.connectionState()===dr.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===r);if(s)return s;{const a=new mh(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(It.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(BS,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:a,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(It.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([QS],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class ZS{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=hs.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class ph extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Oe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ek extends ph{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Uu extends ph{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var tk=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const zv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ta(()=>Promise.resolve().then(()=>Rs),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},nk=()=>tk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ta(()=>Promise.resolve().then(()=>Rs),void 0)).Response:Response}),Fu=e=>{if(Array.isArray(e))return e.map(n=>Fu(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Fu(r)}),t};var Rr=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const ic=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rk=(e,t,n)=>Rr(void 0,void 0,void 0,function*(){const r=yield nk();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new ek(ic(s),e.status||500))}).catch(s=>{t(new Uu(ic(s),s))}):t(new Uu(ic(e),e))}),sk=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function ra(e,t,n,r,s,a){return Rr(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,sk(t,r,s,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>rk(c,l,r))})})}function Ao(e,t,n,r){return Rr(this,void 0,void 0,function*(){return ra(e,"GET",t,n,r)})}function kn(e,t,n,r,s){return Rr(this,void 0,void 0,function*(){return ra(e,"POST",t,r,s,n)})}function ik(e,t,n,r,s){return Rr(this,void 0,void 0,function*(){return ra(e,"PUT",t,r,s,n)})}function ak(e,t,n,r){return Rr(this,void 0,void 0,function*(){return ra(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Bv(e,t,n,r,s){return Rr(this,void 0,void 0,function*(){return ra(e,"DELETE",t,r,s,n)})}var nt=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const ok={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class lk{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=zv(s)}uploadOrUpdate(t,n,r,s){return nt(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},Pm),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(Oe(a))return{data:null,error:a};throw a}})}upload(t,n,r){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return nt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Pm.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:a,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(Oe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return nt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const a=yield kn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new ph("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}update(t,n,r){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return nt(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}copy(t,n,r){return nt(this,void 0,void 0,function*(){try{return{data:{path:(yield kn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return nt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield kn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return nt(this,void 0,void 0,function*(){try{const s=yield kn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}download(t,n){return nt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ao(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Oe(l))return{data:null,error:l};throw l}})}info(t){return nt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Ao(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Fu(r),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}exists(t){return nt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield ak(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Oe(r)&&r instanceof Uu){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&s.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return nt(this,void 0,void 0,function*(){try{return{data:yield Bv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}list(t,n,r){return nt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},ok),n),{prefix:t||""});return{data:yield kn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const ck="2.7.1",uk={"X-Client-Info":`storage-js/${ck}`};var $r=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class dk{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},uk),n),this.fetch=zv(r)}listBuckets(){return $r(this,void 0,void 0,function*(){try{return{data:yield Ao(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Oe(t))return{data:null,error:t};throw t}})}getBucket(t){return $r(this,void 0,void 0,function*(){try{return{data:yield Ao(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return $r(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return $r(this,void 0,void 0,function*(){try{return{data:yield ik(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}emptyBucket(t){return $r(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return $r(this,void 0,void 0,function*(){try{return{data:yield Bv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}}class hk extends dk{constructor(t,n={},r){super(t,n,r)}from(t){return new lk(this.url,this.headers,t,this.fetch)}}const fk="2.50.0";let ti="";typeof Deno<"u"?ti="deno":typeof document<"u"?ti="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ti="react-native":ti="node";const mk={"X-Client-Info":`supabase-js-${ti}/${fk}`},pk={headers:mk},gk={schema:"public"},xk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vk={};var yk=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const wk=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ev:t=fetch,(...n)=>t(...n)},bk=()=>typeof Headers>"u"?Cv:Headers,jk=(e,t,n)=>{const r=wk(n),s=bk();return(a,o)=>yk(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},o),{headers:u}))})};var Nk=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function _k(e){return e.endsWith("/")?e:e+"/"}function Sk(e,t){var n,r;const{db:s,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Nk(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Hv="2.70.0",zr=30*1e3,Vu=3,ac=Vu*zr,kk="http://localhost:9999",Ek="supabase.auth.token",Ck={"X-Client-Info":`gotrue-js/${Hv}`},zu="X-Supabase-Api-Version",Wv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Tk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Pk=6e5;class gh extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Y(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ak extends gh{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Lk(e){return Y(e)&&e.name==="AuthApiError"}class Gv extends gh{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class er extends gh{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class jn extends er{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Rk(e){return Y(e)&&e.name==="AuthSessionMissingError"}class Ca extends er{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ta extends er{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Pa extends er{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ok(e){return Y(e)&&e.name==="AuthImplicitGrantRedirectError"}class Am extends er{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bu extends er{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function oc(e){return Y(e)&&e.name==="AuthRetryableFetchError"}class Lm extends er{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class mi extends er{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Lo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rm=` 	
\r=`.split(""),Ik=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Rm.length;t+=1)e[Rm[t].charCodeAt(0)]=-2;for(let t=0;t<Lo.length;t+=1)e[Lo[t].charCodeAt(0)]=t;return e})();function Om(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Lo[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Lo[r]),t.queuedBits-=6}}function qv(e,t,n){const r=Ik[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Im(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{$k(o,r,n)};for(let o=0;o<e.length;o+=1)qv(e.charCodeAt(o),s,a);return t.join("")}function Mk(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Dk(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Mk(r,t)}}function $k(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Uk(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)qv(e.charCodeAt(s),n,r);return new Uint8Array(t)}function Fk(e){const t=[];return Dk(e,n=>t.push(n)),new Uint8Array(t)}function Vk(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Om(s,n,r)),Om(null,n,r),t.join("")}function zk(e){return Math.round(Date.now()/1e3)+e}function Bk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Lt=()=>typeof window<"u"&&typeof document<"u",rr={tested:!1,writable:!1},pi=()=>{if(!Lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rr.tested)return rr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),rr.tested=!0,rr.writable=!0}catch{rr.tested=!0,rr.writable=!1}return rr.writable};function Hk(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Kv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ta(()=>Promise.resolve().then(()=>Rs),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Wk=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Xv=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Aa=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},La=async(e,t)=>{await e.removeItem(t)};class vl{constructor(){this.promise=new vl.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}vl.promiseConstructor=Promise;function lc(e){const t=e.split(".");if(t.length!==3)throw new mi("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Tk.test(t[r]))throw new mi("JWT not in base64url format");return{header:JSON.parse(Im(t[0])),payload:JSON.parse(Im(t[1])),signature:Uk(t[2]),raw:{header:t[0],payload:t[1]}}}async function Gk(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function qk(e,t){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function Kk(e){return("0"+e.toString(16)).substr(-2)}function Xk(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,Kk).join("")}async function Yk(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function Qk(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Yk(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ur(e,t,n=!1){const r=Xk();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Xv(e,`${t}-code-verifier`,s);const a=await Qk(r);return[a,r===a?"plain":"s256"]}const Jk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Zk(e){const t=e.headers.get(zu);if(!t||!t.match(Jk))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function eE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function tE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fr(e){if(!nE.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var rE=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const or=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sE=[502,503,504];async function Mm(e){var t;if(!Wk(e))throw new Bu(or(e),0);if(sE.includes(e.status))throw new Bu(or(e),e.status);let n;try{n=await e.json()}catch(a){throw new Gv(or(a),a)}let r;const s=Zk(e);if(s&&s.getTime()>=Wv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Lm(or(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new jn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new Lm(or(n),e.status,n.weak_password.reasons);throw new Ak(or(n),e.status||500,r)}const iE=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Q(e,t,n,r){var s;const a=Object.assign({},r==null?void 0:r.headers);a[zu]||(a[zu]=Wv["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await aE(e,t,n+l,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function aE(e,t,n,r,s,a){const o=iE(t,r,s,a);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new Bu(or(c),0)}if(l.ok||await Mm(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Mm(c)}}function Jt(e){var t;let n=null;uE(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=zk(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Dm(e){const t=Jt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Pn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function oE(e){return{data:e,error:null}}function lE(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=e,o=rE(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function cE(e){return e}function uE(e){return e.access_token&&e.refresh_token&&e.expires_in}const cc=["global","local","others"];var dE=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class hE{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Kv(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=cc[0]){if(cc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cc.join(", ")}`);try{return await Q(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Q(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Pn})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=dE(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:lE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Y(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Q(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Pn})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:cE});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Y(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Fr(t);try{return await Q(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Pn})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Fr(t);try{return await Q(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Pn})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Fr(t);try{return await Q(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Pn})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Fr(t.userId);try{const{data:n,error:r}=await Q(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Fr(t.userId),Fr(t.id);try{return{data:await Q(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}}const fE={getItem:e=>pi()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{pi()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{pi()&&globalThis.localStorage.removeItem(e)}};function $m(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function mE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Vr={debug:!!(globalThis&&pi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class pE extends Yv{}async function gE(e,t,n){Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new pE(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Vr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}mE();const xE={url:kk,storageKey:Ek,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ck,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Um(e,t,n){return await n()}class Bi{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Bi.nextInstanceID,Bi.nextInstanceID+=1,this.instanceID>0&&Lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},xE),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new hE({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Kv(s.fetch),this.lock=s.lock||Um,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Lt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=gE:this.lock=Um,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:pi()?this.storage=fE:(this.memoryStorage={},this.storage=$m(this.memoryStorage)):(this.memoryStorage={},this.storage=$m(this.memoryStorage)),Lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Hv}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Hk(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Lt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Ok(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Y(n)?{error:n}:{error:new Gv("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const a=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Jt}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Y(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,s;try{let a;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Ur(this.storage,this.storageKey)),a=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:v},xform:Jt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;a=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Jt})}else throw new Ta("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Y(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Dm})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Dm})}else throw new Ta("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ca}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Y(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,a,o,l,c,u,d,h,f,m;let v,y;if("message"in t)v=t.message,y=t.signature;else{const{chain:b,wallet:p,statement:g,options:x}=t;let j;if(Lt())if(typeof p=="object")j=p;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=p}const N=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),g?{statement:g}:null));let _;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")_=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)_=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)v=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),y=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=S}}try{const{data:b,error:p}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Vk(y)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Jt});if(p)throw p;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Ca}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:p})}catch(b){if(Y(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const n=await Aa(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:a,error:o}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Jt});if(await La(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Ca}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(Y(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:a,nonce:o}=t,l=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Jt}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ca}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Y(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ur(this.storage,this.storageKey));const{error:h}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ta("You must provide either an email or phone number.")}catch(l){if(Y(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,a;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await Q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Jt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Ur(this.storage,this.storageKey)),await Q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:oE})}catch(a){if(Y(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new jn;const{error:s}=await Q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Y(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:a}=t,{error:o}=await Q(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:a}=t,{data:o,error:l}=await Q(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ta("You must provide either an email or phone number and a type")}catch(n){if(Y(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Aa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<ac:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Pn}):await this._useSession(async n=>{var r,s,a;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jn}:await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Pn})})}catch(n){if(Y(n))return Rk(n)&&(await this._removeSession(),await La(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new jn;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ur(this.storage,this.storageKey));const{data:u,error:d}=await Q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Pn});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new jn;const n=Date.now()/1e3;let r=n,s=!0,a=null;const{payload:o}=lc(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Y(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new jn;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Y(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Lt())throw new Pa("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Pa(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Am("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pa("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Am("No code detected.");const{data:g,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new Pa("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=zr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:y,error:b}=await this._getUser(a);if(b)throw b;const p={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(r){if(Y(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Aa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{error:a};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Lk(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await La(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Bk(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ur(this.storage,this.storageKey,!0));try{return await Q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Y(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async a=>{var o,l,c,u,d;const{data:h,error:f}=a;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Q(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Lt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Y(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:o}=n;if(o)throw o;return await Q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await qk(async s=>(s>0&&await Gk(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Jt})),(s,a)=>{const o=200*Math.pow(2,s);return a&&oc(a)&&Date.now()+o-r<zr})}catch(r){if(this._debug(n,"error",r),Y(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Lt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Aa(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ac;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${ac}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),oc(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new jn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new vl;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new jn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),Y(a)){const o={session:null,error:a};return oc(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Xv(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await La(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),zr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/zr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${zr}ms, refresh threshold is ${Vu} ticks`),s<=Vu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Yv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await Ur(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await Q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Q(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:l}=await Q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(Y(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await Q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Y(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=lc(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+Pk>Date.now()))return r;const{data:s,error:a}=await Q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new mi("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===t),!r)throw new mi("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};r=m.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=lc(r);if(eE(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:a,header:s,signature:o},error:null}}const u=tE(s.alg),d=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Fk(`${l}.${c}`)))throw new mi("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}}Bi.nextInstanceID=0;const vE=Bi;class yE extends vE{constructor(t){super(t)}}var wE=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class bE{constructor(t,n,r){var s,a,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=_k(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:gk,realtime:vk,auth:Object.assign(Object.assign({},xk),{storageKey:u}),global:pk},h=Sk(r??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=jk(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new $S(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new mS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new hk(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return wE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:a,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yE({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new JS(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const jE=(e,t,n)=>new bE(e,t,n),NE="https://wjjgnspqiakolhgeqkkz.supabase.co",_E="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indqamduc3BxaWFrb2xoZ2Vxa2t6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAxNTUyMDUsImV4cCI6MjA2NTczMTIwNX0.eooKPqp-iCZWMC5Jz8vzAwADkDqhkrs9-s2A_Of5md0",R=jE(NE,_E),SE="login-learning.com",Qv=w.createContext(),At={SUPER_ADMIN:"super_admin",BRANCH_MANAGER:"branch_manager",INSTRUCTOR:"instructor",STUDENT:"student",PARENT:"parent",GUEST:"guest"},Fm=e=>e?e.toLowerCase().endsWith(`@${SE}`):!1,kE=({children:e})=>{const[t,n]=w.useState(null),[r,s]=w.useState(!0),[a,o]=w.useState(!1),[l,c]=w.useState(At.GUEST),{toast:u}=ae();w.useEffect(()=>{if(!R){console.warn("Supabase client is not initialized. This might be because Supabase URL or Anon Key are missing or incorrect."),u({title:"⚠️ Supabase ยังไม่ได้เริ่มการทำงาน",description:"กรุณาตรวจสอบการตั้งค่า Supabase URL และ Anon Key",variant:"destructive",duration:1e4}),s(!1);return}(async()=>{var g;try{const{data:{session:x},error:j}=await R.auth.getSession();j&&(console.error("Error getting session:",j),u({title:"ข้อผิดพลาดในการโหลดเซสชัน",description:j.message,variant:"destructive"}));const N=(x==null?void 0:x.user)??null;n(N),N?Fm(N.email)?(o(!0),c(At.SUPER_ADMIN)):(o(!1),c(((g=N.user_metadata)==null?void 0:g.role)||At.STUDENT)):(o(!1),c(At.GUEST))}catch(x){console.error("Exception in getSession:",x),u({title:"เกิดข้อผิดพลาดร้ายแรงในการโหลดเซสชัน",description:x.message,variant:"destructive"})}finally{s(!1)}})();const{data:p}=R.auth.onAuthStateChange(async(g,x)=>{var N;const j=(x==null?void 0:x.user)??null;n(j),j?Fm(j.email)?(o(!0),c(At.SUPER_ADMIN)):(o(!1),c(((N=j.user_metadata)==null?void 0:N.role)||At.STUDENT)):(o(!1),c(At.GUEST)),g==="SIGNED_IN"&&j?u({title:`เข้าสู่ระบบสำเร็จในฐานะ ${l}!`}):g==="PASSWORD_RECOVERY"?u({title:"การกู้คืนรหัสผ่าน",description:"คำแนะนำในการกู้คืนรหัสผ่านถูกส่งไปยังอีเมลของคุณแล้ว"}):g==="USER_UPDATED"&&u({title:"ข้อมูลผู้ใช้อัปเดตแล้ว"}),s(!1)});return()=>{p==null||p.subscription.unsubscribe()}},[u]);const y={user:t,isAdmin:a,userRole:l,ROLES:At,hasRole:b=>t?l===At.SUPER_ADMIN?!0:l===b:!1,signInWithPassword:async(b,p)=>{if(!R)return u({title:"Supabase ยังไม่ได้เชื่อมต่อ",description:"กรุณาเชื่อมต่อ Supabase ก่อนใช้งาน",variant:"destructive"}),{error:{message:"Supabase client not initialized"}};s(!0);const{data:g,error:x}=await R.auth.signInWithPassword({email:b,password:p});return s(!1),{data:g,error:x}},signUpWithPassword:async(b,p,g)=>{if(!R)return u({title:"Supabase ยังไม่ได้เชื่อมต่อ",description:"กรุณาเชื่อมต่อ Supabase ก่อนใช้งาน",variant:"destructive"}),{error:{message:"Supabase client not initialized"}};s(!0);const{data:x,error:j}=await R.auth.signUp({email:b,password:p,options:{data:{full_name:g,role:At.STUDENT}}});return s(!1),{data:x,error:j}},signInWithGoogle:async()=>{if(!R)return u({title:"Supabase ยังไม่ได้เชื่อมต่อ",description:"กรุณาเชื่อมต่อ Supabase ก่อนใช้งาน",variant:"destructive"}),{error:{message:"Supabase client not initialized"}};s(!0);const{data:b,error:p}=await R.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});return s(!1),{data:b,error:p}},signOut:async()=>{if(!R)return u({title:"Supabase ยังไม่ได้เชื่อมต่อ",description:"กรุณาเชื่อมต่อ Supabase ก่อนใช้งาน",variant:"destructive"}),{error:{message:"Supabase client not initialized"}};s(!0);const{error:b}=await R.auth.signOut();return s(!1),b||(n(null),o(!1),c(At.GUEST)),{error:b}},loading:r,isSupabaseConnected:!!R};return i.jsx(Qv.Provider,{value:y,children:e})},qe=()=>w.useContext(Qv),Jv=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),yl=w.createContext({}),wl=w.createContext(null),bl=typeof document<"u",xh=bl?w.useLayoutEffect:w.useEffect,Zv=w.createContext({strict:!1}),vh=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),EE="framerAppearId",ey="data-"+vh(EE);function CE(e,t,n,r){const{visualElement:s}=w.useContext(yl),a=w.useContext(Zv),o=w.useContext(wl),l=w.useContext(Jv).reducedMotion,c=w.useRef();r=r||a.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;w.useInsertionEffect(()=>{u&&u.update(n,o)});const d=w.useRef(!!(n[ey]&&!window.HandoffComplete));return xh(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),w.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function ts(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function TE(e,t,n){return w.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ts(n)&&(n.current=r))},[t])}function Hi(e){return typeof e=="string"||Array.isArray(e)}function jl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const yh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wh=["initial",...yh];function Nl(e){return jl(e.animate)||wh.some(t=>Hi(e[t]))}function ty(e){return!!(Nl(e)||e.variants)}function PE(e,t){if(Nl(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Hi(n)?n:void 0,animate:Hi(r)?r:void 0}}return e.inherit!==!1?t:{}}function AE(e){const{initial:t,animate:n}=PE(e,w.useContext(yl));return w.useMemo(()=>({initial:t,animate:n}),[Vm(t),Vm(n)])}function Vm(e){return Array.isArray(e)?e.join(" "):e}const zm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wi={};for(const e in zm)Wi[e]={isEnabled:t=>zm[e].some(n=>!!t[n])};function LE(e){for(const t in e)Wi[t]={...Wi[t],...e[t]}}const bh=w.createContext({}),ny=w.createContext({}),RE=Symbol.for("motionComponentSymbol");function OE({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&LE(e);function a(l,c){let u;const d={...w.useContext(Jv),...l,layoutId:IE(l)},{isStatic:h}=d,f=AE(l),m=r(l,h);if(!h&&bl){f.visualElement=CE(s,m,d,t);const v=w.useContext(ny),y=w.useContext(Zv).strict;f.visualElement&&(u=f.visualElement.loadFeatures(d,y,e,v))}return w.createElement(yl.Provider,{value:f},u&&f.visualElement?w.createElement(u,{visualElement:f.visualElement,...d}):null,n(s,l,TE(m,f.visualElement,c),m,h,f.visualElement))}const o=w.forwardRef(a);return o[RE]=s,o}function IE({layoutId:e}){const t=w.useContext(bh).id;return t&&e!==void 0?t+"-"+e:e}function ME(e){function t(r,s={}){return OE(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const DE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jh(e){return typeof e!="string"||e.includes("-")?!1:!!(DE.indexOf(e)>-1||/[A-Z]/.test(e))}const Ro={};function $E(e){Object.assign(Ro,e)}const sa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Or=new Set(sa);function ry(e,{layout:t,layoutId:n}){return Or.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ro[e]||e==="opacity")}const ut=e=>!!(e&&e.getVelocity),UE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FE=sa.length;function VE(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let a="";for(let o=0;o<FE;o++){const l=sa[o];if(e[l]!==void 0){const c=UE[l]||l;a+=`${c}(${e[l]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),s?a=s(e,r?"":a):n&&r&&(a="none"),a}const sy=e=>t=>typeof t=="string"&&t.startsWith(e),iy=sy("--"),Hu=sy("var(--"),zE=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,BE=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Kn=(e,t,n)=>Math.min(Math.max(n,e),t),Ir={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},gi={...Ir,transform:e=>Kn(0,1,e)},Ra={...Ir,default:1},xi=e=>Math.round(e*1e5)/1e5,_l=/(-)?([\d]*\.?[\d])+/g,ay=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,HE=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ia(e){return typeof e=="string"}const aa=e=>({test:t=>ia(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Nn=aa("deg"),Kt=aa("%"),q=aa("px"),WE=aa("vh"),GE=aa("vw"),Bm={...Kt,parse:e=>Kt.parse(e)/100,transform:e=>Kt.transform(e*100)},Hm={...Ir,transform:Math.round},oy={borderWidth:q,borderTopWidth:q,borderRightWidth:q,borderBottomWidth:q,borderLeftWidth:q,borderRadius:q,radius:q,borderTopLeftRadius:q,borderTopRightRadius:q,borderBottomRightRadius:q,borderBottomLeftRadius:q,width:q,maxWidth:q,height:q,maxHeight:q,size:q,top:q,right:q,bottom:q,left:q,padding:q,paddingTop:q,paddingRight:q,paddingBottom:q,paddingLeft:q,margin:q,marginTop:q,marginRight:q,marginBottom:q,marginLeft:q,rotate:Nn,rotateX:Nn,rotateY:Nn,rotateZ:Nn,scale:Ra,scaleX:Ra,scaleY:Ra,scaleZ:Ra,skew:Nn,skewX:Nn,skewY:Nn,distance:q,translateX:q,translateY:q,translateZ:q,x:q,y:q,z:q,perspective:q,transformPerspective:q,opacity:gi,originX:Bm,originY:Bm,originZ:q,zIndex:Hm,fillOpacity:gi,strokeOpacity:gi,numOctaves:Hm};function Nh(e,t,n,r){const{style:s,vars:a,transform:o,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const h in t){const f=t[h];if(iy(h)){a[h]=f;continue}const m=oy[h],v=BE(f,m);if(Or.has(h)){if(c=!0,o[h]=v,!d)continue;f!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,l[h]=v):s[h]=v}if(t.transform||(c||r?s.transform=VE(e.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:m=0}=l;s.transformOrigin=`${h} ${f} ${m}`}}const _h=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ly(e,t,n){for(const r in t)!ut(t[r])&&!ry(r,n)&&(e[r]=t[r])}function qE({transformTemplate:e},t,n){return w.useMemo(()=>{const r=_h();return Nh(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function KE(e,t,n){const r=e.style||{},s={};return ly(s,r,e),Object.assign(s,qE(e,t,n)),e.transformValues?e.transformValues(s):s}function XE(e,t,n){const r={},s=KE(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const YE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Oo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||YE.has(e)}let cy=e=>!Oo(e);function QE(e){e&&(cy=t=>t.startsWith("on")?!Oo(t):e(t))}try{QE(require("@emotion/is-prop-valid").default)}catch{}function JE(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(cy(s)||n===!0&&Oo(s)||!t&&!Oo(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function Wm(e,t,n){return typeof e=="string"?e:q.transform(t+n*e)}function ZE(e,t,n){const r=Wm(t,e.x,e.width),s=Wm(n,e.y,e.height);return`${r} ${s}`}const eC={offset:"stroke-dashoffset",array:"stroke-dasharray"},tC={offset:"strokeDashoffset",array:"strokeDasharray"};function nC(e,t,n=1,r=0,s=!0){e.pathLength=1;const a=s?eC:tC;e[a.offset]=q.transform(-r);const o=q.transform(t),l=q.transform(n);e[a.array]=`${o} ${l}`}function Sh(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,h,f){if(Nh(e,u,d,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:v,dimensions:y}=e;m.transform&&(y&&(v.transform=m.transform),delete m.transform),y&&(s!==void 0||a!==void 0||v.transform)&&(v.transformOrigin=ZE(y,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&nC(m,o,l,c,!1)}const uy=()=>({..._h(),attrs:{}}),kh=e=>typeof e=="string"&&e.toLowerCase()==="svg";function rC(e,t,n,r){const s=w.useMemo(()=>{const a=uy();return Sh(a,t,{enableHardwareAcceleration:!1},kh(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};ly(a,e.style,e),s.style={...a,...s.style}}return s}function sC(e=!1){return(n,r,s,{latestValues:a},o)=>{const c=(jh(n)?rC:XE)(r,a,o,n),d={...JE(r,typeof n=="string",e),...c,ref:s},{children:h}=r,f=w.useMemo(()=>ut(h)?h.get():h,[h]);return w.createElement(n,{...d,children:f})}}function dy(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const hy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fy(e,t,n,r){dy(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(hy.has(s)?s:vh(s),t.attrs[s])}function Eh(e,t){const{style:n}=e,r={};for(const s in n)(ut(n[s])||t.style&&ut(t.style[s])||ry(s,e))&&(r[s]=n[s]);return r}function my(e,t){const n=Eh(e,t);for(const r in e)if(ut(e[r])||ut(t[r])){const s=sa.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function Ch(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function py(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const Io=e=>Array.isArray(e),iC=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),aC=e=>Io(e)?e[e.length-1]||0:e;function Ya(e){const t=ut(e)?e.get():e;return iC(t)?t.toValue():t}function oC({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,a){const o={latestValues:lC(r,s,a,e),renderState:t()};return n&&(o.mount=l=>n(r,l,o)),o}const gy=e=>(t,n)=>{const r=w.useContext(yl),s=w.useContext(wl),a=()=>oC(e,t,r,s);return n?a():py(a)};function lC(e,t,n,r){const s={},a=r(e,{});for(const f in a)s[f]=Ya(a[f]);let{initial:o,animate:l}=e;const c=Nl(e),u=ty(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?l:o;return h&&typeof h!="boolean"&&!jl(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const v=Ch(e,m);if(!v)return;const{transitionEnd:y,transition:b,...p}=v;for(const g in p){let x=p[g];if(Array.isArray(x)){const j=d?x.length-1:0;x=x[j]}x!==null&&(s[g]=x)}for(const g in y)s[g]=y[g]}),s}const Ne=e=>e;class Gm{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function cC(e){let t=new Gm,n=new Gm,r=0,s=!1,a=!1;const o=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const h=d&&s,f=h?t:n;return u&&o.add(c),f.add(c)&&h&&s&&(r=t.order.length),c},cancel:c=>{n.remove(c),o.delete(c)},process:c=>{if(s){a=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),o.has(d)&&(l.schedule(d),e())}s=!1,a&&(a=!1,l.process(c))}};return l}const Oa=["prepare","read","update","preRender","render","postRender"],uC=40;function dC(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=Oa.reduce((h,f)=>(h[f]=cC(()=>n=!0),h),{}),o=h=>a[h].process(s),l=()=>{const h=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(h-s.timestamp,uC),1),s.timestamp=h,s.isProcessing=!0,Oa.forEach(o),s.isProcessing=!1,n&&t&&(r=!1,e(l))},c=()=>{n=!0,r=!0,s.isProcessing||e(l)};return{schedule:Oa.reduce((h,f)=>{const m=a[f];return h[f]=(v,y=!1,b=!1)=>(n||c(),m.schedule(v,y,b)),h},{}),cancel:h=>Oa.forEach(f=>a[f].cancel(h)),state:s,steps:a}}const{schedule:ue,cancel:mn,state:Be,steps:uc}=dC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ne,!0),hC={useVisualState:gy({scrapeMotionValuesFromProps:my,createRenderState:uy,onMount:(e,t,{renderState:n,latestValues:r})=>{ue.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ue.render(()=>{Sh(n,r,{enableHardwareAcceleration:!1},kh(t.tagName),e.transformTemplate),fy(t,n)})}})},fC={useVisualState:gy({scrapeMotionValuesFromProps:Eh,createRenderState:_h})};function mC(e,{forwardMotionProps:t=!1},n,r){return{...jh(e)?hC:fC,preloadedFeatures:n,useRender:sC(t),createVisualElement:r,Component:e}}function sn(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const xy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Sl(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const pC=e=>t=>xy(t)&&e(t,Sl(t));function on(e,t,n,r){return sn(e,t,pC(n),r)}const gC=(e,t)=>n=>t(e(n)),Bn=(...e)=>e.reduce(gC);function vy(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const qm=vy("dragHorizontal"),Km=vy("dragVertical");function yy(e){let t=!1;if(e==="y")t=Km();else if(e==="x")t=qm();else{const n=qm(),r=Km();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function wy(){const e=yy(!0);return e?(e(),!1):!0}class tr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Xm(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(a,o)=>{if(a.pointerType==="touch"||wy())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&ue.update(()=>l[r](a,o))};return on(e.current,n,s,{passive:!e.getProps()[r]})}class xC extends tr{mount(){this.unmount=Bn(Xm(this.node,!0),Xm(this.node,!1))}unmount(){}}class vC extends tr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bn(sn(this.node.current,"focus",()=>this.onFocus()),sn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const by=(e,t)=>t?e===t?!0:by(e,t.parentElement):!1;function dc(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Sl(n))}class yC extends tr{constructor(){super(...arguments),this.removeStartListeners=Ne,this.removeEndListeners=Ne,this.removeAccessibleListeners=Ne,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=on(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();ue.update(()=>{!h&&!by(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),o=on(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Bn(a,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||dc("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&ue.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=sn(this.node.current,"keyup",o),dc("down",(l,c)=>{this.startPress(l,c)})},n=sn(this.node.current,"keydown",t),r=()=>{this.isPressing&&dc("cancel",(a,o)=>this.cancelPress(a,o))},s=sn(this.node.current,"blur",r);this.removeAccessibleListeners=Bn(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ue.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!wy()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ue.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=on(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=sn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Bn(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Wu=new WeakMap,hc=new WeakMap,wC=e=>{const t=Wu.get(e.target);t&&t(e)},bC=e=>{e.forEach(wC)};function jC({root:e,...t}){const n=e||document;hc.has(n)||hc.set(n,{});const r=hc.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(bC,{root:e,...t})),r[s]}function NC(e,t,n){const r=jC(t);return Wu.set(e,n),r.observe(e),()=>{Wu.delete(e),r.unobserve(e)}}const _C={some:0,all:1};class SC extends tr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:_C[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return NC(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(kC(t,n))&&this.startObserver()}unmount(){}}function kC({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const EC={inView:{Feature:SC},tap:{Feature:yC},focus:{Feature:vC},hover:{Feature:xC}};function jy(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function CC(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function TC(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function kl(e,t,n){const r=e.getProps();return Ch(r,t,n!==void 0?n:r.custom,CC(e),TC(e))}let PC=Ne,Th=Ne;const Hn=e=>e*1e3,ln=e=>e/1e3,AC={current:!1},Ny=e=>Array.isArray(e)&&typeof e[0]=="number";function _y(e){return!!(!e||typeof e=="string"&&Sy[e]||Ny(e)||Array.isArray(e)&&e.every(_y))}const ni=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Sy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ni([0,.65,.55,1]),circOut:ni([.55,0,1,.45]),backIn:ni([.31,.01,.66,-.59]),backOut:ni([.33,1.53,.69,.99])};function ky(e){if(e)return Ny(e)?ni(e):Array.isArray(e)?e.map(ky):Sy[e]}function LC(e,t,n,{delay:r=0,duration:s,repeat:a=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=ky(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function RC(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Ey=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,OC=1e-7,IC=12;function MC(e,t,n,r,s){let a,o,l=0;do o=t+(n-t)/2,a=Ey(o,r,s)-e,a>0?n=o:t=o;while(Math.abs(a)>OC&&++l<IC);return o}function oa(e,t,n,r){if(e===t&&n===r)return Ne;const s=a=>MC(a,0,1,e,n);return a=>a===0||a===1?a:Ey(s(a),t,r)}const DC=oa(.42,0,1,1),$C=oa(0,0,.58,1),Cy=oa(.42,0,.58,1),UC=e=>Array.isArray(e)&&typeof e[0]!="number",Ty=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Py=e=>t=>1-e(1-t),Ph=e=>1-Math.sin(Math.acos(e)),Ay=Py(Ph),FC=Ty(Ph),Ly=oa(.33,1.53,.69,.99),Ah=Py(Ly),VC=Ty(Ah),zC=e=>(e*=2)<1?.5*Ah(e):.5*(2-Math.pow(2,-10*(e-1))),BC={linear:Ne,easeIn:DC,easeInOut:Cy,easeOut:$C,circIn:Ph,circInOut:FC,circOut:Ay,backIn:Ah,backInOut:VC,backOut:Ly,anticipate:zC},Ym=e=>{if(Array.isArray(e)){Th(e.length===4);const[t,n,r,s]=e;return oa(t,n,r,s)}else if(typeof e=="string")return BC[e];return e},Lh=(e,t)=>n=>!!(ia(n)&&HE.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Ry=(e,t,n)=>r=>{if(!ia(r))return r;const[s,a,o,l]=r.match(_l);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},HC=e=>Kn(0,255,e),fc={...Ir,transform:e=>Math.round(HC(e))},gr={test:Lh("rgb","red"),parse:Ry("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+fc.transform(e)+", "+fc.transform(t)+", "+fc.transform(n)+", "+xi(gi.transform(r))+")"};function WC(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Gu={test:Lh("#"),parse:WC,transform:gr.transform},ns={test:Lh("hsl","hue"),parse:Ry("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Kt.transform(xi(t))+", "+Kt.transform(xi(n))+", "+xi(gi.transform(r))+")"},Ye={test:e=>gr.test(e)||Gu.test(e)||ns.test(e),parse:e=>gr.test(e)?gr.parse(e):ns.test(e)?ns.parse(e):Gu.parse(e),transform:e=>ia(e)?e:e.hasOwnProperty("red")?gr.transform(e):ns.transform(e)},ye=(e,t,n)=>-n*e+n*t+e;function mc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function GC({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,a=0,o=0;if(!t)s=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=mc(c,l,e+1/3),a=mc(c,l,e),o=mc(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}const pc=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},qC=[Gu,gr,ns],KC=e=>qC.find(t=>t.test(e));function Qm(e){const t=KC(e);let n=t.parse(e);return t===ns&&(n=GC(n)),n}const Oy=(e,t)=>{const n=Qm(e),r=Qm(t),s={...n};return a=>(s.red=pc(n.red,r.red,a),s.green=pc(n.green,r.green,a),s.blue=pc(n.blue,r.blue,a),s.alpha=ye(n.alpha,r.alpha,a),gr.transform(s))};function XC(e){var t,n;return isNaN(e)&&ia(e)&&(((t=e.match(_l))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(ay))===null||n===void 0?void 0:n.length)||0)>0}const Iy={regex:zE,countKey:"Vars",token:"${v}",parse:Ne},My={regex:ay,countKey:"Colors",token:"${c}",parse:Ye.parse},Dy={regex:_l,countKey:"Numbers",token:"${n}",parse:Ir.parse};function gc(e,{regex:t,countKey:n,token:r,parse:s}){const a=e.tokenised.match(t);a&&(e["num"+n]=a.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...a.map(s)))}function Mo(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&gc(n,Iy),gc(n,My),gc(n,Dy),n}function $y(e){return Mo(e).values}function Uy(e){const{values:t,numColors:n,numVars:r,tokenised:s}=Mo(e),a=t.length;return o=>{let l=s;for(let c=0;c<a;c++)c<r?l=l.replace(Iy.token,o[c]):c<r+n?l=l.replace(My.token,Ye.transform(o[c])):l=l.replace(Dy.token,xi(o[c]));return l}}const YC=e=>typeof e=="number"?0:e;function QC(e){const t=$y(e);return Uy(e)(t.map(YC))}const Xn={test:XC,parse:$y,createTransformer:Uy,getAnimatableNone:QC},Fy=(e,t)=>n=>`${n>0?t:e}`;function Vy(e,t){return typeof e=="number"?n=>ye(e,t,n):Ye.test(e)?Oy(e,t):e.startsWith("var(")?Fy(e,t):By(e,t)}const zy=(e,t)=>{const n=[...e],r=n.length,s=e.map((a,o)=>Vy(a,t[o]));return a=>{for(let o=0;o<r;o++)n[o]=s[o](a);return n}},JC=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Vy(e[s],t[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}},By=(e,t)=>{const n=Xn.createTransformer(t),r=Mo(e),s=Mo(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Bn(zy(r.values,s.values),n):Fy(e,t)},Gi=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Jm=(e,t)=>n=>ye(e,t,n);function ZC(e){return typeof e=="number"?Jm:typeof e=="string"?Ye.test(e)?Oy:By:Array.isArray(e)?zy:typeof e=="object"?JC:Jm}function eT(e,t,n){const r=[],s=n||ZC(e[0]),a=e.length-1;for(let o=0;o<a;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Ne:t;l=Bn(c,l)}r.push(l)}return r}function Hy(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const a=e.length;if(Th(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=eT(t,r,s),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=Gi(e[d],e[d+1],u);return o[d](h)};return n?u=>c(Kn(e[0],e[a-1],u)):c}function tT(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Gi(0,t,r);e.push(ye(n,1,s))}}function nT(e){const t=[0];return tT(t,e.length-1),t}function rT(e,t){return e.map(n=>n*t)}function sT(e,t){return e.map(()=>t||Cy).splice(0,e.length-1)}function Do({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=UC(r)?r.map(Ym):Ym(r),a={done:!1,value:t[0]},o=rT(n&&n.length===t.length?n:nT(t),e),l=Hy(o,t,{ease:Array.isArray(s)?s:sT(t,s)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}function Wy(e,t){return t?e*(1e3/t):0}const iT=5;function Gy(e,t,n){const r=Math.max(t-iT,0);return Wy(n-e(r),t-r)}const xc=.001,aT=.01,Zm=10,oT=.05,lT=1;function cT({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,a;PC(e<=Hn(Zm));let o=1-t;o=Kn(oT,lT,o),e=Kn(aT,Zm,ln(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-n,m=qu(u,o),v=Math.exp(-h);return xc-f/m*v},a=u=>{const h=u*o*e,f=h*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-h),y=qu(Math.pow(u,2),o);return(-s(u)+xc>0?-1:1)*((f-m)*v)/y}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-xc+d*h},a=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const l=5/e,c=dT(s,a,l);if(e=Hn(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const uT=12;function dT(e,t,n){let r=n;for(let s=1;s<uT;s++)r=r-e(r)/t(r);return r}function qu(e,t){return e*Math.sqrt(1-t*t)}const hT=["duration","bounce"],fT=["stiffness","damping","mass"];function ep(e,t){return t.some(n=>e[n]!==void 0)}function mT(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!ep(e,fT)&&ep(e,hT)){const n=cT(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function qy({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],a=e[e.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=mT({...r,velocity:-ln(r.velocity||0)}),m=h||0,v=c/(2*Math.sqrt(l*u)),y=a-s,b=ln(Math.sqrt(l/u)),p=Math.abs(y)<5;n||(n=p?.01:2),t||(t=p?.005:.5);let g;if(v<1){const x=qu(b,v);g=j=>{const N=Math.exp(-v*b*j);return a-N*((m+v*b*y)/x*Math.sin(x*j)+y*Math.cos(x*j))}}else if(v===1)g=x=>a-Math.exp(-b*x)*(y+(m+b*y)*x);else{const x=b*Math.sqrt(v*v-1);g=j=>{const N=Math.exp(-v*b*j),S=Math.min(x*j,300);return a-N*((m+v*b*y)*Math.sinh(S)+x*y*Math.cosh(S))/x}}return{calculatedDuration:f&&d||null,next:x=>{const j=g(x);if(f)o.done=x>=d;else{let N=m;x!==0&&(v<1?N=Gy(g,x,j):N=0);const S=Math.abs(N)<=n,_=Math.abs(a-j)<=t;o.done=S&&_}return o.value=o.done?a:j,o}}}function tp({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=C=>l!==void 0&&C<l||c!==void 0&&C>c,v=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let y=n*t;const b=h+y,p=o===void 0?b:o(b);p!==b&&(y=p-h);const g=C=>-y*Math.exp(-C/r),x=C=>p+g(C),j=C=>{const D=g(C),V=x(C);f.done=Math.abs(D)<=u,f.value=f.done?p:V};let N,S;const _=C=>{m(f.value)&&(N=C,S=qy({keyframes:[f.value,v(f.value)],velocity:Gy(x,C,f.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:C=>{let D=!1;return!S&&N===void 0&&(D=!0,j(C),_(C)),N!==void 0&&C>N?S.next(C-N):(!D&&j(C),f)}}}const pT=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ue.update(t,!0),stop:()=>mn(t),now:()=>Be.isProcessing?Be.timestamp:performance.now()}},np=2e4;function rp(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<np;)t+=n,r=e.next(t);return t>=np?1/0:t}const gT={decay:tp,inertia:tp,tween:Do,keyframes:Do,spring:qy};function $o({autoplay:e=!0,delay:t=0,driver:n=pT,keyframes:r,type:s="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:h,...f}){let m=1,v=!1,y,b;const p=()=>{b=new Promise(O=>{y=O})};p();let g;const x=gT[s]||Do;let j;x!==Do&&typeof r[0]!="number"&&(j=Hy([0,100],r,{clamp:!1}),r=[0,100]);const N=x({...f,keyframes:r});let S;l==="mirror"&&(S=x({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let _="idle",C=null,D=null,V=null;N.calculatedDuration===null&&a&&(N.calculatedDuration=rp(N));const{calculatedDuration:K}=N;let B=1/0,z=1/0;K!==null&&(B=K+o,z=B*(a+1)-o);let k=0;const L=O=>{if(D===null)return;m>0&&(D=Math.min(D,O)),m<0&&(D=Math.min(O-z/m,D)),C!==null?k=C:k=Math.round(O-D)*m;const G=k-t*(m>=0?1:-1),ee=m>=0?G<0:G>z;k=Math.max(G,0),_==="finished"&&C===null&&(k=z);let oe=k,tt=N;if(a){const yn=Math.min(k,z)/B;let nr=Math.floor(yn),zt=yn%1;!zt&&yn>=1&&(zt=1),zt===1&&nr--,nr=Math.min(nr,a+1),!!(nr%2)&&(l==="reverse"?(zt=1-zt,o&&(zt-=o/B)):l==="mirror"&&(tt=S)),oe=Kn(0,1,zt)*B}const F=ee?{done:!1,value:r[0]}:tt.next(oe);j&&(F.value=j(F.value));let{done:me}=F;!ee&&K!==null&&(me=m>=0?k>=z:k<=0);const Te=C===null&&(_==="finished"||_==="running"&&me);return h&&h(F.value),Te&&E(),F},$=()=>{g&&g.stop(),g=void 0},H=()=>{_="idle",$(),y(),p(),D=V=null},E=()=>{_="finished",d&&d(),$(),y()},U=()=>{if(v)return;g||(g=n(L));const O=g.now();c&&c(),C!==null?D=O-C:(!D||_==="finished")&&(D=O),_==="finished"&&p(),V=D,C=null,_="running",g.start()};e&&U();const P={then(O,G){return b.then(O,G)},get time(){return ln(k)},set time(O){O=Hn(O),k=O,C!==null||!g||m===0?C=O:D=g.now()-O/m},get duration(){const O=N.calculatedDuration===null?rp(N):N.calculatedDuration;return ln(O)},get speed(){return m},set speed(O){O===m||!g||(m=O,P.time=ln(k))},get state(){return _},play:U,pause:()=>{_="paused",C=k},stop:()=>{v=!0,_!=="idle"&&(_="idle",u&&u(),H())},cancel:()=>{V!==null&&L(V),H()},complete:()=>{_="finished"},sample:O=>(D=0,L(O))};return P}function xT(e){let t;return()=>(t===void 0&&(t=e()),t)}const vT=xT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),yT=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ia=10,wT=2e4,bT=(e,t)=>t.type==="spring"||e==="backgroundColor"||!_y(t.ease);function jT(e,t,{onUpdate:n,onComplete:r,...s}){if(!(vT()&&yT.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const d=()=>{c=new Promise(x=>{l=x})};d();let{keyframes:h,duration:f=300,ease:m,times:v}=s;if(bT(t,s)){const x=$o({...s,repeat:0,delay:0});let j={done:!1,value:h[0]};const N=[];let S=0;for(;!j.done&&S<wT;)j=x.sample(S),N.push(j.value),S+=Ia;v=void 0,h=N,f=S-Ia,m="linear"}const y=LC(e.owner.current,t,h,{...s,duration:f,ease:m,times:v}),b=()=>{u=!1,y.cancel()},p=()=>{u=!0,ue.update(b),l(),d()};return y.onfinish=()=>{u||(e.set(RC(h,s)),r&&r(),p())},{then(x,j){return c.then(x,j)},attachTimeline(x){return y.timeline=x,y.onfinish=null,Ne},get time(){return ln(y.currentTime||0)},set time(x){y.currentTime=Hn(x)},get speed(){return y.playbackRate},set speed(x){y.playbackRate=x},get duration(){return ln(f)},play:()=>{o||(y.play(),mn(b))},pause:()=>y.pause(),stop:()=>{if(o=!0,y.playState==="idle")return;const{currentTime:x}=y;if(x){const j=$o({...s,autoplay:!1});e.setWithVelocity(j.sample(x-Ia).value,j.sample(x).value,Ia)}p()},complete:()=>{u||y.finish()},cancel:p}}function NT({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ne,pause:Ne,stop:Ne,then:a=>(a(),Promise.resolve()),cancel:Ne,complete:Ne});return t?$o({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const _T={type:"spring",stiffness:500,damping:25,restSpeed:10},ST=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),kT={type:"keyframes",duration:.8},ET={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},CT=(e,{keyframes:t})=>t.length>2?kT:Or.has(e)?e.startsWith("scale")?ST(t[1]):_T:ET,Ku=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xn.test(t)||t==="0")&&!t.startsWith("url(")),TT=new Set(["brightness","contrast","saturate","opacity"]);function PT(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(_l)||[];if(!r)return e;const s=n.replace(r,"");let a=TT.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+s+")"}const AT=/([a-z-]*)\(.*?\)/g,Xu={...Xn,getAnimatableNone:e=>{const t=e.match(AT);return t?t.map(PT).join(" "):e}},LT={...oy,color:Ye,backgroundColor:Ye,outlineColor:Ye,fill:Ye,stroke:Ye,borderColor:Ye,borderTopColor:Ye,borderRightColor:Ye,borderBottomColor:Ye,borderLeftColor:Ye,filter:Xu,WebkitFilter:Xu},Rh=e=>LT[e];function Ky(e,t){let n=Rh(e);return n!==Xu&&(n=Xn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Xy=e=>/^0[^.\s]+$/.test(e);function RT(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Xy(e)}function OT(e,t,n,r){const s=Ku(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const o=r.from!==void 0?r.from:e.get();let l;const c=[];for(let u=0;u<a.length;u++)a[u]===null&&(a[u]=u===0?o:a[u-1]),RT(a[u])&&c.push(u),typeof a[u]=="string"&&a[u]!=="none"&&a[u]!=="0"&&(l=a[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];a[d]=Ky(t,l)}return a}function IT({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Oh(e,t){return e[t]||e.default||e}const MT={skipAnimations:!1},Ih=(e,t,n,r={})=>s=>{const a=Oh(r,e)||{},o=a.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Hn(o);const c=OT(t,e,n,a),u=c[0],d=c[c.length-1],h=Ku(e,u),f=Ku(e,d);let m={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-l,onUpdate:v=>{t.set(v),a.onUpdate&&a.onUpdate(v)},onComplete:()=>{s(),a.onComplete&&a.onComplete()}};if(IT(a)||(m={...m,...CT(e,m)}),m.duration&&(m.duration=Hn(m.duration)),m.repeatDelay&&(m.repeatDelay=Hn(m.repeatDelay)),!h||!f||AC.current||a.type===!1||MT.skipAnimations)return NT(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=jT(t,e,m);if(v)return v}return $o(m)};function Uo(e){return!!(ut(e)&&e.add)}const Yy=e=>/^\-?\d*\.?\d+$/.test(e);function Mh(e,t){e.indexOf(t)===-1&&e.push(t)}function Dh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class $h{constructor(){this.subscriptions=[]}add(t){return Mh(this.subscriptions,t),()=>Dh(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const DT=e=>!isNaN(parseFloat(e));class $T{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:o}=Be;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,ue.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ue.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=DT(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new $h);const r=this.events[t].add(n);return t==="change"?()=>{r(),ue.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Wy(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ns(e,t){return new $T(e,t)}const Qy=e=>t=>t.test(e),UT={test:e=>e==="auto",parse:e=>e},Jy=[Ir,q,Kt,Nn,GE,WE,UT],Ks=e=>Jy.find(Qy(e)),FT=[...Jy,Ye,Xn],VT=e=>FT.find(Qy(e));function zT(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ns(n))}function BT(e,t){const n=kl(e,t);let{transitionEnd:r={},transition:s={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const o in a){const l=aC(a[o]);zT(e,o,l)}}function HT(e,t,n){var r,s;const a=Object.keys(t).filter(l=>!e.hasValue(l)),o=a.length;if(o)for(let l=0;l<o;l++){const c=a[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(Yy(d)||Xy(d))?d=parseFloat(d):!VT(d)&&Xn.test(u)&&(d=Ky(c,u)),e.addValue(c,Ns(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function WT(e,t){return t?(t[e]||t.default||t).from:void 0}function GT(e,t,n){const r={};for(const s in e){const a=WT(s,t);if(a!==void 0)r[s]=a;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function qT({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function KT(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function Zy(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(a=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const f=e.getValue(h),m=l[h];if(!f||m===void 0||d&&qT(d,h))continue;const v={delay:n,elapsed:0,...Oh(a||{},h)};if(window.HandoffAppearAnimations){const p=e.getProps()[ey];if(p){const g=window.HandoffAppearAnimations(p,h,f,ue);g!==null&&(v.elapsed=g,v.isHandoff=!0)}}let y=!v.isHandoff&&!KT(f,m);if(v.type==="spring"&&(f.getVelocity()||v.velocity)&&(y=!1),f.animation&&(y=!1),y)continue;f.start(Ih(h,f,m,e.shouldReduceMotion&&Or.has(h)?{type:!1}:v));const b=f.animation;Uo(c)&&(c.add(h),b.then(()=>c.remove(h))),u.push(b)}return o&&Promise.all(u).then(()=>{o&&BT(e,o)}),u}function Yu(e,t,n={}){const r=kl(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(Zy(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return XT(e,t,u+c,d,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>u())}else return Promise.all([a(),o(n.delay)])}function XT(e,t,n=0,r=0,s=1,a){const o=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(YT).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(Yu(u,t,{...a,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function YT(e,t){return e.sortNodePosition(t)}function QT(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(a=>Yu(e,a,n));r=Promise.all(s)}else if(typeof t=="string")r=Yu(e,t,n);else{const s=typeof t=="function"?kl(e,t,n.custom):t;r=Promise.all(Zy(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const JT=[...yh].reverse(),ZT=yh.length;function e4(e){return t=>Promise.all(t.map(({animation:n,options:r})=>QT(e,n,r)))}function t4(e){let t=e4(e);const n=r4();let r=!0;const s=(c,u)=>{const d=kl(e,u);if(d){const{transition:h,transitionEnd:f,...m}=d;c={...c,...m,...f}}return c};function a(c){t=c(e)}function o(c,u){const d=e.getProps(),h=e.getVariantContext(!0)||{},f=[],m=new Set;let v={},y=1/0;for(let p=0;p<ZT;p++){const g=JT[p],x=n[g],j=d[g]!==void 0?d[g]:h[g],N=Hi(j),S=g===u?x.isActive:null;S===!1&&(y=p);let _=j===h[g]&&j!==d[g]&&N;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),x.protectedKeys={...v},!x.isActive&&S===null||!j&&!x.prevProp||jl(j)||typeof j=="boolean")continue;let D=n4(x.prevProp,j)||g===u&&x.isActive&&!_&&N||p>y&&N,V=!1;const K=Array.isArray(j)?j:[j];let B=K.reduce(s,{});S===!1&&(B={});const{prevResolvedValues:z={}}=x,k={...z,...B},L=$=>{D=!0,m.has($)&&(V=!0,m.delete($)),x.needsAnimating[$]=!0};for(const $ in k){const H=B[$],E=z[$];if(v.hasOwnProperty($))continue;let U=!1;Io(H)&&Io(E)?U=!jy(H,E):U=H!==E,U?H!==void 0?L($):m.add($):H!==void 0&&m.has($)?L($):x.protectedKeys[$]=!0}x.prevProp=j,x.prevResolvedValues=B,x.isActive&&(v={...v,...B}),r&&e.blockInitialAnimation&&(D=!1),D&&(!_||V)&&f.push(...K.map($=>({animation:$,options:{type:g,...c}})))}if(m.size){const p={};m.forEach(g=>{const x=e.getBaseTarget(g);x!==void 0&&(p[g]=x)}),f.push({animation:p})}let b=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(f):Promise.resolve()}function l(c,u,d){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),n[c].isActive=u;const f=o(d,c);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n}}function n4(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!jy(t,e):!1}function sr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function r4(){return{animate:sr(!0),whileInView:sr(),whileHover:sr(),whileTap:sr(),whileDrag:sr(),whileFocus:sr(),exit:sr()}}class s4 extends tr{constructor(t){super(t),t.animationState||(t.animationState=t4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),jl(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let i4=0;class a4 extends tr{constructor(){super(...arguments),this.id=i4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const o4={animation:{Feature:s4},exit:{Feature:a4}},sp=(e,t)=>Math.abs(e-t);function l4(e,t){const n=sp(e.x,t.x),r=sp(e.y,t.y);return Math.sqrt(n**2+r**2)}class ew{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=yc(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=l4(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:v}=h,{timestamp:y}=Be;this.history.push({...v,timestamp:y});const{onStart:b,onMove:p}=this.handlers;f||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=vc(f,this.transformPagePoint),ue.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=yc(h.type==="pointercancel"?this.lastMoveEventInfo:vc(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,b),v&&v(h,b)},!xy(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Sl(t),l=vc(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Be;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,yc(l,this.history)),this.removeListeners=Bn(on(this.contextWindow,"pointermove",this.handlePointerMove),on(this.contextWindow,"pointerup",this.handlePointerUp),on(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),mn(this.updatePoint)}}function vc(e,t){return t?{point:t(e.point)}:e}function ip(e,t){return{x:e.x-t.x,y:e.y-t.y}}function yc({point:e},t){return{point:e,delta:ip(e,tw(t)),offset:ip(e,c4(t)),velocity:u4(t,.1)}}function c4(e){return e[0]}function tw(e){return e[e.length-1]}function u4(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=tw(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Hn(t)));)n--;if(!r)return{x:0,y:0};const a=ln(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function gt(e){return e.max-e.min}function Qu(e,t=0,n=.01){return Math.abs(e-t)<=n}function ap(e,t,n,r=.5){e.origin=r,e.originPoint=ye(t.min,t.max,e.origin),e.scale=gt(n)/gt(t),(Qu(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ye(n.min,n.max,e.origin)-e.originPoint,(Qu(e.translate)||isNaN(e.translate))&&(e.translate=0)}function vi(e,t,n,r){ap(e.x,t.x,n.x,r?r.originX:void 0),ap(e.y,t.y,n.y,r?r.originY:void 0)}function op(e,t,n){e.min=n.min+t.min,e.max=e.min+gt(t)}function d4(e,t,n){op(e.x,t.x,n.x),op(e.y,t.y,n.y)}function lp(e,t,n){e.min=t.min-n.min,e.max=e.min+gt(t)}function yi(e,t,n){lp(e.x,t.x,n.x),lp(e.y,t.y,n.y)}function h4(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ye(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ye(n,e,r.max):Math.min(e,n)),e}function cp(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function f4(e,{top:t,left:n,bottom:r,right:s}){return{x:cp(e.x,n,s),y:cp(e.y,t,r)}}function up(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function m4(e,t){return{x:up(e.x,t.x),y:up(e.y,t.y)}}function p4(e,t){let n=.5;const r=gt(e),s=gt(t);return s>r?n=Gi(t.min,t.max-r,e.min):r>s&&(n=Gi(e.min,e.max-s,t.min)),Kn(0,1,n)}function g4(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ju=.35;function x4(e=Ju){return e===!1?e=0:e===!0&&(e=Ju),{x:dp(e,"left","right"),y:dp(e,"top","bottom")}}function dp(e,t,n){return{min:hp(e,t),max:hp(e,n)}}function hp(e,t){return typeof e=="number"?e:e[t]||0}const fp=()=>({translate:0,scale:1,origin:0,originPoint:0}),rs=()=>({x:fp(),y:fp()}),mp=()=>({min:0,max:0}),ke=()=>({x:mp(),y:mp()});function wt(e){return[e("x"),e("y")]}function nw({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function v4({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function y4(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function wc(e){return e===void 0||e===1}function Zu({scale:e,scaleX:t,scaleY:n}){return!wc(e)||!wc(t)||!wc(n)}function lr(e){return Zu(e)||rw(e)||e.z||e.rotate||e.rotateX||e.rotateY}function rw(e){return pp(e.x)||pp(e.y)}function pp(e){return e&&e!=="0%"}function Fo(e,t,n){const r=e-n,s=t*r;return n+s}function gp(e,t,n,r,s){return s!==void 0&&(e=Fo(e,s,r)),Fo(e,n,r)+t}function ed(e,t=0,n=1,r,s){e.min=gp(e.min,t,n,r,s),e.max=gp(e.max,t,n,r,s)}function sw(e,{x:t,y:n}){ed(e.x,t.translate,t.scale,t.originPoint),ed(e.y,n.translate,n.scale,n.originPoint)}function w4(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let a,o;for(let l=0;l<s;l++){a=n[l],o=a.projectionDelta;const c=a.instance;c&&c.style&&c.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ss(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,sw(e,o)),r&&lr(a.latestValues)&&ss(e,a.latestValues))}t.x=xp(t.x),t.y=xp(t.y)}function xp(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function En(e,t){e.min=e.min+t,e.max=e.max+t}function vp(e,t,[n,r,s]){const a=t[s]!==void 0?t[s]:.5,o=ye(e.min,e.max,a);ed(e,t[n],t[r],o,t.scale)}const b4=["x","scaleX","originX"],j4=["y","scaleY","originY"];function ss(e,t){vp(e.x,t,b4),vp(e.y,t,j4)}function iw(e,t){return nw(y4(e.getBoundingClientRect(),t))}function N4(e,t,n){const r=iw(e,n),{scroll:s}=t;return s&&(En(r.x,s.offset.x),En(r.y,s.offset.y)),r}const aw=({current:e})=>e?e.ownerDocument.defaultView:null,_4=new WeakMap;class S4{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ke(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Sl(d,"page").point)},a=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:v}=this.getProps();if(f&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=yy(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wt(b=>{let p=this.getAxisMotionValue(b).get()||0;if(Kt.test(p)){const{projection:g}=this.visualElement;if(g&&g.layout){const x=g.layout.layoutBox[b];x&&(p=gt(x)*(parseFloat(p)/100))}}this.originPoint[b]=p}),v&&ue.update(()=>v(d,h),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:v,onDrag:y}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:b}=h;if(m&&this.currentDirection===null){this.currentDirection=k4(b),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),y&&y(d,h)},l=(d,h)=>this.stop(d,h),c=()=>wt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new ew(t,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:aw(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&ue.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Ma(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=h4(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&ts(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=f4(s.layoutBox,n):this.constraints=!1,this.elastic=x4(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&wt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=g4(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ts(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=N4(r,s.root,this.visualElement.getTransformPagePoint());let o=m4(s.layout.layoutBox,a);if(n){const l=n(v4(o));this.hasMutatedConstraints=!!l,l&&(o=nw(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=wt(d=>{if(!Ma(d,n,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(Ih(t,r,0,n))}stopAnimation(){wt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){wt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){wt(n=>{const{drag:r}=this.getProps();if(!Ma(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];a.set(t[n]-ye(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ts(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};wt(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();s[o]=p4({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),wt(o=>{if(!Ma(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(ye(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;_4.set(this.visualElement,this);const t=this.visualElement.current,n=on(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();ts(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=sn(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(wt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=Ju,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Ma(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function k4(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class E4 extends tr{constructor(t){super(t),this.removeGroupControls=Ne,this.removeListeners=Ne,this.controls=new S4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ne}unmount(){this.removeGroupControls(),this.removeListeners()}}const yp=e=>(t,n)=>{e&&ue.update(()=>e(t,n))};class C4 extends tr{constructor(){super(...arguments),this.removePointerDownListener=Ne}onPointerDown(t){this.session=new ew(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:yp(t),onStart:yp(n),onMove:r,onEnd:(a,o)=>{delete this.session,s&&ue.update(()=>s(a,o))}}}mount(){this.removePointerDownListener=on(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function T4(){const e=w.useContext(wl);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=w.useId();return w.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const Qa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Xs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(q.test(e))e=parseFloat(e);else return e;const n=wp(e,t.target.x),r=wp(e,t.target.y);return`${n}% ${r}%`}},P4={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Xn.parse(e);if(s.length>5)return r;const a=Xn.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=ye(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),a(s)}};class A4 extends se.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=t;$E(L4),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Qa.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||ue.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ow(e){const[t,n]=T4(),r=w.useContext(bh);return se.createElement(A4,{...e,layoutGroup:r,switchLayoutGroup:w.useContext(ny),isPresent:t,safeToRemove:n})}const L4={borderRadius:{...Xs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xs,borderTopRightRadius:Xs,borderBottomLeftRadius:Xs,borderBottomRightRadius:Xs,boxShadow:P4},lw=["TopLeft","TopRight","BottomLeft","BottomRight"],R4=lw.length,bp=e=>typeof e=="string"?parseFloat(e):e,jp=e=>typeof e=="number"||q.test(e);function O4(e,t,n,r,s,a){s?(e.opacity=ye(0,n.opacity!==void 0?n.opacity:1,I4(r)),e.opacityExit=ye(t.opacity!==void 0?t.opacity:1,0,M4(r))):a&&(e.opacity=ye(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<R4;o++){const l=`border${lw[o]}Radius`;let c=Np(t,l),u=Np(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||jp(c)===jp(u)?(e[l]=Math.max(ye(bp(c),bp(u),r),0),(Kt.test(u)||Kt.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=ye(t.rotate||0,n.rotate||0,r))}function Np(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const I4=cw(0,.5,Ay),M4=cw(.5,.95,Ne);function cw(e,t,n){return r=>r<e?0:r>t?1:n(Gi(e,t,r))}function _p(e,t){e.min=t.min,e.max=t.max}function yt(e,t){_p(e.x,t.x),_p(e.y,t.y)}function Sp(e,t,n,r,s){return e-=t,e=Fo(e,1/n,r),s!==void 0&&(e=Fo(e,1/s,r)),e}function D4(e,t=0,n=1,r=.5,s,a=e,o=e){if(Kt.test(t)&&(t=parseFloat(t),t=ye(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=ye(a.min,a.max,r);e===a&&(l-=t),e.min=Sp(e.min,t,n,l,s),e.max=Sp(e.max,t,n,l,s)}function kp(e,t,[n,r,s],a,o){D4(e,t[n],t[r],t[s],t.scale,a,o)}const $4=["x","scaleX","originX"],U4=["y","scaleY","originY"];function Ep(e,t,n,r){kp(e.x,t,$4,n?n.x:void 0,r?r.x:void 0),kp(e.y,t,U4,n?n.y:void 0,r?r.y:void 0)}function Cp(e){return e.translate===0&&e.scale===1}function uw(e){return Cp(e.x)&&Cp(e.y)}function F4(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function dw(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Tp(e){return gt(e.x)/gt(e.y)}class V4{constructor(){this.members=[]}add(t){Mh(this.members,t),t.scheduleRender()}remove(t){if(Dh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Pp(e,t,n){let r="";const s=e.x.translate/t.x,a=e.y.translate/t.y;if((s||a)&&(r=`translate3d(${s}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const z4=(e,t)=>e.depth-t.depth;class B4{constructor(){this.children=[],this.isDirty=!1}add(t){Mh(this.children,t),this.isDirty=!0}remove(t){Dh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(z4),this.isDirty=!1,this.children.forEach(t)}}function H4(e,t){const n=performance.now(),r=({timestamp:s})=>{const a=s-n;a>=t&&(mn(r),e(a-t))};return ue.read(r,!0),()=>mn(r)}function W4(e){window.MotionDebug&&window.MotionDebug.record(e)}function G4(e){return e instanceof SVGElement&&e.tagName!=="svg"}function q4(e,t,n){const r=ut(e)?e:Ns(e);return r.start(Ih("",r,t,n)),r.animation}const Ap=["","X","Y","Z"],K4={visibility:"hidden"},Lp=1e3;let X4=0;const cr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function hw({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=X4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,cr.totalNodes=cr.resolvedTargetDeltas=cr.recalculatedProjection=0,this.nodes.forEach(J4),this.nodes.forEach(rP),this.nodes.forEach(sP),this.nodes.forEach(Z4),W4(cr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new B4)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new $h),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=G4(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=H4(f,250),Qa.hasAnimatedSinceResize&&(Qa.hasAnimatedSinceResize=!1,this.nodes.forEach(Op))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||cP,{onLayoutAnimationStart:b,onLayoutAnimationComplete:p}=d.getProps(),g=!this.targetLayout||!dw(this.targetLayout,v)||m,x=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,x);const j={...Oh(y,"layout"),onPlay:b,onComplete:p};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else f||Op(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,mn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iP),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Rp);return}this.isUpdating||this.nodes.forEach(tP),this.isUpdating=!1,this.nodes.forEach(nP),this.nodes.forEach(Y4),this.nodes.forEach(Q4),this.clearAllSnapshots();const l=performance.now();Be.delta=Kn(0,1e3/60,l-Be.timestamp),Be.timestamp=l,Be.isProcessing=!0,uc.update.process(Be),uc.preRender.process(Be),uc.render.process(Be),Be.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(eP),this.sharedNodes.forEach(aP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!uw(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||lr(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),uP(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ke();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(En(l.x,c.offset.x),En(l.y,c.offset.y)),l}removeElementScroll(o){const l=ke();yt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){yt(l,o);const{scroll:f}=this.root;f&&(En(l.x,-f.offset.x),En(l.y,-f.offset.y))}En(l.x,d.offset.x),En(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const c=ke();yt(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ss(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),lr(d.latestValues)&&ss(c,d.latestValues)}return lr(this.latestValues)&&ss(c,this.latestValues),c}removeTransform(o){const l=ke();yt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!lr(u.latestValues))continue;Zu(u.latestValues)&&u.updateSnapshot();const d=ke(),h=u.measurePageBox();yt(d,h),Ep(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return lr(this.latestValues)&&Ep(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Be.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Be.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),yi(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ke(),this.targetWithTransforms=ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),d4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yt(this.target,this.layout.layoutBox),sw(this.target,this.targetDelta)):yt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),yi(this.relativeTargetOrigin,this.target,m.target),yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}cr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Zu(this.parent.latestValues)||rw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Be.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;yt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;w4(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:v}=l;if(!v){this.projectionTransform&&(this.projectionDelta=rs(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=rs(),this.projectionDeltaWithTransform=rs());const y=this.projectionTransform;vi(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=Pp(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==f||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),cr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=rs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=ke(),m=c?c.source:void 0,v=this.layout?this.layout.source:void 0,y=m!==v,b=this.getStack(),p=!b||b.members.length<=1,g=!!(y&&!p&&this.options.crossfade===!0&&!this.path.some(lP));this.animationProgress=0;let x;this.mixTargetDelta=j=>{const N=j/1e3;Ip(h.x,o.x,N),Ip(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yi(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oP(this.relativeTarget,this.relativeTargetOrigin,f,N),x&&F4(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=ke()),yt(x,this.relativeTarget)),y&&(this.animationValues=d,O4(d,u,this.latestValues,N,g,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(mn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ue.update(()=>{Qa.hasAnimatedSinceResize=!0,this.currentAnimation=q4(0,Lp,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Lp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&fw(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ke();const h=gt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=gt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}yt(l,c),ss(l,d),vi(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new V4),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<Ap.length;d++){const h="rotate"+Ap[d];c[h]&&(u[h]=c[h],o.setStaticValue(h,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return K4;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ya(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Ya(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!lr(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Pp(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in Ro){if(f[y]===void 0)continue;const{correct:b,applyTo:p}=Ro[y],g=u.transform==="none"?f[y]:b(f[y],h);if(p){const x=p.length;for(let j=0;j<x;j++)u[p[j]]=g}else u[y]=g}return this.options.layoutId&&(u.pointerEvents=h===this?Ya(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Rp),this.root.sharedNodes.clear()}}}function Y4(e){e.updateLayout()}function Q4(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:a}=e.options,o=n.source!==e.layout.source;a==="size"?wt(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=gt(f);f.min=r[h].min,f.max=f.min+m}):fw(a,n.layoutBox,r)&&wt(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=gt(r[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const l=rs();vi(l,r,n.layoutBox);const c=rs();o?vi(c,e.applyTransform(s,!0),n.measuredBox):vi(c,r,n.layoutBox);const u=!uw(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const v=ke();yi(v,n.layoutBox,f.layoutBox);const y=ke();yi(y,r,m.layoutBox),dw(v,y)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function J4(e){cr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Z4(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function eP(e){e.clearSnapshot()}function Rp(e){e.clearMeasurements()}function tP(e){e.isLayoutDirty=!1}function nP(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Op(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function rP(e){e.resolveTargetDelta()}function sP(e){e.calcProjection()}function iP(e){e.resetRotation()}function aP(e){e.removeLeadSnapshot()}function Ip(e,t,n){e.translate=ye(t.translate,0,n),e.scale=ye(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Mp(e,t,n,r){e.min=ye(t.min,n.min,r),e.max=ye(t.max,n.max,r)}function oP(e,t,n,r){Mp(e.x,t.x,n.x,r),Mp(e.y,t.y,n.y,r)}function lP(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const cP={duration:.45,ease:[.4,0,.1,1]},Dp=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),$p=Dp("applewebkit/")&&!Dp("chrome/")?Math.round:Ne;function Up(e){e.min=$p(e.min),e.max=$p(e.max)}function uP(e){Up(e.x),Up(e.y)}function fw(e,t,n){return e==="position"||e==="preserve-aspect"&&!Qu(Tp(t),Tp(n),.2)}const dP=hw({attachResizeListener:(e,t)=>sn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bc={current:void 0},mw=hw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!bc.current){const e=new dP({});e.mount(window),e.setOptions({layoutScroll:!0}),bc.current=e}return bc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),hP={pan:{Feature:C4},drag:{Feature:E4,ProjectionNode:mw,MeasureLayout:ow}},fP=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function mP(e){const t=fP.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function td(e,t,n=1){const[r,s]=mP(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return Yy(o)?parseFloat(o):o}else return Hu(s)?td(s,t,n+1):s}function pP(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const a=s.get();if(!Hu(a))return;const o=td(a,r);o&&s.set(o)});for(const s in t){const a=t[s];if(!Hu(a))continue;const o=td(a,r);o&&(t[s]=o,n||(n={}),n[s]===void 0&&(n[s]=a))}return{target:t,transitionEnd:n}}const gP=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),pw=e=>gP.has(e),xP=e=>Object.keys(e).some(pw),Fp=e=>e===Ir||e===q,Vp=(e,t)=>parseFloat(e.split(", ")[t]),zp=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return Vp(s[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?Vp(a[1],e):0}},vP=new Set(["x","y","z"]),yP=sa.filter(e=>!vP.has(e));function wP(e){const t=[];return yP.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const _s={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:zp(4,13),y:zp(5,14)};_s.translateX=_s.x;_s.translateY=_s.y;const bP=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,a=getComputedStyle(s),{display:o}=a,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=_s[u](r,a)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=_s[u](c,a)}),e},jP=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(pw);let a=[],o=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],h=Ks(d);const f=t[c];let m;if(Io(f)){const v=f.length,y=f[0]===null?1:0;d=f[y],h=Ks(d);for(let b=y;b<v&&f[b]!==null;b++)m?Th(Ks(f[b])===m):m=Ks(f[b])}else m=Ks(f);if(h!==m)if(Fp(h)&&Fp(m)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof f=="string"?t[c]=parseFloat(f):Array.isArray(f)&&m===q&&(t[c]=f.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(d===0||f===0)?d===0?u.set(m.transform(d)):t[c]=h.transform(f):(o||(a=wP(e),o=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(f))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=bP(t,e,l);return a.length&&a.forEach(([d,h])=>{e.getValue(d).set(h)}),e.render(),bl&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function NP(e,t,n,r){return xP(t)?jP(e,t,n,r):{target:t,transitionEnd:r}}const _P=(e,t,n,r)=>{const s=pP(e,t,r);return t=s.target,r=s.transitionEnd,NP(e,t,n,r)},nd={current:null},gw={current:!1};function SP(){if(gw.current=!0,!!bl)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>nd.current=e.matches;e.addListener(t),t()}else nd.current=!1}function kP(e,t,n){const{willChange:r}=t;for(const s in t){const a=t[s],o=n[s];if(ut(a))e.addValue(s,a),Uo(r)&&r.add(s);else if(ut(o))e.addValue(s,Ns(a,{owner:e})),Uo(r)&&r.remove(s);else if(o!==a)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(a)}else{const l=e.getStaticValue(s);e.addValue(s,Ns(l!==void 0?l:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Bp=new WeakMap,xw=Object.keys(Wi),EP=xw.length,Hp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],CP=wh.length;class TP{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ue.render(this.render,!1,!0);const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=Nl(n),this.isVariantNode=ty(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const f=d[h];l[h]!==void 0&&ut(f)&&(f.set(l[h],!1),Uo(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Bp.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),gw.current||SP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Bp.delete(this.current),this.projection&&this.projection.unmount(),mn(this.notifyUpdate),mn(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Or.has(t),s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ue.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,a){let o,l;for(let c=0;c<EP;c++){const u=xw[c],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:m}=Wi[u];f&&(o=f),d(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),m&&(l=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||h&&ts(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:f,layoutRoot:m})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ke()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Hp.length;r++){const s=Hp[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a=t["on"+s];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=kP(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<CP;r++){const s=wh[r],a=this.props[s];(Hi(a)||a===!1)&&(n[s]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ns(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=Ch(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ut(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new $h),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class vw extends TP{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},a){let o=GT(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),a){HT(this,r,o);const l=_P(this,r,o,n);n=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:n,...r}}}function PP(e){return window.getComputedStyle(e)}class AP extends vw{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Or.has(n)){const r=Rh(n);return r&&r.default||0}else{const r=PP(t),s=(iy(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return iw(t,n)}build(t,n,r,s){Nh(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Eh(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ut(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){dy(t,n,r,s)}}class LP extends vw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Or.has(n)){const r=Rh(n);return r&&r.default||0}return n=hy.has(n)?n:vh(n),t.getAttribute(n)}measureInstanceViewportBox(){return ke()}scrapeMotionValuesFromProps(t,n){return my(t,n)}build(t,n,r,s){Sh(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){fy(t,n,r,s)}mount(t){this.isSVGTag=kh(t.tagName),super.mount(t)}}const RP=(e,t)=>jh(e)?new LP(t,{enableHardwareAcceleration:!1}):new AP(t,{enableHardwareAcceleration:!0}),OP={layout:{ProjectionNode:mw,MeasureLayout:ow}},IP={...o4,...EC,...hP,...OP},A=ME((e,t)=>mC(e,t,IP,RP));function yw(){const e=w.useRef(!1);return xh(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function MP(){const e=yw(),[t,n]=w.useState(0),r=w.useCallback(()=>{e.current&&n(t+1)},[t]);return[w.useCallback(()=>ue.postRender(r),[r]),t]}class DP extends w.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function $P({children:e,isPresent:t}){const n=w.useId(),r=w.useRef(null),s=w.useRef({width:0,height:0,top:0,left:0});return w.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=s.current;if(t||!r.current||!a||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),w.createElement(DP,{isPresent:t,childRef:r,sizeRef:s},w.cloneElement(e,{ref:r}))}const jc=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:o})=>{const l=py(UP),c=w.useId(),u=w.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const h of l.values())if(!h)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),a?void 0:[n]);return w.useMemo(()=>{l.forEach((d,h)=>l.set(h,!1))},[n]),w.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=w.createElement($P,{isPresent:n},e)),w.createElement(wl.Provider,{value:u},e)};function UP(){return new Map}function FP(e){return w.useEffect(()=>()=>e(),[])}const ur=e=>e.key||"";function VP(e,t){e.forEach(n=>{const r=ur(n);t.set(r,n)})}function zP(e){const t=[];return w.Children.forEach(e,n=>{w.isValidElement(n)&&t.push(n)}),t}const Ct=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=w.useContext(bh).forceRender||MP()[0],c=yw(),u=zP(e);let d=u;const h=w.useRef(new Map).current,f=w.useRef(d),m=w.useRef(new Map).current,v=w.useRef(!0);if(xh(()=>{v.current=!1,VP(u,m),f.current=d}),FP(()=>{v.current=!0,m.clear(),h.clear()}),v.current)return w.createElement(w.Fragment,null,d.map(g=>w.createElement(jc,{key:ur(g),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:o},g)));d=[...d];const y=f.current.map(ur),b=u.map(ur),p=y.length;for(let g=0;g<p;g++){const x=y[g];b.indexOf(x)===-1&&!h.has(x)&&h.set(x,void 0)}return o==="wait"&&h.size&&(d=[]),h.forEach((g,x)=>{if(b.indexOf(x)!==-1)return;const j=m.get(x);if(!j)return;const N=y.indexOf(x);let S=g;if(!S){const _=()=>{h.delete(x);const C=Array.from(m.keys()).filter(D=>!b.includes(D));if(C.forEach(D=>m.delete(D)),f.current=u.filter(D=>{const V=ur(D);return V===x||C.includes(V)}),!h.size){if(c.current===!1)return;l(),r&&r()}};S=w.createElement(jc,{key:ur(j),isPresent:!1,onExitComplete:_,custom:t,presenceAffectsLayout:a,mode:o},j),h.set(x,S)}d.splice(N,0,S)}),d=d.map(g=>{const x=g.key;return h.has(x)?g:w.createElement(jc,{key:ur(g),isPresent:!0,presenceAffectsLayout:a,mode:o},g)}),w.createElement(w.Fragment,null,h.size?d:d.map(g=>w.cloneElement(g)))},BP=iv("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),T=se.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},a)=>{const o=r?jN:"button";return i.jsx(o,{className:xn(BP({variant:t,size:n,className:e})),ref:a,...s})});T.displayName="Button";const HP=()=>{const{toast:e}=ae(),{user:t}=qe(),n=()=>{e({title:"🚧 ฟีเจอร์นี้ยังไม่พร้อมใช้งาน",description:"แต่ไม่ต้องกังวล! คุณสามารถขอให้เพิ่มฟีเจอร์นี้ในข้อความถัดไปได้! 🚀"})},r=[{id:1,title:"โครงงานระบบควบคุมอัตโนมัติ",description:"เรียนรู้การสร้างระบบควบคุมอัตโนมัติด้วย Arduino และ IoT",duration:"8 สัปดาห์",students:1250,rating:4.8,level:"ระดับกลาง",image:"Engineering automation control system with Arduino and IoT sensors"},{id:2,title:"การออกแบบโครงสร้างอาคาร",description:"หลักการออกแบบและคำนวณโครงสร้างอาคารสูง",duration:"12 สัปดาห์",students:890,rating:4.9,level:"ระดับสูง",image:"Modern building structural design with engineering blueprints"},{id:3,title:"โครงงานพลังงานทดแทน",description:"สร้างระบบผลิตไฟฟ้าจากพลังงานแสงอาทิตย์และลม",duration:"10 สัปดาห์",students:2100,rating:4.7,level:"ระดับกลาง",image:"Solar panels and wind turbines renewable energy project"},{id:4,title:"การพัฒนาแอปพลิเคชันมือถือ",description:"สร้างแอปมือถือด้วย React Native และ Flutter",duration:"6 สัปดาห์",students:1680,rating:4.6,level:"ระดับเริ่มต้น",image:"Mobile app development with React Native and Flutter coding"}],s=[{icon:Ue,value:"15,000+",label:"นักเรียน"},{icon:We,value:"200+",label:"คอร์สเรียน"},{icon:Ft,value:"95%",label:"อัตราสำเร็จ"},{icon:Lu,value:"4.8",label:"คะแนนเฉลี่ย"}],a={initial:{opacity:0,y:20},in:{opacity:1,y:0},out:{opacity:0,y:-20}},o={type:"tween",ease:"anticipate",duration:.5};return i.jsxs(A.div,{initial:"initial",animate:"in",exit:"out",variants:a,transition:o,children:[i.jsxs(Ce,{children:[i.jsx("title",{children:"หน้าแรก - Login Learning"}),i.jsx("meta",{name:"description",content:"ยินดีต้อนรับสู่ Login Learning แพลตฟอร์มเรียนรู้วิศวกรรมออนไลน์ครบวงจรสำหรับน้องมัธยม"})]}),i.jsxs("div",{className:"pt-24",children:[" ",i.jsx("section",{className:"pt-16 pb-20 px-6",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[i.jsxs(A.div,{initial:{x:-100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,delay:.2},children:[i.jsxs("h1",{className:"text-5xl lg:text-7xl font-bold mb-6 leading-tight text-white",children:["เสริมทักษะ",i.jsx("span",{className:"block gradient-text",children:"วิศวกรรม"}),"ค้นหาตัวตน"]}),i.jsx("p",{className:"text-xl text-white/80 mb-8 leading-relaxed",children:"Login Learning ช่วยน้องมัธยมค้นพบศักยภาพและความชอบด้านวิศวกรรม เพื่อการตัดสินใจเลือกเส้นทางอนาคตอย่างมั่นใจ"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsx(T,{asChild:!0,size:"lg",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-lg px-8 py-6 pulse-glow",children:i.jsxs(te,{to:t?"/dashboard":"/signup",children:[i.jsx(Au,{className:"w-5 h-5 mr-2"}),t?"ไปที่แดชบอร์ด":"เริ่มเรียนฟรี"]})}),i.jsx(T,{asChild:!0,size:"lg",variant:"outline",className:"border-white/30 text-white hover:bg-white/10 text-lg px-8 py-6",children:i.jsxs(te,{to:"/courses",children:["ดูคอร์สทั้งหมด",i.jsx(Nm,{className:"w-5 h-5 ml-2"})]})})]})]}),i.jsxs(A.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,delay:.4},className:"relative",children:[i.jsx("div",{className:"floating-animation",children:i.jsx("img",{className:"rounded-2xl shadow-2xl w-full",alt:"นักเรียนมัธยมกำลังเรียนรู้เกี่ยวกับโครงงานวิศวกรรมอย่างสนุกสนาน",src:"https://images.unsplash.com/photo-1596496181861-5fc5346995ba"})}),i.jsx("div",{className:"absolute -bottom-6 -left-6 glass-effect rounded-xl p-4 shadow-lg",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:i.jsx(bv,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white font-semibold",children:"โครงงานสร้างสรรค์"}),i.jsx("p",{className:"text-white/70",children:"มากกว่า 1,000 ไอเดีย"})]})]})})]})]})})}),i.jsx("section",{className:"py-16 px-6",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsx(A.div,{initial:{y:50,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.8},viewport:{once:!0},className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:s.map((l,c)=>i.jsxs(A.div,{initial:{scale:.8,opacity:0},whileInView:{scale:1,opacity:1},transition:{duration:.5,delay:c*.1},viewport:{once:!0},className:"glass-effect rounded-xl p-6 text-center hover:scale-105 transition-transform",children:[i.jsx(l.icon,{className:"w-8 h-8 text-blue-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:l.value}),i.jsx("p",{className:"text-white/70",children:l.label})]},c))})})}),i.jsx("section",{className:"py-20 px-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs(A.div,{initial:{y:50,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-white mb-6",children:"คอร์สเรียนแนะนำ"}),i.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"คัดสรรคอร์สคุณภาพเพื่อจุดประกายความสนใจด้านวิศวกรรมในตัวคุณ"})]}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:r.slice(0,4).map((l,c)=>i.jsx(A.div,{initial:{y:50,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.5,delay:c*.1},viewport:{once:!0},className:"course-card rounded-xl overflow-hidden",children:i.jsxs(te,{to:"/courses",className:"block",onClick:n,children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{className:"w-full h-48 object-cover",alt:`ภาพปกคอร์ส ${l.title}`,src:"https://images.unsplash.com/photo-1635251595512-dc52146d5ae8"}),i.jsx("div",{className:"absolute top-4 right-4 bg-black/50 backdrop-blur-sm rounded-full px-3 py-1",children:i.jsx("span",{className:"text-white text-sm font-medium",children:l.level})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-3 line-clamp-2",children:l.title}),i.jsx("p",{className:"text-white/70 mb-4 line-clamp-2",children:l.description}),i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(Lu,{className:"w-4 h-4 text-yellow-400 fill-current"}),i.jsx("span",{className:"text-white font-medium",children:l.rating})]}),i.jsxs("div",{className:"flex items-center space-x-1 text-white/70",children:[i.jsx(Ue,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:l.students.toLocaleString()})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-1 text-white/70",children:[i.jsx(vn,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:l.duration})]}),i.jsx(T,{size:"sm",className:"bg-blue-500 hover:bg-blue-600",children:"เรียนเลย"})]})]})]})},l.id))}),i.jsx("div",{className:"text-center mt-12",children:i.jsx(T,{asChild:!0,size:"lg",variant:"outline",className:"border-white/30 text-white hover:bg-white/10 text-lg px-8 py-4",children:i.jsxs(te,{to:"/courses",children:["ดูคอร์สทั้งหมด",i.jsx(Nm,{className:"w-5 h-5 ml-2"})]})})})]})}),i.jsx("section",{className:"py-20 px-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs(A.div,{initial:{y:50,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-white mb-6",children:"ทำไมต้องเลือก Login Learning?"}),i.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"เราให้มากกว่าการเรียนรู้ เราสร้างวิศวกรรุ่นใหม่ที่พร้อมสำหรับอนาคต"})]}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:dh,title:"เรียนรู้จากโปรเจกต์จริง",description:"ฝึกฝนกับโครงงานที่ใช้งานได้จริงในอุตสาหกรรมและมหาวิทยาลัย"},{icon:Ue,title:"พี่เลี้ยงผู้เชี่ยวชาญ",description:"เรียนกับพี่วิศวกรและผู้มีประสบการณ์ตรง คอยให้คำแนะนำใกล้ชิด"},{icon:K_,title:"ค้นพบตัวเองและวางแผน",description:"ช่วยน้องๆ ค้นหาความถนัดและวางแผนเส้นทางสู่วิศวะฯ อย่างชัดเจน"}].map((l,c)=>i.jsxs(A.div,{initial:{y:50,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.5,delay:c*.2},viewport:{once:!0},className:"glass-effect rounded-xl p-8 text-center hover:scale-105 transition-transform cursor-pointer",onClick:n,children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(l.icon,{className:"w-8 h-8 text-white"})}),i.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:l.title}),i.jsx("p",{className:"text-white/70 leading-relaxed",children:l.description})]},c))})]})}),i.jsx("section",{className:"py-20 px-6",children:i.jsx("div",{className:"max-w-4xl mx-auto text-center",children:i.jsxs(A.div,{initial:{y:50,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.8},viewport:{once:!0},className:"glass-effect rounded-2xl p-12 shadow-xl",children:[i.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-white mb-6",children:"พร้อมค้นหาเส้นทางวิศวะฯ ของคุณแล้วหรือยัง?"}),i.jsx("p",{className:"text-xl text-white/80 mb-8",children:"เข้าร่วมกับเพื่อนๆ อีกกว่า 15,000 คน ที่ Login Learning"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsx(T,{asChild:!0,size:"lg",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-lg px-8 py-6",children:i.jsx(te,{to:t?"/dashboard":"/signup",children:t?"ไปที่แดชบอร์ด":"เริ่มเรียนฟรีวันนี้"})}),i.jsx(T,{asChild:!0,size:"lg",variant:"outline",className:"border-white/30 text-white hover:bg-white/10 text-lg px-8 py-6",children:i.jsx(te,{to:"/contact",children:"ปรึกษาพี่ๆ ผู้เชี่ยวชาญ"})})]})]})})})]})]})},WP=()=>{const e={name:"LOGIN LEARNING Co.",mission:"คอร์สเรียนเสริมทักษะและค้นหาตัวตนของน้องมัธยม ต้น-ปลาย เพื่อตัดสินใจเข้าเรียนต่อในระดับมัธยมปลาย/มหาวิทยาลัย",address:"917 จรัญสนิทวงศ์ 75 บางพลัด บางพลัด",contacts:[{name:"พี่ก้อง",phone:"090-969-9578"},{name:"พี่เก็ก",phone:"083-436-0294"}],lineGroup:"https://line.me/ti/g/TbTTLXEkRS",email:"info@loginlearning.com"},t=[{name:"สาขาลาดกระบัง",address:"ถนนฉลองกรุง ลาดกระบัง, กรุงเทพฯ 10520",image:"Ladkrabang branch of Login Learning with students"},{name:"สาขาบางพลัด",address:"400 ซ.จรัญสนิทวงศ์ 75 แขวงบางพลัด, กรุงเทพฯ 10700",image:"Bang Phlat branch of Login Learning with modern classroom"},{name:"สาขาศรีราชา",address:"165/31 อำเภอศรีราชา ชลบุรี 20110",image:"Sriracha branch of Login Learning, coastal city view"},{name:"สาขาระยอง",address:"84/48 อำเภอเมืองระยอง ระยอง 21000",image:"Rayong branch of Login Learning, industrial area context"}],n=[{icon:bv,title:"สอนทำโครงงานด้านวิศวกรรม",description:"เสริมสร้างทักษะการทำโครงงานจริง พร้อมพี่เลี้ยงดูแลใกล้ชิด"},{icon:dh,title:"สอนทฤษฎีและการแข่งขัน",description:"เตรียมความพร้อมทั้งภาคทฤษฎีและสนามแข่งขัน เช่น หุ่นยนต์เดินตามเส้น, TESA Top Gun Rally"},{icon:lv,title:"อบรม Professional Skills",description:"พัฒนาทักษะจำเป็นสำหรับวิศวกร เช่น การโปรแกรม (Python, C++), Arduino, IoT, แขนกล DOBOT, PLC"},{icon:A_,title:"Engineering Services",description:"บริการด้านวิศวกรรม เช่น ออกแบบชุดฝึกขนถ่ายโลหะ, เครื่องตรวจความสุกมะม่วง, เครื่องจำลองการชุบโลหะ"},{icon:Ue,title:"จัดค่ายนอกสถานที่",description:"เปิดประสบการณ์การเรียนรู้วิศวกรรมรูปแบบใหม่ สนุกและได้ความรู้"}],r=["แบบจำลองการปลูกข้าวสมัยใหม่ด้วยระบบ IOT","แบบจำลองการควบคุมและตรวจสอบคุณภาพน้ำด้วยระบบ IOT และ AI","แบบจำลองเครื่องกวนสารโดยใช้ AI และ PID Control","เครื่องตรวจความสุกมะม่วง","เครื่องช่วยกายภาพบำบัดแขน","กระถางต้นไม้อัจฉริยะ","เครื่องตรวจสอบคุณภาพน็อตและจำลองการชุบแข็ง"],s={initial:{opacity:0,y:20},in:{opacity:1,y:0},out:{opacity:0,y:-20}},a={type:"tween",ease:"anticipate",duration:.5};return i.jsxs(A.div,{initial:"initial",animate:"in",exit:"out",variants:s,transition:a,className:"pt-24 pb-16 px-6",children:[i.jsxs(Ce,{children:[i.jsx("title",{children:"เกี่ยวกับเรา - Login Learning"}),i.jsx("meta",{name:"description",content:`เรียนรู้เพิ่มเติมเกี่ยวกับ ${e.name} ภารกิจของเรา และทีมงานผู้เชี่ยวชาญที่พร้อมช่วยน้องๆ ค้นหาเส้นทางวิศวะ`})]}),i.jsxs("section",{className:"text-center mb-16 pt-8",children:[i.jsxs(A.h1,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.7,delay:.2},className:"text-5xl lg:text-6xl font-bold text-white mb-4",children:["เกี่ยวกับ ",i.jsx("span",{className:"gradient-text",children:"Login Learning"})]}),i.jsx(A.p,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.7,delay:.4},className:"text-xl text-white/80 max-w-3xl mx-auto",children:e.mission})]}),i.jsx("section",{className:"mb-16",children:i.jsxs("div",{className:"max-w-4xl mx-auto glass-effect p-8 rounded-xl shadow-lg",children:[i.jsx("h2",{className:"text-3xl font-bold text-white mb-6 text-center",children:"ข้อมูลองค์กร"}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[i.jsxs("div",{children:[i.jsx("img",{className:"rounded-lg shadow-md w-full h-64 object-cover mb-4",alt:"ทีมงาน Login Learning กำลังสอนนักเรียน",src:"https://images.unsplash.com/photo-1701229404076-5629809b331d"}),i.jsxs("div",{className:"flex items-start space-x-3 mb-3",children:[i.jsx(Po,{className:"w-6 h-6 text-blue-400 mt-1 shrink-0"}),i.jsx("p",{className:"text-white/90",children:e.address})]}),i.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[i.jsx(Er,{className:"w-6 h-6 text-blue-400 shrink-0"}),i.jsx("a",{href:`mailto:${e.email}`,className:"text-white/90 hover:text-blue-300 transition-colors",children:e.email})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"ติดต่อเรา:"}),e.contacts.map((o,l)=>i.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[i.jsx(cl,{className:"w-6 h-6 text-blue-400 shrink-0"}),i.jsxs("p",{className:"text-white/90",children:[o.name,": ",o.phone]})]},l)),i.jsxs("div",{className:"flex items-center space-x-3 mt-4",children:[i.jsx(Ue,{className:"w-6 h-6 text-green-400 shrink-0"}),i.jsx("a",{href:e.lineGroup,target:"_blank",rel:"noopener noreferrer",className:"text-white/90 hover:text-green-300 transition-colors underline",children:"เข้าร่วม Line Group ของเรา"})]}),i.jsx("img",{className:"rounded-lg shadow-md w-full h-40 object-cover mt-4",alt:"บรรยากาศการเรียนการสอนที่ Login Learning",src:"https://images.unsplash.com/photo-1645001399108-e5c236218018"})]})]})]})}),i.jsxs("section",{className:"mb-16",id:"branches",children:[i.jsx("h2",{className:"text-4xl font-bold text-white mb-10 text-center",children:"สาขาของเรา"}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((o,l)=>i.jsxs(A.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.5,delay:l*.1},viewport:{once:!0},className:"course-card rounded-xl overflow-hidden p-6 text-center",children:[i.jsx("img",{className:"w-full h-40 object-cover rounded-md mb-4",alt:`สาขา ${o.name} ของ Login Learning`,src:"https://images.unsplash.com/photo-1683419405479-e79a7a6a1d53"}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:o.name}),i.jsx("p",{className:"text-white/70 text-sm",children:o.address})]},l))})]}),i.jsxs("section",{className:"mb-16",id:"services",children:[i.jsx("h2",{className:"text-4xl font-bold text-white mb-10 text-center",children:"บริการและกิจกรรมของเรา"}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((o,l)=>i.jsxs(A.div,{initial:{y:50,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.5,delay:l*.1},viewport:{once:!0},className:"glass-effect rounded-xl p-6 hover:shadow-xl transition-shadow",children:[i.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full mb-6 mx-auto",children:i.jsx(o.icon,{className:"w-8 h-8 text-white"})}),i.jsx("h3",{className:"text-2xl font-semibold text-white mb-3 text-center",children:o.title}),i.jsx("p",{className:"text-white/80 leading-relaxed text-center",children:o.description})]},l))})]}),i.jsxs("section",{id:"projects",children:[i.jsx("h2",{className:"text-4xl font-bold text-white mb-10 text-center",children:"ตัวอย่างโครงงาน ปี 2568"}),i.jsxs("div",{className:"max-w-3xl mx-auto glass-effect p-8 rounded-xl shadow-lg",children:[i.jsx("ul",{className:"list-disc list-inside space-y-3 text-white/90",children:r.map((o,l)=>i.jsx(A.li,{initial:{x:-20,opacity:0},whileInView:{x:0,opacity:1},transition:{duration:.3,delay:l*.05},viewport:{once:!0},className:"text-lg",children:o},l))}),i.jsx("p",{className:"text-white/70 mt-6 text-sm italic",children:"ข้อมูลนี้เป็นข้อมูลเบื้องต้นและอาจมีการเปลี่ยนแปลง โปรดตรวจสอบข้อมูลล่าสุดจากประกาศอย่างเป็นทางการ"})]})]})]})},Le=se.forwardRef(({className:e,type:t,...n},r)=>i.jsx("input",{type:t,className:xn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));Le.displayName="Input";const GP=async()=>{try{const{data:e,error:t}=await R.from("courses").select(`
        *,
        enrollments(count)
      `).eq("is_active",!0).order("created_at",{ascending:!1});if(t)throw t;return{data:e.map(r=>{var s;return{...r,enrollment_count:((s=r.enrollments)==null?void 0:s.length)||0}}),error:null}}catch(e){return console.error("Error fetching courses:",e),{data:null,error:e}}},Uh=async e=>{var t;try{const{data:n,error:r}=await R.from("courses").select(`
        *,
        course_content(*),
        enrollments(count)
      `).eq("id",e).eq("is_active",!0).single();if(r)throw r;return{data:{...n,enrollment_count:((t=n.enrollments)==null?void 0:t.length)||0,content:n.course_content||[]},error:null}}catch(n){return console.error("Error fetching course:",n),{data:null,error:n}}},qP=async e=>{try{const{error:t}=await R.from("courses").update({is_active:!1}).eq("id",e);if(t)throw t;return{error:null}}catch(t){return console.error("Error deleting course:",t),{error:t}}},KP=async()=>{try{const{data:e,error:t}=await R.from("courses").select(`
        *,
        enrollments(count)
      `).order("created_at",{ascending:!1});if(t)throw t;return{data:e,error:null}}catch(e){return console.error("Error fetching admin courses:",e),{data:null,error:e}}},XP=async()=>{try{const{count:e,error:t}=await R.from("courses").select("*",{count:"exact",head:!0}).eq("is_active",!0);if(t)throw t;const{count:n,error:r}=await R.from("enrollments").select("*",{count:"exact",head:!0});if(r)throw r;const{count:s,error:a}=await R.from("enrollments").select("*",{count:"exact",head:!0}).eq("status","active");if(a)throw a;const{count:o,error:l}=await R.from("enrollments").select("*",{count:"exact",head:!0}).eq("status","completed");if(l)throw l;return{data:{totalCourses:e||0,totalEnrollments:n||0,activeEnrollments:s||0,completedEnrollments:o||0,completionRate:n>0?(o/n*100).toFixed(1):0},error:null}}catch(e){return console.error("Error fetching course stats:",e),{data:null,error:e}}},YP=()=>{const{toast:e}=ae();qe();const[t,n]=w.useState([]),[r,s]=w.useState(!0),[a,o]=w.useState(""),[l,c]=w.useState("ทั้งหมด");w.useEffect(()=>{u()},[]);const u=async()=>{s(!0);const{data:v,error:y}=await GP();y?e({title:"ข้อผิดพลาดในการโหลดข้อมูล",description:y.message,variant:"destructive"}):n(v||[]),s(!1)},d=["ทั้งหมด",...new Set(t.map(v=>v.category).filter(Boolean))],h=t.filter(v=>{var p;const y=v.title.toLowerCase().includes(a.toLowerCase())||((p=v.description)==null?void 0:p.toLowerCase().includes(a.toLowerCase())),b=l==="ทั้งหมด"||v.category===l;return y&&b}),f={initial:{opacity:0,y:20},in:{opacity:1,y:0},out:{opacity:0,y:-20}},m={type:"tween",ease:"anticipate",duration:.5};return i.jsxs(A.div,{initial:"initial",animate:"in",exit:"out",variants:f,transition:m,className:"pt-24 pb-16 px-6",children:[i.jsxs(Ce,{children:[i.jsx("title",{children:"คอร์สเรียนทั้งหมด - Login Learning"}),i.jsx("meta",{name:"description",content:"เลือกดูคอร์สเรียนวิศวกรรมที่หลากหลายของเรา ออกแบบมาเพื่อน้องๆ มัธยมโดยเฉพาะ"})]}),i.jsx("section",{className:"pt-8 mb-12",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs(A.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.7,delay:.2},className:"text-center mb-10",children:[i.jsxs("h1",{className:"text-5xl lg:text-6xl font-bold text-white mb-4",children:["คอร์สเรียน ",i.jsx("span",{className:"gradient-text",children:"ทั้งหมด"})]}),i.jsx("p",{className:"text-xl text-white/80 max-w-2xl mx-auto",children:"ค้นหาคอร์สที่ใช่ จุดประกายแรงบันดาลใจสู่เส้นทางวิศวะฯ กับ Login Learning"})]}),i.jsxs(A.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.4},className:"flex flex-col md:flex-row gap-4 mb-8 p-4 glass-effect rounded-lg",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx(Le,{type:"text",placeholder:"ค้นหาคอร์สเรียน...",className:"pl-10 text-black bg-white/90 focus:bg-white",value:a,onChange:v=>o(v.target.value)}),i.jsx(ul,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"})]}),i.jsx("select",{className:"px-4 py-2 rounded-lg bg-white/90 text-black border border-white/30 focus:bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:l,onChange:v=>c(v.target.value),children:d.map(v=>i.jsx("option",{value:v,children:v},v))})]}),r?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#667eea] mx-auto mb-4"}),i.jsx("p",{className:"text-white/70",children:"กำลังโหลดคอร์สเรียน..."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-6 text-white/70",children:["พบ ",h.length," คอร์สเรียน",a&&` สำหรับ "${a}"`,l!=="ทั้งหมด"&&` ในหมวดหมู่ "${l}"`]}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:h.map((v,y)=>i.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:y*.05+.5},className:"course-card rounded-xl overflow-hidden hover:scale-105 transition-transform duration-300",children:i.jsxs(te,{to:`/courses/${v.id}`,className:"block",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{className:"w-full h-48 object-cover",alt:`ภาพปกคอร์ส ${v.title}`,src:v.image_url||"https://images.unsplash.com/photo-1635251595512-dc52146d5ae8"}),i.jsx("div",{className:"absolute top-3 right-3 bg-black/60 backdrop-blur-sm rounded-full px-3 py-1 text-xs font-medium text-white",children:v.difficulty_level==="beginner"?"ระดับเริ่มต้น":v.difficulty_level==="intermediate"?"ระดับกลาง":v.difficulty_level==="advanced"?"ระดับสูง":"ไม่ระบุ"}),i.jsx("div",{className:"absolute bottom-3 left-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-2 py-1 rounded text-xs font-semibold",children:v.category||"ทั่วไป"})]}),i.jsxs("div",{className:"p-5",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-2 line-clamp-2 h-14",children:v.title}),i.jsx("p",{className:"text-sm text-white/70 mb-3 line-clamp-3 h-[60px]",children:v.description||"ไม่มีคำอธิบาย"}),i.jsxs("div",{className:"flex items-center justify-between mb-3 text-sm",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(Eo,{className:"w-4 h-4 text-blue-400"}),i.jsx("span",{className:"text-white font-medium",children:v.instructor_name||"อาจารย์"})]}),i.jsxs("div",{className:"flex items-center space-x-1 text-white/70",children:[i.jsx(Ue,{className:"w-4 h-4"}),i.jsx("span",{children:v.enrollment_count||0})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-1 text-white/70 text-sm",children:[i.jsx(vn,{className:"w-4 h-4"}),i.jsxs("span",{children:[v.duration_hours||0," ชั่วโมง"]})]}),i.jsx("div",{className:"text-white font-bold",children:v.price>0?`฿${v.price.toLocaleString()}`:"ฟรี"})]}),i.jsx(T,{className:"w-full mt-4 bg-gradient-to-r from-[#667eea] to-[#764ba2] hover:from-[#5a6fcf] hover:to-[#673f8b] text-white",children:"ดูรายละเอียด"})]})]})},v.id))}),h.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(We,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"ไม่พบคอร์สเรียน"}),i.jsx("p",{className:"text-white/70 mb-4",children:"ลองปรับเปลี่ยนคำค้นหาหรือหมวดหมู่"}),i.jsx(T,{onClick:()=>{o(""),c("ทั้งหมด")},variant:"outline",className:"text-white border-white/30 hover:bg-white/10",children:"ดูคอร์สทั้งหมด"})]})]})]})})]})},QP=async e=>{try{const{data:{user:t},error:n}=await R.auth.getUser();if(n||!t)throw new Error("User not authenticated");const{data:r,error:s}=await R.from("enrollments").select("*").eq("user_id",t.id).eq("course_id",e).single();if(s&&s.code!=="PGRST116")throw s;if(r)return{data:null,error:{message:"คุณได้ลงทะเบียนคอร์สนี้แล้ว"}};const{data:a,error:o}=await R.from("enrollments").insert([{user_id:t.id,course_id:e,status:"active",progress_percentage:0}]).select(`
        *,
        courses(title, instructor_name)
      `).single();if(o)throw o;return{data:a,error:null}}catch(t){return console.error("Error enrolling in course:",t),{data:null,error:t}}},ww=async e=>{try{const{data:{user:t},error:n}=await R.auth.getUser();if(n||!t)return{isEnrolled:!1,error:null};const{data:r,error:s}=await R.from("enrollments").select("id, status").eq("user_id",t.id).eq("course_id",e).single();if(s&&s.code!=="PGRST116")throw s;return{isEnrolled:!!r,status:(r==null?void 0:r.status)||null,error:null}}catch(t){return console.error("Error checking enrollment:",t),{isEnrolled:!1,error:t}}},JP=async e=>{try{const{data:t,error:n}=await R.from("content_attachments").select("*").eq("content_id",e).order("upload_order",{ascending:!0});if(n)throw n;return{data:t||[],error:null}}catch(t){return console.error("Error fetching content attachments:",t),{data:[],error:t}}},ZP=async(e,t,n=1)=>{try{console.log("Starting file upload:",{fileName:e.name,contentId:t,fileSize:e.size});const{data:{user:r},error:s}=await R.auth.getUser();if(s)throw console.error("User authentication error:",s),new Error(`Authentication error: ${s.message}`);if(!r)throw new Error("User not authenticated - please login first");if(console.log("User authenticated:",r.id),!e)throw new Error("No file provided");if(!t)throw new Error("Content ID is required");const a=Date.now(),o=e.name.split(".").pop(),l=e.name.replace(/[^a-zA-Z0-9.-]/g,"_"),c=`${a}_${l}`,u=`attachments/${t}/${c}`;console.log("Generated file path:",u),console.log("Checking storage bucket access...");let d=!1;try{const{data:j,error:N}=await R.storage.listBuckets();if(N)console.warn("Cannot list buckets, trying direct access:",N.message);else{const S=j.find(_=>_.name==="course-files");S&&(console.log("Storage bucket found in list:",S.name),d=!0)}if(!d){console.log("Testing direct bucket access...");const{data:S,error:_}=await R.storage.from("course-files").list("",{limit:1});if(_)throw console.error("Direct bucket access failed:",_),new Error(`Storage bucket "course-files" is not accessible: ${_.message}. Please check bucket exists and permissions are correct.`);console.log("Direct bucket access successful"),d=!0}}catch(j){throw console.error("Storage bucket check failed:",j),new Error(`Storage setup error: ${j.message}`)}if(!d)throw new Error('Storage bucket "course-files" not found or not accessible. Please setup storage first.');console.log("Uploading file to storage...");const{data:h,error:f}=await R.storage.from("course-files").upload(u,e,{cacheControl:"3600",upsert:!1});if(f)throw console.error("Storage upload error:",f),new Error(`File upload failed: ${f.message}`);console.log("File uploaded successfully:",h);const{data:{publicUrl:m}}=R.storage.from("course-files").getPublicUrl(u);console.log("Generated public URL:",m);const{data:v,error:y}=await R.from("content_attachments").select("count").limit(1);if(y&&y.code==="42P01")throw new Error('Database table "content_attachments" not found. Please run the database schema setup.');console.log("Saving attachment record to database...");let b=1;if(typeof n=="number"&&n>0&&n<=2147483647)b=Math.floor(n);else if(typeof n=="string"){const j=parseInt(n);!isNaN(j)&&j>0&&j<=2147483647&&(b=j)}console.log("Original uploadOrder:",n,"Valid uploadOrder:",b);const p={content_id:t,file_name:e.name,file_path:u,file_size:e.size,file_type:(o==null?void 0:o.toLowerCase())||"unknown",mime_type:e.type||"application/octet-stream",upload_order:b,is_downloadable:!0,is_preview_available:n3(e.type),uploaded_by:r.id};console.log("Attachment record:",p);const{data:g,error:x}=await R.from("content_attachments").insert([p]).select().single();if(x){console.error("Database insert error:",x);try{await R.storage.from("course-files").remove([u]),console.log("Cleaned up uploaded file after database error")}catch(j){console.error("Failed to cleanup file:",j)}throw new Error(`Database error: ${x.message}`)}return console.log("Attachment record saved:",g),{data:{...g,url:m},error:null}}catch(r){return console.error("Error uploading attachment:",r),{data:null,error:{message:r.message,details:r}}}},e3=async(e,t)=>{try{const{data:n,error:r}=await R.storage.from("course-files").download(e);if(r)throw r;const s=URL.createObjectURL(n),a=document.createElement("a");return a.href=s,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s),{error:null}}catch(n){return console.error("Error downloading attachment:",n),{error:n}}},t3=async(e,t=3600)=>{try{const{data:n,error:r}=await R.storage.from("course-files").createSignedUrl(e,t);if(r)throw r;return{data:n.signedUrl,error:null}}catch(n){return console.error("Error getting download URL:",n),{data:null,error:n}}},n3=e=>["application/pdf","image/jpeg","image/png","image/gif","image/webp","text/plain","text/html","application/json"].includes(e),Vo=e=>{const t={image:["jpg","jpeg","png","gif","webp","svg","bmp"],video:["mp4","avi","mov","wmv","flv","webm"],audio:["mp3","wav","ogg","aac","flac"],document:["pdf","doc","docx","txt","rtf"],presentation:["ppt","pptx","odp"],spreadsheet:["xls","xlsx","ods","csv"],archive:["zip","rar","7z","tar","gz"],code:["js","html","css","py","java","cpp","c","php","json","xml"]};for(const[n,r]of Object.entries(t))if(r.includes(e==null?void 0:e.toLowerCase()))return n;return"other"},Fh=e=>{if(e===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+n[r]},Vh=({contentId:e,showUploadButton:t=!1,onUploadClick:n,className:r="",compact:s=!1})=>{const{toast:a}=ae(),[o,l]=w.useState([]),[c,u]=w.useState(!0),[d,h]=w.useState(null),[f,m]=w.useState(!1);w.useEffect(()=>{e&&v()},[e]);const v=async()=>{u(!0);try{const{data:x,error:j}=await JP(e);if(j)throw j;l(x||[])}catch(x){console.error("Error loading attachments:",x),a({title:"ไม่สามารถโหลดไฟล์แนบได้",description:x.message,variant:"destructive"})}finally{u(!1)}},y=(x,j="w-5 h-5")=>{switch(Vo(x)){case"image":return i.jsx(oh,{className:`${j} text-blue-500`});case"video":return i.jsx(wv,{className:`${j} text-purple-500`});case"archive":return i.jsx(hv,{className:`${j} text-orange-500`});case"document":return i.jsx(re,{className:`${j} text-red-500`});default:return i.jsx(ah,{className:`${j} text-slate-500`})}},b=async x=>{try{const{error:j}=await e3(x.file_path,x.file_name);if(j)throw j;a({title:"ดาวน์โหลดสำเร็จ",description:`ดาวน์โหลด ${x.file_name} เสร็จสิ้น`})}catch(j){console.error("Download error:",j),a({title:"ไม่สามารถดาวน์โหลดได้",description:j.message,variant:"destructive"})}},p=x=>{const j=Vo(x.file_type);["image","document"].includes(j)||x.is_preview_available?(h(x),m(!0)):a({title:"ไม่สามารถดูตัวอย่างได้",description:"ไฟล์นี้ไม่รองรับการดูตัวอย่าง",variant:"destructive"})},g=async x=>{try{const{data:j,error:N}=await t3(x.file_path);if(N)throw N;window.open(j,"_blank")}catch(j){console.error("External link error:",j),a({title:"ไม่สามารถเปิดลิงก์ได้",description:j.message,variant:"destructive"})}};return c?i.jsx("div",{className:`${r}`,children:i.jsxs("div",{className:"flex items-center justify-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),i.jsx("span",{className:"ml-2 text-slate-400 text-sm",children:"กำลังโหลดไฟล์แนบ..."})]})}):s?i.jsx("div",{className:`${r}`,children:o.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h4",{className:"text-sm font-medium text-slate-300 flex items-center",children:[i.jsx(re,{className:"w-4 h-4 mr-1"}),"ไฟล์แนบ (",o.length,")"]}),i.jsx("div",{className:"grid gap-2",children:o.map(x=>i.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-slate-700/30 rounded-lg hover:bg-slate-700/50 transition-colors",children:[i.jsx("div",{className:"flex-shrink-0",children:y(x.file_type,"w-4 h-4")}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm text-white truncate",children:x.file_name}),i.jsx("p",{className:"text-xs text-slate-400",children:Fh(x.file_size)})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(T,{size:"sm",variant:"ghost",onClick:()=>b(x),title:"ดาวน์โหลด",children:i.jsx(fn,{className:"w-4 h-4"})}),x.is_preview_available&&i.jsx(T,{size:"sm",variant:"ghost",onClick:()=>p(x),title:"ดูตัวอย่าง",children:i.jsx(qn,{className:"w-4 h-4"})})]})]},x.id))})]})}):i.jsxs("div",{className:`space-y-4 ${r}`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center",children:[i.jsx(re,{className:"w-5 h-5 mr-2"}),"ไฟล์แนบ (",o.length,")"]}),t&&i.jsxs(T,{onClick:n,className:"bg-blue-500 hover:bg-blue-600",children:[i.jsx(re,{className:"w-4 h-4 mr-2"}),"จัดการไฟล์"]})]}),o.length===0?i.jsxs("div",{className:"text-center py-8 bg-slate-700/20 rounded-lg border-2 border-dashed border-slate-600",children:[i.jsx(re,{className:"w-12 h-12 text-slate-500 mx-auto mb-3"}),i.jsx("p",{className:"text-slate-400",children:"ยังไม่มีไฟล์แนับในเนื้อหานี้"}),t&&i.jsx(T,{onClick:n,variant:"outline",className:"mt-3",children:"เพิ่มไฟล์แนบ"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(x=>i.jsx(r3,{attachment:x,onDownload:()=>b(x),onPreview:()=>p(x),onExternalLink:()=>g(x)},x.id))}),i.jsx(Ct,{children:f&&d&&i.jsx(s3,{file:d,onClose:()=>{m(!1),h(null)}})})]})},r3=({attachment:e,onDownload:t,onPreview:n,onExternalLink:r})=>{var s;return Vo(e.file_type),i.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-effect p-4 rounded-lg hover:bg-slate-700/30 transition-colors",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[i.jsx("div",{className:"flex-shrink-0",children:getFileIcon(e.file_type,"w-8 h-8")}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-sm font-medium text-white truncate",children:e.file_name}),i.jsxs("p",{className:"text-xs text-slate-400",children:[Fh(e.file_size)," • ",(s=e.file_type)==null?void 0:s.toUpperCase()]})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(T,{size:"sm",variant:"ghost",onClick:t,title:"ดาวน์โหลด",children:i.jsx(fn,{className:"w-4 h-4"})}),e.is_preview_available&&i.jsx(T,{size:"sm",variant:"ghost",onClick:n,title:"ดูตัวอย่าง",children:i.jsx(qn,{className:"w-4 h-4"})}),i.jsx(T,{size:"sm",variant:"ghost",onClick:r,title:"เปิดในแท็บใหม่",children:i.jsx(Pu,{className:"w-4 h-4"})})]}),i.jsx(T,{size:"sm",variant:"ghost",title:"แชร์",children:i.jsx(F_,{className:"w-4 h-4"})})]})]})},s3=({file:e,onClose:t})=>{var h;const[n,r]=w.useState(1),[s,a]=w.useState(0),o=Vo(e.file_type),l=()=>r(f=>Math.min(f+.25,3)),c=()=>r(f=>Math.max(f-.25,.25)),u=()=>a(f=>(f+90)%360),d=()=>{r(1),a(0)};return i.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50",onClick:t,children:i.jsxs(A.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative max-w-6xl max-h-[90vh] w-full h-full flex flex-col",onClick:f=>f.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 backdrop-blur-sm",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[getFileIcon(e.file_type),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-medium",children:e.file_name}),i.jsxs("p",{className:"text-slate-400 text-sm",children:[Fh(e.file_size)," • ",(h=e.file_type)==null?void 0:h.toUpperCase()]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[o==="image"&&i.jsxs(i.Fragment,{children:[i.jsx(T,{size:"sm",variant:"ghost",onClick:c,children:i.jsx(Z_,{className:"w-4 h-4"})}),i.jsx(T,{size:"sm",variant:"ghost",onClick:l,children:i.jsx(J_,{className:"w-4 h-4"})}),i.jsx(T,{size:"sm",variant:"ghost",onClick:u,children:i.jsx($_,{className:"w-4 h-4"})}),i.jsx(T,{size:"sm",variant:"ghost",onClick:d,children:i.jsx(mv,{className:"w-4 h-4"})})]}),i.jsx(T,{size:"sm",variant:"ghost",onClick:t,children:i.jsx(ea,{className:"w-4 h-4"})})]})]}),i.jsx("div",{className:"flex-1 flex items-center justify-center p-4 overflow-hidden",children:o==="image"?i.jsx("img",{src:`${{}.VITE_SUPABASE_URL}/storage/v1/object/public/course-files/${e.file_path}`,alt:e.file_name,className:"max-w-full max-h-full object-contain transition-transform duration-200",style:{transform:`scale(${n}) rotate(${s}deg)`}}):o==="document"&&e.file_type==="pdf"?i.jsx("iframe",{src:`${{}.VITE_SUPABASE_URL}/storage/v1/object/public/course-files/${e.file_path}`,className:"w-full h-full rounded-lg",title:e.file_name}):i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-24 h-24 mx-auto mb-4 flex items-center justify-center bg-slate-700 rounded-full",children:getFileIcon(e.file_type,"w-12 h-12")}),i.jsx("p",{className:"text-white mb-2",children:"ไม่สามารถแสดงตัวอย่างไฟล์นี้ได้"}),i.jsx("p",{className:"text-slate-400 text-sm",children:"คลิกดาวน์โหลดเพื่อเปิดไฟล์"})]})})]})})},i3=()=>{var b;const{courseId:e}=al(),{toast:t}=ae(),{user:n}=qe(),[r,s]=w.useState(null),[a,o]=w.useState(!0),[l,c]=w.useState({isEnrolled:!1,status:null}),[u,d]=w.useState(!1);w.useEffect(()=>{h(),n&&f()},[e,n]);const h=async()=>{o(!0),console.log("Loading course with ID:",e);const{data:p,error:g}=await Uh(e);console.log("Course data:",p,"Error:",g),g?(console.error("Course loading error:",g),t({title:"ข้อผิดพลาดในการโหลดข้อมูล",description:g.message,variant:"destructive"})):s(p),o(!1)},f=async()=>{const{isEnrolled:p,status:g,error:x}=await ww(e);x||c({isEnrolled:p,status:g})},m=async()=>{if(!n){t({title:"กรุณาเข้าสู่ระบบก่อน",description:"คุณต้องเข้าสู่ระบบก่อนลงทะเบียนเรียน",variant:"destructive"});return}d(!0);const{data:p,error:g}=await QP(e);g?t({title:"ไม่สามารถลงทะเบียนได้",description:g.message,variant:"destructive"}):(t({title:"ลงทะเบียนสำเร็จ!",description:`คุณได้ลงทะเบียนคอร์ส "${r==null?void 0:r.title}" เรียบร้อยแล้ว`}),c({isEnrolled:!0,status:"active"})),d(!1)},v={initial:{opacity:0,y:20},in:{opacity:1,y:0},out:{opacity:0,y:-20}},y={type:"tween",ease:"anticipate",duration:.5};return a?i.jsx("div",{className:"container mx-auto px-4 py-12",children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#667eea] mx-auto mb-4"}),i.jsx("p",{className:"text-white/70",children:"กำลังโหลดข้อมูลคอร์ส..."})]})}):r?i.jsxs(A.div,{initial:"initial",animate:"in",exit:"out",variants:v,transition:y,className:"container mx-auto px-4 py-12",children:[i.jsxs(Ce,{children:[i.jsxs("title",{children:[r.title," - Login Learning"]}),i.jsx("meta",{name:"description",content:r.description})]}),i.jsx("div",{className:"mb-8",children:i.jsxs(te,{to:"/courses",className:"flex items-center text-slate-300 hover:text-white transition-colors",children:[i.jsx(Zi,{className:"w-5 h-5 mr-2"}),"กลับไปหน้าคอร์สเรียนทั้งหมด"]})}),i.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[i.jsxs(A.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"lg:col-span-2 space-y-6",children:[i.jsxs("div",{className:"glass-effect p-6 sm:p-8 rounded-xl shadow-xl",children:[i.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-white mb-4",children:r.title}),i.jsx("p",{className:"text-slate-300 text-lg leading-relaxed mb-6",children:r.description}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-sm mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(We,{className:"w-5 h-5 text-[#667eea]"}),i.jsxs("span",{className:"text-slate-200",children:["สอนโดย: ",r.instructor_name||"ไม่ระบุ"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(vn,{className:"w-5 h-5 text-[#667eea]"}),i.jsxs("span",{className:"text-slate-200",children:["ระยะเวลา: ",r.duration_hours||0," ชั่วโมง"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ue,{className:"w-5 h-5 text-[#667eea]"}),i.jsxs("span",{className:"text-slate-200",children:["ผู้เรียน: ",r.enrollment_count||0," คน"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ft,{className:"w-5 h-5 text-[#667eea]"}),i.jsxs("span",{className:"text-slate-200",children:["ระดับ: ",r.difficulty_level||"ไม่ระบุ"]})]})]}),i.jsx("img",{className:"w-full h-64 sm:h-96 object-cover rounded-lg mb-6 shadow-md",alt:r.title,src:"https://images.unsplash.com/photo-1635251595512-dc52146d5ae8"})]}),i.jsxs("div",{className:"glass-effect p-6 sm:p-8 rounded-xl shadow-xl",children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"เนื้อหาในคอร์ส"}),r.content&&r.content.length>0?i.jsx("ul",{className:"space-y-3",children:r.content.map((p,g)=>i.jsxs(A.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2+g*.05},className:"p-4 bg-slate-700/30 rounded-lg space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:"flex-shrink-0",children:[p.content_type==="video"&&i.jsx(We,{className:"w-5 h-5 text-blue-400"}),p.content_type==="quiz"&&i.jsx(Ft,{className:"w-5 h-5 text-yellow-400"}),p.content_type==="assignment"&&i.jsx(Ue,{className:"w-5 h-5 text-purple-400"}),p.content_type==="document"&&i.jsx(We,{className:"w-5 h-5 text-green-400"})]}),i.jsx("span",{className:"text-slate-200 font-medium",children:p.title})]}),i.jsxs("div",{className:"text-sm text-slate-400",children:[p.duration_minutes>0&&`${p.duration_minutes} นาที`,p.content_type==="quiz"&&"แบบทดสอบ",p.content_type==="assignment"&&"งานมอบหมาย"]})]}),p.description&&i.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:p.description}),i.jsx(Vh,{contentId:p.id,compact:!0,className:"mt-3"})]},p.id))}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(We,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-400",children:"ยังไม่มีเนื้อหาในคอร์สนี้"})]})]})]}),i.jsxs(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"lg:col-span-1 space-y-6",children:[i.jsxs("div",{className:"glass-effect p-6 sm:p-8 rounded-xl shadow-xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("h2",{className:"text-3xl font-bold text-white",children:["฿",((b=r.price)==null?void 0:b.toLocaleString())||"0"]}),i.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((p,g)=>i.jsx(Lu,{className:"w-5 h-5 text-yellow-400 fill-current"},g)),i.jsx("span",{className:"ml-2 text-sm text-slate-300",children:"(5.0)"})]})]}),i.jsx("p",{className:"text-sm text-slate-400 mb-6",children:"ราคาพิเศษสำหรับนักเรียน Login Learning"}),l.isEnrolled&&i.jsxs("div",{className:"flex items-center space-x-2 mb-4 p-3 bg-green-500/20 rounded-lg border border-green-500/30",children:[i.jsx(X_,{className:"w-5 h-5 text-green-400"}),i.jsx("span",{className:"text-green-400 font-medium",children:"คุณได้ลงทะเบียนคอร์สนี้แล้ว"})]}),l.isEnrolled?i.jsx(te,{to:`/courses/${e}/learn`,className:"block w-full",children:i.jsxs(T,{size:"lg",className:"w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white text-lg py-3",children:[i.jsx(We,{className:"w-5 h-5 mr-2"}),"เริ่มเรียน"]})}):i.jsxs(T,{size:"lg",className:"w-full bg-gradient-to-r from-[#667eea] to-[#764ba2] hover:from-[#5a6fcf] hover:to-[#673f8b] text-white text-lg py-3",onClick:m,disabled:u,children:[i.jsx(H_,{className:"w-5 h-5 mr-2"}),u?"กำลังลงทะเบียน...":"ลงทะเบียนเรียนเลย"]}),i.jsx("p",{className:"text-xs text-slate-500 mt-4 text-center",children:"รับประกันความพึงพอใจ คืนเงินภายใน 7 วัน"})]}),i.jsxs("div",{className:"glass-effect p-6 sm:p-8 rounded-xl shadow-xl",children:[i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"สิ่งที่คุณจะได้รับ"}),i.jsxs("ul",{className:"space-y-2 text-slate-300 text-sm list-disc list-inside",children:[i.jsx("li",{children:"ความรู้และทักษะทางวิศวกรรมที่แข็งแกร่ง"}),i.jsx("li",{children:"ประสบการณ์ทำโปรเจกต์จริง"}),i.jsx("li",{children:"ใบประกาศนียบัตรเมื่อเรียนจบ"}),i.jsx("li",{children:"คำแนะนำจากผู้เชี่ยวชาญ"}),i.jsx("li",{children:"โอกาสในการสร้างเครือข่าย"})]})]})]})]})]}):i.jsx("div",{className:"container mx-auto px-4 py-12",children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Xt,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),i.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"ไม่พบข้อมูลคอร์ส"}),i.jsx("p",{className:"text-white/70 mb-4",children:"คอร์สที่คุณกำลังมองหาไม่มีอยู่ในระบบ"}),i.jsx(te,{to:"/courses",children:i.jsx(T,{variant:"outline",className:"text-white border-white/30 hover:bg-white/10",children:"กลับไปหน้าคอร์สทั้งหมด"})})]})})},Wp=async(e,t)=>{try{const{data:{user:n},error:r}=await R.auth.getUser();if(r||!n)throw new Error("User not authenticated");const{currentTime:s=0,watchedDuration:a=0,totalDuration:o=0,isCompleted:l=!1}=t,c={start_time:new Date().toISOString(),end_time:new Date().toISOString(),duration:.25,position:s},{data:u,error:d}=await R.from("video_progress").select("*").eq("user_id",n.id).eq("content_id",e).single();let h=[],f=a;u&&(h=u.watch_sessions||[],f=Math.max(u.watched_duration||0,a)),h.push(c),h.length>100&&(h=h.slice(-100));const m={user_id:n.id,content_id:e,last_position:s,watched_duration:f,total_duration:o||(u==null?void 0:u.total_duration)||0,watch_sessions:h,updated_at:new Date().toISOString()};(l||o>0&&s/o>=.9)&&(m.completed_at=new Date().toISOString());const{data:v,error:y}=await R.from("video_progress").upsert([m],{onConflict:"user_id,content_id"}).select().single();if(y)throw y;return{data:v,error:null}}catch(n){return console.error("Error updating video progress:",n),{data:null,error:n}}},a3=async e=>{try{const{data:{user:t},error:n}=await R.auth.getUser();if(n||!t)return{data:null,error:null};const{data:r,error:s}=await R.from("video_progress").select("*").eq("user_id",t.id).eq("content_id",e).single();if(s&&s.code!=="PGRST116")throw s;return{data:r||null,error:null}}catch(t){return console.error("Error fetching video progress:",t),{data:null,error:t}}},o3=async e=>{try{const{data:{user:t},error:n}=await R.auth.getUser();if(n||!t)return{data:null,error:null};const{data:r,error:s}=await R.from("enrollments").select("id, progress_percentage, status").eq("user_id",t.id).eq("course_id",e).single();if(s&&s.code!=="PGRST116")throw s;if(!r)return{data:{enrolled:!1},error:null};const{data:a,error:o}=await R.from("course_content").select("id, title, content_type, order_index").eq("course_id",e).order("order_index");if(o)throw o;const l=a.map(x=>x.id),{data:c,error:u}=await R.from("video_progress").select("content_id, completed_at").eq("user_id",t.id).in("content_id",l);if(u)throw u;const{data:d,error:h}=await R.from("quiz_attempts").select("quiz_id, is_passed, completed_at").eq("user_id",t.id);if(h)throw h;const{data:f,error:m}=await R.from("assignment_submissions").select("assignment_id, status, submitted_at").eq("user_id",t.id);if(m)throw m;const v=new Map(c.map(x=>[x.content_id,!!x.completed_at])),y=a.map(x=>{let j=!1;switch(x.content_type){case"video":j=v.get(x.id)||!1;break;case"quiz":j=d.some(N=>N.is_passed);break;case"assignment":j=f.some(N=>N.status==="submitted"||N.status==="graded");break;default:j=!1}return{...x,is_completed:j}}),b=y.filter(x=>x.is_completed).length,p=y.length,g=p>0?Math.round(b/p*100):0;return{data:{enrolled:!0,enrollment:r,content_progress:y,completed_count:b,total_count:p,progress_percentage:g,calculated_progress:g},error:null}}catch(t){return console.error("Error fetching course progress:",t),{data:null,error:t}}},l3=({src:e,contentId:t,title:n,onProgress:r,autoPlay:s=!1,initialTime:a=0})=>{const{user:o}=qe(),l=w.useRef(null),c=w.useRef(null),u=w.useRef(null),[d,h]=w.useState(!1),[f,m]=w.useState(a),[v,y]=w.useState(0),[b,p]=w.useState(1),[g,x]=w.useState(!1),[j,N]=w.useState(!1),[S,_]=w.useState(!0),[C,D]=w.useState(!0),[V,K]=w.useState(1),[B,z]=w.useState(0),[k,L]=w.useState(0);w.useEffect(()=>{const F=l.current;if(!F)return;a>0&&(F.currentTime=a);const me=()=>{y(F.duration),_(!1)},Te=()=>{m(F.currentTime),F.paused||z(_w=>_w+.25)},yn=()=>h(!0),nr=()=>h(!1),zt=()=>{h(!1),o&&t&&Wp(t,{currentTime:F.duration,watchedDuration:F.duration,isCompleted:!0})},El=()=>{p(F.volume),x(F.muted)},zh=()=>_(!0),Bh=()=>_(!1);return F.addEventListener("loadedmetadata",me),F.addEventListener("timeupdate",Te),F.addEventListener("play",yn),F.addEventListener("pause",nr),F.addEventListener("ended",zt),F.addEventListener("volumechange",El),F.addEventListener("waiting",zh),F.addEventListener("canplay",Bh),()=>{F.removeEventListener("loadedmetadata",me),F.removeEventListener("timeupdate",Te),F.removeEventListener("play",yn),F.removeEventListener("pause",nr),F.removeEventListener("ended",zt),F.removeEventListener("volumechange",El),F.removeEventListener("waiting",zh),F.removeEventListener("canplay",Bh)}},[t,o,a]),w.useEffect(()=>{let F;const me=()=>{D(!0),clearTimeout(F),F=setTimeout(()=>{d&&D(!1)},3e3)},Te=c.current;return Te&&(Te.addEventListener("mousemove",me),Te.addEventListener("mouseleave",()=>{d&&D(!1)})),()=>{clearTimeout(F),Te&&Te.removeEventListener("mousemove",me)}},[d]),w.useEffect(()=>{if(!(!o||!t))return u.current=setInterval(()=>{const F=l.current;F&&Math.abs(F.currentTime-k)>5&&(Wp(t,{currentTime:F.currentTime,watchedDuration:B,totalDuration:F.duration}),L(F.currentTime))},1e4),()=>{u.current&&clearInterval(u.current)}},[o,t,B,k]);const $=()=>{const F=l.current;F.paused?F.play():F.pause()},H=F=>{const me=l.current,Te=F.currentTarget.getBoundingClientRect(),yn=(F.clientX-Te.left)/Te.width;me.currentTime=yn*v},E=()=>{const F=l.current;F.muted=!F.muted},U=F=>{const me=l.current,Te=parseFloat(F.target.value);me.volume=Te,p(Te),x(Te===0)},P=()=>{const F=c.current;document.fullscreenElement?document.exitFullscreen().then(()=>{N(!1)}):F.requestFullscreen().then(()=>{N(!0)})},O=F=>{const me=l.current;me.currentTime=Math.max(0,Math.min(v,me.currentTime+F))},G=F=>{const me=l.current;me.playbackRate=F,K(F)},ee=F=>{const me=Math.floor(F/60),Te=Math.floor(F%60);return`${me}:${Te.toString().padStart(2,"0")}`},oe=v>0?f/v*100:0,tt=v>0?B/v*100:0;return i.jsxs("div",{ref:c,className:"relative bg-black rounded-lg overflow-hidden group cursor-pointer",onClick:$,children:[i.jsx("video",{ref:l,src:e,className:"w-full h-auto max-h-[500px] object-contain",autoPlay:s,preload:"metadata",onClick:F=>F.stopPropagation()}),S&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50",children:i.jsx(Co,{className:"w-12 h-12 text-white animate-spin"})}),!d&&!S&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:i.jsx(A.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-white/20 backdrop-blur-sm rounded-full p-4",children:i.jsx(Au,{className:"w-16 h-16 text-white ml-2"})})}),i.jsxs(A.div,{initial:{opacity:1},animate:{opacity:C?1:0},transition:{duration:.3},className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",onClick:F=>F.stopPropagation(),children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"w-full h-2 bg-white/20 rounded-full cursor-pointer",onClick:H,children:[i.jsx("div",{className:"h-full bg-white/40 rounded-full absolute",style:{width:`${Math.min(tt,100)}%`}}),i.jsx("div",{className:"h-full bg-blue-500 rounded-full relative",style:{width:`${oe}%`},children:i.jsx("div",{className:"absolute right-0 top-1/2 transform -translate-y-1/2 w-4 h-4 bg-blue-500 rounded-full -mr-2"})})]})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(T,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:$,children:d?i.jsx(I_,{className:"w-6 h-6"}):i.jsx(Au,{className:"w-6 h-6"})}),i.jsx(T,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:()=>O(-10),children:i.jsx(W_,{className:"w-5 h-5"})}),i.jsx(T,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:()=>O(10),children:i.jsx(G_,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(T,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:E,children:g||b===0?i.jsx(Q_,{className:"w-5 h-5"}):i.jsx(Y_,{className:"w-5 h-5"})}),i.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:g?0:b,onChange:U,className:"w-20 h-1 bg-white/20 rounded-lg appearance-none slider"})]}),i.jsxs("span",{className:"text-white text-sm font-mono",children:[ee(f)," / ",ee(v)]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("select",{value:V,onChange:F=>G(parseFloat(F.target.value)),className:"bg-transparent text-white text-sm border border-white/20 rounded px-2 py-1",children:[i.jsx("option",{value:"0.5",className:"bg-black",children:"0.5x"}),i.jsx("option",{value:"0.75",className:"bg-black",children:"0.75x"}),i.jsx("option",{value:"1",className:"bg-black",children:"1x"}),i.jsx("option",{value:"1.25",className:"bg-black",children:"1.25x"}),i.jsx("option",{value:"1.5",className:"bg-black",children:"1.5x"}),i.jsx("option",{value:"2",className:"bg-black",children:"2x"})]}),i.jsx(T,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:P,children:i.jsx(mv,{className:"w-5 h-5"})})]})]})]}),n&&C&&i.jsx(A.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"absolute top-4 left-4 right-4",children:i.jsx("h3",{className:"text-white text-lg font-semibold bg-black/50 backdrop-blur-sm rounded px-3 py-2",children:n})})]})},c3=async e=>{try{const{data:t,error:n}=await R.from("quizzes").select("*").eq("content_id",e).eq("is_active",!0).single();if(n&&n.code!=="PGRST116")throw n;return{data:t||null,error:null}}catch(t){return console.error("Error fetching quiz:",t),{data:null,error:t}}},u3=async e=>{try{const{data:{user:t},error:n}=await R.auth.getUser();if(n||!t)return{data:[],error:null};const{data:r,error:s}=await R.from("quiz_attempts").select("*").eq("user_id",t.id).eq("quiz_id",e).order("attempt_number",{ascending:!1});if(s)throw s;return{data:r||[],error:null}}catch(t){return console.error("Error fetching quiz attempts:",t),{data:[],error:t}}},d3=async e=>{try{const{data:{user:t},error:n}=await R.auth.getUser();if(n||!t)throw new Error("User not authenticated");const{data:r,error:s}=await R.from("quizzes").select("*").eq("id",e).single();if(s)throw s;const{data:a,error:o}=await u3(e);if(o)throw o;const l=a.length+1;if(r.max_attempts>0&&a.length>=r.max_attempts)throw new Error(`คุณได้ทำแบบทดสอบครบจำนวนครั้งที่กำหนดแล้ว (${r.max_attempts} ครั้ง)`);const{data:c,error:u}=await R.from("quiz_attempts").insert([{user_id:t.id,quiz_id:e,attempt_number:l,answers:{},score:0,started_at:new Date().toISOString()}]).select().single();if(u)throw u;return{data:{...c,quiz:r},error:null}}catch(t){return console.error("Error starting quiz attempt:",t),{data:null,error:t}}},h3=async(e,t)=>{try{const{data:{user:n},error:r}=await R.auth.getUser();if(r||!n)throw new Error("User not authenticated");const{data:s,error:a}=await R.from("quiz_attempts").select(`
        *,
        quizzes(*)
      `).eq("id",e).eq("user_id",n.id).single();if(a)throw a;const o=s.quizzes,l=f3(o.questions,t),c=l.percentage>=o.passing_score,u=new Date().toISOString(),d=new Date(s.started_at),h=new Date(u),f=Math.round((h-d)/(1e3*60)),{data:m,error:v}=await R.from("quiz_attempts").update({answers:t,score:l.percentage,max_score:100,completed_at:u,time_spent_minutes:f,is_passed:c,feedback:l.feedback}).eq("id",e).eq("user_id",n.id).select(`
        *,
        quizzes(*)
      `).single();if(v)throw v;return{data:{...m,score_details:l},error:null}}catch(n){return console.error("Error submitting quiz attempt:",n),{data:null,error:n}}},f3=(e,t)=>{let n=0;const r={};e.forEach((a,o)=>{const l=a.id||o.toString(),c=t[l],u=m3(a,c);u&&n++,r[l]={is_correct:u,correct_answer:p3(a),user_answer:c,explanation:a.explanation||null}});const s=e.length>0?Math.round(n/e.length*100):0;return{correct_count:n,total_questions:e.length,percentage:s,feedback:r}},m3=(e,t)=>{switch(e.type){case"multiple_choice":return t===e.correct_answer;case"true_false":return t===e.correct_answer;case"fill_blank":return(Array.isArray(e.correct_answer)?e.correct_answer:[e.correct_answer]).some(a=>(t==null?void 0:t.toLowerCase().trim())===a.toLowerCase().trim());case"multiple_select":if(!Array.isArray(t)||!Array.isArray(e.correct_answer))return!1;const r=new Set(t.sort()),s=new Set(e.correct_answer.sort());return r.size===s.size&&[...r].every(a=>s.has(a));default:return!1}},p3=e=>{switch(e.type){case"multiple_choice":case"true_false":return e.correct_answer;case"fill_blank":return Array.isArray(e.correct_answer)?e.correct_answer[0]:e.correct_answer;case"multiple_select":return e.correct_answer;default:return null}},g3=e=>{var n;const t=[];return(n=e.title)!=null&&n.trim()||t.push("ชื่อแบบทดสอบไม่สามารถว่างได้"),(!e.questions||!Array.isArray(e.questions)||e.questions.length===0)&&t.push("ต้องมีคำถามอย่างน้อย 1 ข้อ"),e.questions&&e.questions.forEach((r,s)=>{var a;(a=r.question)!=null&&a.trim()||t.push(`คำถามที่ ${s+1}: ข้อความคำถามไม่สามารถว่างได้`),r.type||t.push(`คำถามที่ ${s+1}: ต้องระบุประเภทคำถาม`),r.type==="multiple_choice"&&((!r.options||r.options.length<2)&&t.push(`คำถามที่ ${s+1}: ต้องมีตัวเลือกอย่างน้อย 2 ตัวเลือก`),r.correct_answer||t.push(`คำถามที่ ${s+1}: ต้องระบุคำตอบที่ถูกต้อง`)),r.type==="multiple_select"&&((!r.options||r.options.length<2)&&t.push(`คำถามที่ ${s+1}: ต้องมีตัวเลือกอย่างน้อย 2 ตัวเลือก`),(!r.correct_answer||!Array.isArray(r.correct_answer)||r.correct_answer.length===0)&&t.push(`คำถามที่ ${s+1}: ต้องระบุคำตอบที่ถูกต้องอย่างน้อย 1 ข้อ`)),r.type==="fill_blank"&&(r.correct_answer||t.push(`คำถามที่ ${s+1}: ต้องระบุคำตอบที่ถูกต้อง`)),r.type==="true_false"&&r.correct_answer!==!0&&r.correct_answer!==!1&&t.push(`คำถามที่ ${s+1}: ต้องระบุคำตอบเป็น true หรือ false`)}),e.passing_score&&(e.passing_score<0||e.passing_score>100)&&t.push("คะแนนผ่านต้องอยู่ระหว่าง 0-100"),e.time_limit&&e.time_limit<0&&t.push("เวลาจำกัดต้องเป็นจำนวนบวกหรือ 0"),e.max_attempts&&e.max_attempts<1&&t.push("จำนวนครั้งที่ทำได้สูงสุดต้องมากกว่า 0"),{isValid:t.length===0,errors:t}},x3=()=>[{id:"1",type:"multiple_choice",question:"ข้อใดต่อไปนี้เป็นภาษาโปรแกรมมิ่ง?",options:["JavaScript","HTML","CSS","SQL"],correct_answer:"JavaScript",explanation:"JavaScript เป็นภาษาโปรแกรมมิ่งที่ใช้ในการพัฌนาเว็บไซต์",points:1},{id:"2",type:"true_false",question:"HTML ย่อมาจาก HyperText Markup Language",correct_answer:!0,explanation:"ถูกต้อง HTML ย่อมาจาก HyperText Markup Language",points:1},{id:"3",type:"fill_blank",question:"ภาษา _______ ใช้สำหรับการจัดรูปแบบหน้าเว็บ",correct_answer:["CSS","css"],explanation:"CSS (Cascading Style Sheets) ใช้สำหรับการจัดรูปแบบหน้าเว็บ",points:1}],v3=({quiz:e,onComplete:t,onClose:n})=>{var B,z,k;const{toast:r}=ae(),[s,a]=w.useState(null),[o,l]=w.useState(0),[c,u]=w.useState({}),[d,h]=w.useState(0),[f,m]=w.useState(!1),[v,y]=w.useState(null),[b,p]=w.useState(!1);w.useEffect(()=>{g()},[e.id]),w.useEffect(()=>{if(d>0&&!f){const L=setTimeout(()=>{h(d-1)},1e3);return()=>clearTimeout(L)}else d===0&&e.time_limit>0&&!f&&j()},[d,f]);const g=async()=>{p(!0);const{data:L,error:$}=await d3(e.id);if($){r({title:"ไม่สามารถเริ่มแบบทดสอบได้",description:$.message,variant:"destructive"}),n==null||n();return}a(L),e.time_limit>0&&h(e.time_limit*60),p(!1)},x=(L,$)=>{u(H=>({...H,[L]:$}))},j=async()=>{if(!s)return;p(!0);const{data:L,error:$}=await h3(s.id,c);if($){r({title:"ไม่สามารถส่งแบบทดสอบได้",description:$.message,variant:"destructive"}),p(!1);return}y(L),m(!0),p(!1),r({title:L.is_passed?"ผ่านแบบทดสอบ! 🎉":"ไม่ผ่านแบบทดสอบ",description:`คะแนนที่ได้: ${L.score}/${L.max_score} (${L.score}%)`,variant:L.is_passed?"default":"destructive"}),t==null||t(L)},N=()=>{o<e.questions.length-1&&l(o+1)},S=()=>{o>0&&l(o-1)},_=L=>{const $=Math.floor(L/60),H=L%60;return`${$}:${H.toString().padStart(2,"0")}`},C=()=>Object.keys(c).length;if(b&&!s)return i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-400",children:"กำลังเตรียมแบบทดสอบ..."})]})});if(f&&v)return i.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:`mx-auto w-16 h-16 rounded-full flex items-center justify-center ${v.is_passed?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:v.is_passed?i.jsx(dl,{className:"w-8 h-8"}):i.jsx(Ou,{className:"w-8 h-8"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:v.is_passed?"ยินดีด้วย! คุณผ่านแบบทดสอบ":"เสียใจด้วย คุณไม่ผ่านแบบทดสอบ"}),i.jsxs("p",{className:"text-slate-400",children:["คะแนนที่ได้: ",v.score,"% | ต้องการ: ",e.passing_score,"%"]})]})]}),i.jsxs("div",{className:"glass-effect p-6 rounded-xl",children:[i.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"รายละเอียดคะแนน"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-400",children:((B=v.score_details)==null?void 0:B.correct_count)||0}),i.jsx("div",{className:"text-sm text-slate-400",children:"ตอบถูก"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-slate-300",children:((z=v.score_details)==null?void 0:z.total_questions)||0}),i.jsx("div",{className:"text-sm text-slate-400",children:"ทั้งหมด"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[v.score,"%"]}),i.jsx("div",{className:"text-sm text-slate-400",children:"คะแนนรวม"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-400",children:v.time_spent_minutes||0}),i.jsx("div",{className:"text-sm text-slate-400",children:"นาที"})]})]})]}),e.show_correct_answers&&((k=v.score_details)==null?void 0:k.feedback)&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-lg font-semibold text-white",children:"ตรวจสอบคำตอบ"}),e.questions.map((L,$)=>{const H=L.id||$.toString(),E=v.score_details.feedback[H];return i.jsx(A.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:$*.1},className:`glass-effect p-4 rounded-lg border-l-4 ${E!=null&&E.is_correct?"border-green-500":"border-red-500"}`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:`mt-1 ${E!=null&&E.is_correct?"text-green-400":"text-red-400"}`,children:E!=null&&E.is_correct?i.jsx(Ls,{className:"w-5 h-5"}):i.jsx(Ou,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-white font-medium mb-2",children:L.question}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-400",children:"คำตอบของคุณ: "}),i.jsx("span",{className:E!=null&&E.is_correct?"text-green-400":"text-red-400",children:Array.isArray(E==null?void 0:E.user_answer)?E.user_answer.join(", "):(E==null?void 0:E.user_answer)||"ไม่ได้ตอบ"})]}),!(E!=null&&E.is_correct)&&i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-400",children:"คำตอบที่ถูก: "}),i.jsx("span",{className:"text-green-400",children:Array.isArray(E==null?void 0:E.correct_answer)?E.correct_answer.join(", "):E==null?void 0:E.correct_answer})]}),(E==null?void 0:E.explanation)&&i.jsxs("div",{className:"mt-2 p-2 bg-blue-500/10 rounded text-blue-300",children:[i.jsx("strong",{children:"คำอธิบาย:"})," ",E.explanation]})]})]})]})},H)})]}),i.jsxs("div",{className:"flex justify-center space-x-4",children:[i.jsx(T,{onClick:n,variant:"outline",children:"ปิด"}),!v.is_passed&&(s==null?void 0:s.attempt_number)<e.max_attempts&&i.jsxs(T,{onClick:()=>{m(!1),y(null),l(0),u({}),g()},className:"bg-blue-500 hover:bg-blue-600",children:[i.jsx(D_,{className:"w-4 h-4 mr-2"}),"ลองใหม่"]})]})]});const D=e.questions[o],V=D.id||o.toString(),K=c[V];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-white",children:e.title}),i.jsxs("p",{className:"text-slate-400",children:["คำถามที่ ",o+1," จาก ",e.questions.length]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[e.time_limit>0&&i.jsxs("div",{className:`flex items-center space-x-2 ${d<300?"text-red-400":"text-slate-400"}`,children:[i.jsx(vn,{className:"w-4 h-4"}),i.jsx("span",{className:"font-mono",children:_(d)})]}),i.jsxs("div",{className:"text-slate-400 text-sm",children:["ตอบแล้ว: ",C(),"/",e.questions.length]})]})]}),i.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${(o+1)/e.questions.length*100}%`}})}),i.jsx(Ct,{mode:"wait",children:i.jsx(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"glass-effect p-6 rounded-xl",children:i.jsx(y3,{question:D,questionId:V,userAnswer:K,onAnswerChange:x})},o)}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(T,{onClick:S,disabled:o===0,variant:"outline",children:[i.jsx(Zi,{className:"w-4 h-4 mr-2"}),"ก่อนหน้า"]}),i.jsx("div",{className:"flex items-center space-x-2",children:o===e.questions.length-1?i.jsx(T,{onClick:j,disabled:b||C()===0,className:"bg-green-500 hover:bg-green-600",children:b?"กำลังส่ง...":"ส่งคำตอบ"}):i.jsxs(T,{onClick:N,children:["ถัดไป",i.jsx(p_,{className:"w-4 h-4 ml-2"})]})})]}),C()<e.questions.length&&i.jsxs("div",{className:"flex items-center space-x-2 text-amber-400 text-sm",children:[i.jsx(Xt,{className:"w-4 h-4"}),i.jsxs("span",{children:["คุณยังตอบคำถามไม่ครบ (",e.questions.length-C()," ข้อ)"]})]})]})},y3=({question:e,questionId:t,userAnswer:n,onAnswerChange:r})=>{const s=()=>{switch(e.type){case"multiple_choice":return i.jsx("div",{className:"space-y-3",children:e.options.map((a,o)=>i.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-3 rounded-lg hover:bg-slate-700/30 transition-colors",children:[i.jsx("input",{type:"radio",name:t,value:a,checked:n===a,onChange:l=>r(t,l.target.value),className:"w-4 h-4 text-blue-500"}),i.jsx("span",{className:"text-slate-200",children:a})]},o))});case"multiple_select":return i.jsx("div",{className:"space-y-3",children:e.options.map((a,o)=>i.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-3 rounded-lg hover:bg-slate-700/30 transition-colors",children:[i.jsx("input",{type:"checkbox",value:a,checked:Array.isArray(n)&&n.includes(a),onChange:l=>{const c=Array.isArray(n)?n:[];l.target.checked?r(t,[...c,a]):r(t,c.filter(u=>u!==a))},className:"w-4 h-4 text-blue-500"}),i.jsx("span",{className:"text-slate-200",children:a})]},o))});case"true_false":return i.jsx("div",{className:"space-y-3",children:[!0,!1].map(a=>i.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-3 rounded-lg hover:bg-slate-700/30 transition-colors",children:[i.jsx("input",{type:"radio",name:t,value:a,checked:n===a,onChange:o=>r(t,o.target.value==="true"),className:"w-4 h-4 text-blue-500"}),i.jsx("span",{className:"text-slate-200",children:a?"ถูก":"ผิด"})]},a.toString()))});case"fill_blank":return i.jsx("input",{type:"text",value:n||"",onChange:a=>r(t,a.target.value),placeholder:"พิมพ์คำตอบของคุณ...",className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-blue-500 focus:outline-none"});default:return i.jsx("p",{className:"text-red-400",children:"ไม่รองรับประเภทคำถามนี้"})}};return i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-lg font-semibold text-white",children:e.question}),e.image&&i.jsx("img",{src:e.image,alt:"Question",className:"max-w-full h-auto rounded-lg"}),s(),e.hint&&i.jsxs("div",{className:"text-sm text-blue-300 bg-blue-500/10 p-3 rounded-lg",children:[i.jsx("strong",{children:"คำแนะนำ:"})," ",e.hint]})]})},bw=async e=>{try{const{data:t,error:n}=await R.from("assignments").select("*").eq("content_id",e).eq("is_active",!0).single();if(n&&n.code!=="PGRST116")throw n;return{data:t||null,error:null}}catch(t){return console.error("Error fetching assignment:",t),{data:null,error:t}}},jw=async e=>{try{const{data:{user:t},error:n}=await R.auth.getUser();if(n||!t)return{data:[],error:null};const{data:r,error:s}=await R.from("assignment_submissions").select("*").eq("user_id",t.id).eq("assignment_id",e).order("attempt_number",{ascending:!1});if(s)throw s;return{data:r||[],error:null}}catch(t){return console.error("Error fetching user submissions:",t),{data:[],error:t}}},Gp=async(e,t)=>{try{const{data:{user:n},error:r}=await R.auth.getUser();if(r||!n)throw new Error("User not authenticated");const{data:s,error:a}=await R.from("assignments").select("*").eq("id",e).single();if(a)throw a;const{data:o,error:l}=await jw(e);if(l)throw l;const c=o.length+1,u=s.due_date?new Date>new Date(s.due_date):!1,{data:d,error:h}=await R.from("assignment_submissions").insert([{user_id:n.id,assignment_id:e,attempt_number:c,submission_text:t.text||"",file_urls:t.fileUrls||[],file_names:t.fileNames||[],file_sizes:t.fileSizes||[],status:"submitted",is_late:u,max_score:s.max_score||100}]).select().single();if(h)throw h;return{data:d,error:null}}catch(n){return console.error("Error creating submission:",n),{data:null,error:n}}},qp=async(e,t)=>{try{const{data:{user:n},error:r}=await R.auth.getUser();if(r||!n)throw new Error("User not authenticated");const{data:s,error:a}=await R.from("assignment_submissions").update({submission_text:t.text||"",file_urls:t.fileUrls||[],file_names:t.fileNames||[],file_sizes:t.fileSizes||[],updated_at:new Date().toISOString()}).eq("id",e).eq("user_id",n.id).select().single();if(a)throw a;return{data:s,error:null}}catch(n){return console.error("Error updating submission:",n),{data:null,error:n}}},w3=async e=>{try{const{data:{user:t},error:n}=await R.auth.getUser();if(n||!t)throw new Error("User not authenticated");const{data:r,error:s}=await R.from("assignment_submissions").update({status:"submitted",submitted_at:new Date().toISOString()}).eq("id",e).eq("user_id",t.id).select().single();if(s)throw s;return{data:r,error:null}}catch(t){return console.error("Error submitting final submission:",t),{data:null,error:t}}},b3=async(e,t)=>{try{const{data:{user:n},error:r}=await R.auth.getUser();if(r||!n)throw new Error("User not authenticated");const s=e.name.split(".").pop(),a=`${Date.now()}-${Math.random().toString(36).substring(2)}.${s}`,o=`assignments/${t}/${n.id}/${a}`,{data:l,error:c}=await R.storage.from("course-files").upload(o,e);if(c)throw c;const{data:{publicUrl:u}}=R.storage.from("course-files").getPublicUrl(o);return{data:{path:l.path,url:u,originalName:e.name,size:e.size,type:e.type},error:null}}catch(n){return console.error("Error uploading file:",n),{data:null,error:n}}},j3=async e=>{try{const{error:t}=await R.storage.from("course-files").remove([e]);if(t)throw t;return{error:null}}catch(t){return console.error("Error deleting file:",t),{error:t}}},N3=(e,t)=>{const n=[];e.size>(t.max_file_size||10485760)&&n.push(`ไฟล์ ${e.name} มีขนาดใหญ่เกินกำหนด (${(t.max_file_size/1024/1024).toFixed(1)} MB)`);const r=e.name.split(".").pop().toLowerCase(),s=t.allowed_file_types||["pdf","doc","docx","jpg","png"];return s.includes(r)||n.push(`ไฟล์ ${e.name} ไม่ใช่ประเภทที่อนุญาต (${s.join(", ")})`),{isValid:n.length===0,errors:n}},_3=async e=>{try{const{data:t,error:n}=await R.from("assignments").select("*").eq("id",e).single();if(n)throw n;return{data:t,error:null}}catch(t){return console.error("Error fetching assignment:",t),{data:null,error:t}}},S3=async e=>{try{const{data:t,error:n}=await R.from("assignment_submissions").select(`
        *,
        user_profiles!assignment_submissions_user_id_fkey(full_name, email, avatar_url)
      `).eq("assignment_id",e).order("submitted_at",{ascending:!1});if(n)throw n;return{data:t,error:null}}catch(t){return console.error("Error fetching assignment submissions:",t),{data:null,error:t}}},k3=async(e,t)=>{try{const{data:{user:n},error:r}=await R.auth.getUser();if(r||!n)throw new Error("User not authenticated");const{data:s,error:a}=await R.from("assignment_submissions").update({score:t.score,feedback:t.feedback,graded_at:t.graded_at||new Date().toISOString(),graded_by:t.graded_by||n.id,grading_rubric_scores:t.grading_rubric_scores||null}).eq("id",e).select().single();if(a)throw a;return{data:s,error:null}}catch(n){return console.error("Error updating submission grade:",n),{data:null,error:n}}},E3=({assignment:e,maxFiles:t=5,onFilesChange:n,initialFiles:r=[],disabled:s=!1,className:a=""})=>{var x,j;const{toast:o}=ae(),[l,c]=w.useState(r),[u,d]=w.useState(!1),[h,f]=w.useState(!1),m=(N,S="w-6 h-6")=>{const _=N.split(".").pop().toLowerCase();return["jpg","jpeg","png","gif","webp"].includes(_)?i.jsx(oh,{className:`${S} text-blue-500`}):["pdf"].includes(_)?i.jsx(re,{className:`${S} text-red-500`}):["doc","docx"].includes(_)?i.jsx(re,{className:`${S} text-blue-600`}):["mp4","avi","mov"].includes(_)?i.jsx(__,{className:`${S} text-purple-500`}):i.jsx(ah,{className:`${S} text-gray-500`})},v=N=>{if(N===0)return"0 Bytes";const S=1024,_=["Bytes","KB","MB","GB"],C=Math.floor(Math.log(N)/Math.log(S));return parseFloat((N/Math.pow(S,C)).toFixed(2))+" "+_[C]},y=w.useCallback(async N=>{if(s)return;const S=Array.from(N);if(l.length+S.length>t){o({title:"ไฟล์เกินจำนวนที่กำหนด",description:`สามารถอัปโหลดได้สูงสุด ${t} ไฟล์`,variant:"destructive"});return}d(!0);try{const _=[];for(const D of S){const V=N3(D,e);if(!V.isValid){o({title:"ไฟล์ไม่ถูกต้อง",description:V.errors.join(`
`),variant:"destructive"});continue}const{data:K,error:B}=await b3(D,e.id);if(B){o({title:"ไม่สามารถอัปโหลดไฟล์ได้",description:`ไฟล์ ${D.name}: ${B.message}`,variant:"destructive"});continue}_.push({id:Date.now()+Math.random(),name:D.name,size:D.size,type:D.type,url:K.url,path:K.path,uploaded:!0})}const C=[...l,..._];c(C),n==null||n(C),_.length>0&&o({title:"อัปโหลดสำเร็จ",description:`อัปโหลดไฟล์ ${_.length} ไฟล์เรียบร้อยแล้ว`})}catch(_){console.error("Upload error:",_),o({title:"เกิดข้อผิดพลาด",description:"ไม่สามารถอัปโหลดไฟล์ได้",variant:"destructive"})}finally{d(!1)}},[l,t,e,s,n,o]),b=async N=>{if(s)return;N.uploaded&&N.path&&await j3(N.path);const S=l.filter(_=>_.id!==N.id);c(S),n==null||n(S),o({title:"ลบไฟล์แล้ว",description:`ลบไฟล์ ${N.name} เรียบร้อยแล้ว`})},p=w.useCallback(N=>{N.preventDefault(),N.stopPropagation(),N.type==="dragenter"||N.type==="dragover"?f(!0):N.type==="dragleave"&&f(!1)},[]),g=w.useCallback(N=>{N.preventDefault(),N.stopPropagation(),f(!1),N.dataTransfer.files&&N.dataTransfer.files[0]&&y(N.dataTransfer.files)},[y]);return i.jsxs("div",{className:`space-y-4 ${a}`,children:[i.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-6 transition-colors ${h?"border-blue-500 bg-blue-50/10":"border-slate-600 hover:border-slate-500"} ${s?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,onDragEnter:p,onDragLeave:p,onDragOver:p,onDrop:g,onClick:()=>!s&&document.getElementById("file-upload").click(),children:[i.jsx("input",{id:"file-upload",type:"file",multiple:!0,disabled:s,className:"hidden",accept:(x=e.allowed_file_types)==null?void 0:x.map(N=>`.${N}`).join(","),onChange:N=>y(N.target.files)}),i.jsx("div",{className:"text-center",children:u?i.jsxs("div",{className:"space-y-2",children:[i.jsx(Co,{className:"w-8 h-8 text-blue-500 mx-auto animate-spin"}),i.jsx("p",{className:"text-slate-300",children:"กำลังอัปโหลด..."})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ru,{className:"w-8 h-8 text-slate-400 mx-auto"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-300",children:"คลิกเพื่อเลือกไฟล์ หรือลากไฟล์มาวางที่นี่"}),i.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["ประเภทไฟล์ที่รองรับ: ",(j=e.allowed_file_types)==null?void 0:j.join(", ")]}),i.jsxs("p",{className:"text-sm text-slate-500",children:["ขนาดไฟล์สูงสุด: ",v(e.max_file_size||10485760)]})]})]})})]}),i.jsx(Ct,{children:l.length>0&&i.jsxs(A.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2",children:[i.jsxs("h4",{className:"text-sm font-medium text-slate-300",children:["ไฟล์ที่อัปโหลด (",l.length,"/",t,")"]}),l.map(N=>i.jsxs(A.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"flex items-center space-x-3 p-3 bg-slate-700/30 rounded-lg",children:[i.jsx("div",{className:"flex-shrink-0",children:m(N.name)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-slate-200 truncate",children:N.name}),i.jsx("p",{className:"text-xs text-slate-400",children:v(N.size)})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[N.uploaded?i.jsx(uv,{className:"w-4 h-4 text-green-400"}):i.jsx(Co,{className:"w-4 h-4 text-blue-400 animate-spin"}),N.url&&i.jsx(T,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",onClick:S=>{S.stopPropagation(),window.open(N.url,"_blank")},children:i.jsx(fn,{className:"w-4 h-4"})}),!s&&i.jsx(T,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-400 hover:text-red-300",onClick:S=>{S.stopPropagation(),b(N)},children:i.jsx(ea,{className:"w-4 h-4"})})]})]},N.id))]})}),e&&i.jsxs("div",{className:"text-xs text-slate-500 space-y-1",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(Xt,{className:"w-3 h-3"}),i.jsxs("span",{children:["สามารถอัปโหลดได้สูงสุด ",e.max_files||t," ไฟล์"]})]}),e.due_date&&i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(Xt,{className:"w-3 h-3"}),i.jsxs("span",{children:["กำหนดส่ง: ",new Date(e.due_date).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]})]})},C3=({contentId:e,assignment:t,onComplete:n,onClose:r})=>{qe();const{toast:s}=ae(),[a,o]=w.useState(!0),[l,c]=w.useState(t),[u,d]=w.useState([]),[h,f]=w.useState(null),[m,v]=w.useState(""),[y,b]=w.useState([]),[p,g]=w.useState(!1),[x,j]=w.useState(!1),[N,S]=w.useState("submit");w.useEffect(()=>{_()},[e]);const _=async()=>{var z;o(!0);try{if(!l){const{data:k,error:L}=await bw(e);if(L)throw L;c(k)}if(l!=null&&l.id){const{data:k,error:L}=await jw(l.id);if(L)throw L;if(d(k),k.length>0){const $=k[0];f($),v($.submission_text||""),b(((z=$.file_urls)==null?void 0:z.map((H,E)=>{var U,P;return{id:Date.now()+E,name:((U=$.file_names)==null?void 0:U[E])||`File ${E+1}`,size:((P=$.file_sizes)==null?void 0:P[E])||0,url:H,uploaded:!0}}))||[]),$.status==="submitted"||$.status==="graded"?S("view"):S("edit")}}}catch(k){console.error("Error loading assignment data:",k),s({title:"ไม่สามารถโหลดข้อมูลงานได้",description:k.message,variant:"destructive"})}finally{o(!1)}},C=async()=>{if(l){g(!0);try{const z={text:m,fileUrls:y.map(L=>L.url),fileNames:y.map(L=>L.name),fileSizes:y.map(L=>L.size)};let k;if(h&&h.status==="draft"?k=await qp(h.id,z):k=await Gp(l.id,{...z,status:"draft"}),k.error)throw k.error;f(k.data),s({title:"บันทึกแบบร่างแล้ว",description:"งานของคุณได้รับการบันทึกเป็นแบบร่างแล้ว"}),_()}catch(z){console.error("Error saving draft:",z),s({title:"ไม่สามารถบันทึกได้",description:z.message,variant:"destructive"})}finally{g(!1)}}},D=async()=>{if(l){if(!m.trim()&&y.length===0){s({title:"กรุณาเพิ่มเนื้อหา",description:"กรุณาเพิ่มข้อความหรืออัปโหลดไฟล์อย่างน้อย 1 รายการ",variant:"destructive"});return}j(!0);try{const z={text:m,fileUrls:y.map(L=>L.url),fileNames:y.map(L=>L.name),fileSizes:y.map(L=>L.size)};let k;if(h&&h.status==="draft"?(await qp(h.id,z),k=await w3(h.id)):k=await Gp(l.id,z),k.error)throw k.error;s({title:"ส่งงานสำเร็จ! 🎉",description:"งานของคุณได้รับการส่งเรียบร้อยแล้ว"}),n==null||n(k.data),S("view"),_()}catch(z){console.error("Error submitting assignment:",z),s({title:"ไม่สามารถส่งงานได้",description:z.message,variant:"destructive"})}finally{j(!1)}}},V=(l==null?void 0:l.due_date)&&new Date>new Date(l.due_date),K=N==="submit"||N==="edit",B=(h==null?void 0:h.status)==="submitted"||(h==null?void 0:h.status)==="graded";return a?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-400",children:"กำลังโหลดงานมอบหมาย..."})]})}):l?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:l.title}),i.jsx("p",{className:"text-slate-300",children:l.description})]}),i.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[B&&i.jsxs("div",{className:"flex items-center space-x-1 text-green-400 text-sm",children:[i.jsx(uv,{className:"w-4 h-4"}),i.jsx("span",{children:"ส่งแล้ว"})]}),V&&!B&&i.jsxs("div",{className:"flex items-center space-x-1 text-red-400 text-sm",children:[i.jsx(ws,{className:"w-4 h-4"}),i.jsx("span",{children:"เกินกำหนด"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 p-4 bg-slate-700/30 rounded-lg",children:[l.due_date&&i.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[i.jsx(ll,{className:"w-4 h-4 text-blue-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-400",children:"กำหนดส่ง"}),i.jsx("p",{className:"text-slate-200",children:new Date(l.due_date).toLocaleDateString("th-TH",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[i.jsx(Ft,{className:"w-4 h-4 text-yellow-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-400",children:"คะแนนเต็ม"}),i.jsxs("p",{className:"text-slate-200",children:[l.max_score||100," คะแนน"]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[i.jsx(re,{className:"w-4 h-4 text-purple-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-400",children:"จำนวนไฟล์สูงสุด"}),i.jsxs("p",{className:"text-slate-200",children:[l.max_files||5," ไฟล์"]})]})]})]})]}),l.instructions&&i.jsxs("div",{className:"glass-effect p-4 rounded-lg",children:[i.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"คำแนะนำ"}),i.jsx("div",{className:"text-slate-300 whitespace-pre-wrap leading-relaxed",children:l.instructions})]}),u.length>0&&i.jsxs("div",{className:"glass-effect p-4 rounded-lg",children:[i.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"ประวัติการส่งงาน"}),i.jsx("div",{className:"space-y-2",children:u.map((z,k)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:"text-sm",children:[i.jsxs("span",{className:"text-slate-300",children:["ครั้งที่ ",z.attempt_number]}),i.jsx("span",{className:"ml-2 text-xs text-slate-400",children:new Date(z.submitted_at||z.created_at).toLocaleDateString("th-TH")})]}),i.jsxs("div",{className:`px-2 py-1 rounded text-xs ${z.status==="submitted"?"bg-green-500/20 text-green-400":z.status==="graded"?"bg-blue-500/20 text-blue-400":"bg-yellow-500/20 text-yellow-400"}`,children:[z.status==="submitted"&&"ส่งแล้ว",z.status==="graded"&&`ให้คะแนนแล้ว (${z.score}/${z.max_score})`,z.status==="draft"&&"แบบร่าง"]})]}),i.jsx(T,{size:"sm",variant:"ghost",onClick:()=>{var L;f(z),v(z.submission_text||""),b(((L=z.file_urls)==null?void 0:L.map(($,H)=>{var E,U;return{id:Date.now()+H,name:((E=z.file_names)==null?void 0:E[H])||`File ${H+1}`,size:((U=z.file_sizes)==null?void 0:U[H])||0,url:$,uploaded:!0}}))||[]),S("view")},children:i.jsx(qn,{className:"w-4 h-4"})})]},z.id))})]}),i.jsx(Ct,{mode:"wait",children:i.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"glass-effect rounded-lg overflow-hidden",children:[h&&i.jsx("div",{className:"border-b border-white/10 p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(T,{size:"sm",variant:N==="view"?"default":"ghost",onClick:()=>S("view"),children:[i.jsx(qn,{className:"w-4 h-4 mr-2"}),"ดูงาน"]}),!B&&i.jsxs(T,{size:"sm",variant:N==="edit"?"default":"ghost",onClick:()=>S("edit"),children:[i.jsx(bs,{className:"w-4 h-4 mr-2"}),"แก้ไข"]})]})}),i.jsx("div",{className:"p-6",children:N==="view"?i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-lg font-semibold text-white",children:"งานที่ส่ง"}),(h==null?void 0:h.submission_text)&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-slate-400 mb-2",children:"ข้อความ"}),i.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg text-slate-200 whitespace-pre-wrap",children:h.submission_text})]}),y.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-slate-400 mb-2",children:"ไฟล์แนบ"}),i.jsx("div",{className:"space-y-2",children:y.map(z=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg",children:[i.jsx("span",{className:"text-slate-200",children:z.name}),i.jsx(T,{size:"sm",variant:"ghost",onClick:()=>window.open(z.url,"_blank"),children:i.jsx(fn,{className:"w-4 h-4"})})]},z.id))})]}),(h==null?void 0:h.feedback)&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-slate-400 mb-2",children:"ความคิดเห็นจากอาจารย์"}),i.jsx("div",{className:"p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg text-blue-200",children:h.feedback})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsx("h4",{className:"text-lg font-semibold text-white",children:h?"แก้ไขงาน":"ส่งงานมอบหมาย"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"ข้อความ/คำตอบ"}),i.jsx("textarea",{value:m,onChange:z=>v(z.target.value),disabled:!K,rows:8,className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:border-blue-500 focus:outline-none resize-none",placeholder:"เขียนคำตอบหรือคำอธิบายงานของคุณที่นี่..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"ไฟล์แนบ"}),i.jsx(E3,{assignment:l,maxFiles:l.max_files||5,onFilesChange:b,initialFiles:y,disabled:!K})]}),K&&i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[i.jsx("div",{className:"text-xs text-slate-500",children:V&&i.jsxs("div",{className:"flex items-center space-x-1 text-amber-400",children:[i.jsx(ws,{className:"w-3 h-3"}),i.jsx("span",{children:"การส่งงานหลังกำหนดอาจมีผลต่อคะแนน"})]})}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(T,{variant:"outline",onClick:C,disabled:p||x,children:p?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current mr-2"}),"กำลังบันทึก..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ch,{className:"w-4 h-4 mr-2"}),"บันทึกแบบร่าง"]})}),i.jsx(T,{onClick:D,disabled:p||x,className:"bg-green-500 hover:bg-green-600",children:x?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current mr-2"}),"กำลังส่ง..."]}):i.jsxs(i.Fragment,{children:[i.jsx(xv,{className:"w-4 h-4 mr-2"}),"ส่งงาน"]})})]})]})]})})]},N)})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(re,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"ไม่พบงานมอบหมาย"}),i.jsx("p",{className:"text-slate-400",children:"ไม่สามารถโหลดข้อมูลงานมอบหมายได้"})]})},T3=()=>{var $,H,E,U;const{courseId:e}=al(),{user:t}=qe(),{toast:n}=ae(),[r,s]=w.useState(null),[a,o]=w.useState(!0),[l,c]=w.useState({isEnrolled:!1}),[u,d]=w.useState(null),[h,f]=w.useState(null),[m,v]=w.useState({}),[y,b]=w.useState(null),[p,g]=w.useState(!1),[x,j]=w.useState(null),[N,S]=w.useState(!1);w.useEffect(()=>{_(),t&&C()},[e,t]);const _=async()=>{o(!0),console.log("Loading course with ID:",e);try{const{data:P,error:O}=await Uh(e);console.log("Course data received:",P,"Error:",O),O?(console.error("Course loading error:",O),n({title:"ข้อผิดพลาดในการโหลดข้อมูล",description:O.message,variant:"destructive"})):(s(P),console.log("Course set:",P),P!=null&&P.content&&P.content.length>0?(console.log("Auto-selecting first content:",P.content[0]),f(P.content[0])):console.log("No content found in course"))}catch(P){console.error("Unexpected error loading course:",P),n({title:"เกิดข้อผิดพลาดที่ไม่คาดคิด",description:P.message,variant:"destructive"})}finally{o(!1)}},C=async()=>{try{console.log("Checking enrollment for user:",t==null?void 0:t.id,"course:",e);const{isEnrolled:P,status:O,error:G}=await ww(e);if(console.log("Enrollment result:",{isEnrolled:P,status:O,error:G}),G){console.error("Enrollment check error:",G),n({title:"ไม่สามารถตรวจสอบการลงทะเบียนได้",description:G.message,variant:"destructive"}),c({isEnrolled:!1,status:null});return}if(c({isEnrolled:P,status:O}),P){console.log("User is enrolled, loading progress...");const{data:ee}=await o3(e);if(console.log("Course progress data:",ee),d(ee),r!=null&&r.content){console.log("Loading content progress for",r.content.length,"items");const oe={};for(const tt of r.content)if(tt.content_type==="video"){const{data:F}=await a3(tt.id);oe[tt.id]=F}console.log("Content progress map:",oe),v(oe)}}else console.log("User is not enrolled")}catch(P){console.error("Error in checkEnrollmentAndProgress:",P),n({title:"เกิดข้อผิดพลาดในการตรวจสอบ",description:P.message,variant:"destructive"})}},D=async P=>{if(f(P),g(!1),b(null),S(!1),j(null),P.content_type==="quiz"){const{data:O}=await c3(P.id);O&&(b(O),g(!0))}if(P.content_type==="assignment"){const{data:O}=await bw(P.id);O&&(j(O),S(!0))}},V=P=>{n({title:P.is_passed?"ยินดีด้วย! ผ่านแบบทดสอบ 🎉":"ไม่ผ่านแบบทดสอบ",description:`คะแนน: ${P.score}%`,variant:P.is_passed?"default":"destructive"}),C(),g(!1)},K=P=>{n({title:"ส่งงานสำเร็จ! 🎉",description:"งานของคุณได้รับการส่งเรียบร้อยแล้ว"}),C(),S(!1)},B=P=>{v(O=>({...O,[h.id]:P}))},z=(P,O=!1)=>{if(O)return i.jsx(Ls,{className:"w-5 h-5 text-green-400"});switch(P){case"video":return i.jsx(lh,{className:"w-5 h-5 text-blue-400"});case"quiz":return i.jsx(dl,{className:"w-5 h-5 text-yellow-400"});case"assignment":return i.jsx(re,{className:"w-5 h-5 text-purple-400"});case"document":return i.jsx(We,{className:"w-5 h-5 text-green-400"});default:return i.jsx(re,{className:"w-5 h-5 text-gray-400"})}},k=P=>{if(!(u!=null&&u.content_progress))return 0;const O=u.content_progress.find(G=>G.id===P.id);if(P.content_type==="video"&&m[P.id]){const G=m[P.id];return G.total_duration>0?Math.round(G.last_position/G.total_duration*100):0}return O!=null&&O.is_completed?100:0},L=(P,O)=>{if(O===0)return!1;const G=r.content[O-1];return k(G)<100};return a?i.jsx("div",{className:"container mx-auto px-4 py-12",children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#667eea] mx-auto mb-4"}),i.jsx("p",{className:"text-white/70",children:"กำลังโหลดเนื้อหาคอร์ส..."}),i.jsxs("p",{className:"text-slate-500 text-sm mt-2",children:["Course ID: ",e]})]})}):r?l.isEnrolled?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a192f] to-[#172a46]",children:[i.jsx(Ce,{children:i.jsxs("title",{children:[r.title," - เรียน | Login Learning"]})}),i.jsx("div",{className:"bg-black/20 backdrop-blur-sm border-b border-white/10",children:i.jsx("div",{className:"container mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(te,{to:`/courses/${e}`,children:i.jsx(T,{variant:"ghost",size:"icon",className:"text-white",children:i.jsx(Zi,{className:"w-5 h-5"})})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold text-white",children:r.title}),u&&i.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-300",children:[i.jsxs("span",{children:["ความคืบหน้า: ",u.progress_percentage,"%"]}),i.jsx("span",{children:"•"}),i.jsxs("span",{children:[u.completed_count,"/",u.total_count," เนื้อหา"]})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-slate-300",children:[i.jsx(Ue,{className:"w-4 h-4"}),i.jsxs("span",{children:[r.enrollment_count||0," คน"]})]})]})})}),i.jsx("div",{className:"container mx-auto px-4 py-6",children:i.jsxs("div",{className:"grid lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsxs("div",{className:"glass-effect rounded-xl p-4 sticky top-24",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"เนื้อหาในคอร์ส"}),u&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm text-slate-400 mb-2",children:[i.jsx("span",{children:"ความคืบหน้าทั้งหมด"}),i.jsxs("span",{children:[u.progress_percentage,"%"]})]}),i.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:i.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${u.progress_percentage}%`}})})]}),i.jsx("div",{className:"space-y-2",children:($=r.content)==null?void 0:$.map((P,O)=>{const G=k(P),ee=G>=100,oe=L(P,O),tt=(h==null?void 0:h.id)===P.id;return i.jsx(A.div,{whileHover:{scale:oe?1:1.02},className:`p-3 rounded-lg border transition-all cursor-pointer ${tt?"bg-blue-500/20 border-blue-500/50":oe?"bg-slate-700/30 border-slate-600/50 opacity-60":"bg-slate-700/50 border-slate-600/50 hover:bg-slate-700/70"}`,onClick:()=>!oe&&D(P),children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"flex-shrink-0",children:oe?i.jsx(To,{className:"w-5 h-5 text-gray-500"}):z(P.content_type,ee)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:`text-sm font-medium truncate ${oe?"text-gray-500":"text-white"}`,children:P.title}),P.duration_minutes>0&&i.jsxs("div",{className:"flex items-center text-xs text-slate-400",children:[i.jsx(vn,{className:"w-3 h-3 mr-1"}),P.duration_minutes," นาที"]}),!oe&&G>0&&G<100&&i.jsx("div",{className:"mt-1",children:i.jsx("div",{className:"w-full bg-slate-600 rounded-full h-1",children:i.jsx("div",{className:"bg-blue-500 h-1 rounded-full",style:{width:`${G}%`}})})})]})]})},P.id)})})]})}),i.jsxs("div",{className:"lg:col-span-3",children:[i.jsx(Ct,{mode:"wait",children:h&&i.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"glass-effect rounded-xl overflow-hidden",children:[i.jsxs("div",{className:"p-6 border-b border-white/10",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[z(h.content_type),i.jsx("h2",{className:"text-xl font-bold text-white",children:h.title})]}),h.description&&i.jsx("p",{className:"text-slate-300",children:h.description})]}),i.jsxs("div",{className:"p-6",children:[h.content_type==="video"&&h.content_url&&i.jsx(l3,{src:h.content_url,contentId:h.id,title:h.title,onProgress:B,initialTime:((H=m[h.id])==null?void 0:H.last_position)||0}),p&&y&&i.jsx(v3,{quiz:y,onComplete:V,onClose:()=>g(!1)}),h.content_type==="document"&&i.jsxs("div",{className:"space-y-4",children:[h.content_url&&i.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-slate-700/30 rounded-lg",children:[i.jsx(re,{className:"w-8 h-8 text-blue-400"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-white font-medium",children:"เอกสารประกอบการเรียน"}),i.jsx("p",{className:"text-slate-400 text-sm",children:"คลิกเพื่อดาวน์โหลด"})]}),i.jsxs(T,{variant:"outline",size:"sm",children:[i.jsx(fn,{className:"w-4 h-4 mr-2"}),"ดาวน์โหลด"]})]}),h.description&&i.jsx("div",{className:"prose prose-invert max-w-none",children:i.jsx("div",{className:"text-slate-200 leading-relaxed",children:h.description})})]}),N&&x&&i.jsx(C3,{contentId:h.id,assignment:x,onComplete:K,onClose:()=>S(!1)}),h.content_type==="assignment"&&!N&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(re,{className:"w-16 h-16 text-purple-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"งานมอบหมาย"}),i.jsx("p",{className:"text-slate-400 mb-4",children:"กำลังโหลดข้อมูลงานมอบหมาย..."})]}),!["video","quiz","document","assignment"].includes(h.content_type)&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(We,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"เนื้อหาพิเศษ"}),i.jsx("p",{className:"text-slate-400",children:"ประเภทเนื้อหานี้จะพร้อมใช้งานเร็วๆ นี้"})]}),i.jsx("div",{className:"mt-6 pt-6 border-t border-white/10",children:i.jsx(Vh,{contentId:h.id,compact:!1,className:"attachments-section"})})]})]},h.id)}),!h&&((E=r.content)==null?void 0:E.length)>0&&i.jsxs("div",{className:"glass-effect rounded-xl p-12 text-center",children:[i.jsx(We,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"เลือกเนื้อหาที่ต้องการเรียน"}),i.jsx("p",{className:"text-slate-400",children:"เลือกเนื้อหาจากรายการด้านซ้ายเพื่อเริ่มเรียน"})]}),((U=r.content)==null?void 0:U.length)===0&&i.jsxs("div",{className:"glass-effect rounded-xl p-12 text-center",children:[i.jsx(We,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"ยังไม่มีเนื้อหา"}),i.jsx("p",{className:"text-slate-400",children:"เนื้อหาคอร์สจะถูกเพิ่มเร็วๆ นี้"})]})]})]})})]}):i.jsx("div",{className:"container mx-auto px-4 py-12",children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"คุณยังไม่ได้ลงทะเบียนคอร์สนี้"}),i.jsx("p",{className:"text-white/70 mb-4",children:"กรุณาลงทะเบียนก่อนเรียน"}),i.jsxs("div",{className:"text-slate-500 text-sm mb-4",children:[i.jsxs("p",{children:["Course: ",r==null?void 0:r.title]}),i.jsxs("p",{children:["User: ",t==null?void 0:t.email]}),i.jsxs("p",{children:["Enrollment Status: ",JSON.stringify(l)]})]}),i.jsx(te,{to:`/courses/${e}`,children:i.jsx(T,{children:"ไปหน้าลงทะเบียน"})})]})}):i.jsx("div",{className:"container mx-auto px-4 py-12",children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"ไม่พบข้อมูลคอร์ส"}),i.jsxs("p",{className:"text-slate-400 mb-4",children:["Course ID: ",e]}),i.jsxs("p",{className:"text-slate-500 text-sm mb-4",children:["Loading: ",a?"true":"false"]}),i.jsx(te,{to:"/courses",children:i.jsx(T,{variant:"outline",children:"กลับไปหน้าคอร์สทั้งหมด"})})]})})},P3=()=>{const e=[{faculty:"คณะวิศวกรรมศาสตร์ (หลักสูตรไทย)",icon:U_,universities:[{name:"จุฬาลงกรณ์มหาวิทยาลัย",gpax:"≥ 3.00-3.50",exams:"TPAT3, TGAT",intake:"~600-700",fee:"~21,000 บาท/เทอม",logo:"Chulalongkorn University logo"},{name:"มหาวิทยาลัยเกษตรศาสตร์",gpax:"≥ 2.75-3.25",intake:"~1400+",fee:"~17,000 บาท/เทอม",logo:"Kasetsart University logo"},{name:"มหาวิทยาลัยเทคโนโลยีพระจอมเกล้าธนบุรี (มจธ.)",gpax:"≥ 2.75-3.00",intake:"~900+",fee:"~25,000 บาท/เทอม",logo:"KMUTT logo"},{name:"สถาบันเทคโนโลยีพระจอมเกล้าเจ้าคุณทหารลาดกระบัง (สจล.)",gpax:"≥ 2.75",intake:"~600+",fee:"~20,000 บาท/เทอม",logo:"KMITL logo"},{name:"มหาวิทยาลัยเทคโนโลยีพระจอมเกล้าพระนครเหนือ (มจพ.)",gpax:"≥ 2.75",intake:"~600+",fee:"~18,000 บาท/เทอม",logo:"KMUTNB logo"},{name:"มหาวิทยาลัยเชียงใหม่",gpax:"≥ 2.75-3.00",intake:"~1100+",fee:"~20,000 บาท/เทอม",logo:"Chiang Mai University logo"},{name:"มหาวิทยาลัยขอนแก่น",gpax:"≥ 2.75",intake:"~600+",fee:"~18,000 บาท/เทอม",logo:"Khon Kaen University logo"},{name:"มหาวิทยาลัยสงขลานครินทร์",gpax:"≥ 2.75",intake:"~1000+",fee:"~22,000 บาท/เทอม",logo:"Prince of Songkla University logo"}]},{faculty:"คณะวิศวกรรมศาสตร์ (หลักสูตรนานาชาติ)",icon:S_,universities:[{name:"จุฬาลงกรณ์มหาวิทยาลัย (ISE)",requirements:"IELTS: ≥ 6.0, TOEFL iBT: ≥ 80, SAT Math: ≥ 620",intake:"~180-200",fee:"~84,000 บาท/เทอม",logo:"Chulalongkorn University ISE logo"},{name:"มหาวิทยาลัยเกษตรศาสตร์ (IUP)",gpax:"≥ 2.75",requirements:"IELTS: ≥ 5.5, TOEFL iBT: ≥ 61",intake:"~100-150",fee:"~70,000 บาท/เทอม",logo:"Kasetsart University IUP logo"},{name:"มหาวิทยาลัยมหิดล",gpax:"≥ 3.00",requirements:"IELTS: ≥ 6.0, TOEFL iBT: ≥ 64",intake:"~80-120",fee:"~90,000 บาท/เทอม",logo:"Mahidol University Engineering logo"}]},{faculty:"คณะวิทยาศาสตร์ (สาขาคอมพิวเตอร์)",icon:v_,universities:[{name:"จุฬาลงกรณ์มหาวิทยาลัย",gpax:"≥ 3.25-3.5",intake:"~20-30",fee:"~21,000 บาท/เทอม",logo:"Chulalongkorn University ComSci logo"},{name:"มหาวิทยาลัยเกษตรศาสตร์",gpax:"≥ 3.00",intake:"~30-50",fee:"~17,000 บาท/เทอม",logo:"Kasetsart University ComSci logo"}]},{faculty:"คณะ ICT",icon:bs,universities:[{name:"มหาวิทยาลัยมหิดล (ICT)",gpax:"≥ 3.00",requirements:"IELTS: ≥ 6.0, TOEFL iBT: ≥ 64",intake:"~150-200",fee:"~60,000 บาท/เทอม",logo:"Mahidol University ICT logo"}]}],t={initial:{opacity:0,y:20},in:{opacity:1,y:0},out:{opacity:0,y:-20}},n={type:"tween",ease:"anticipate",duration:.5},r=["from-blue-500 to-indigo-500","from-green-500 to-teal-500","from-yellow-500 to-orange-500","from-pink-500 to-rose-500","from-purple-500 to-violet-500"];return i.jsxs(A.div,{initial:"initial",animate:"in",exit:"out",variants:t,transition:n,className:"pt-24 pb-16 px-6",children:[i.jsxs(Ce,{children:[i.jsx("title",{children:"ข้อมูลการรับเข้ามหาวิทยาลัย - Login Learning"}),i.jsx("meta",{name:"description",content:"ข้อมูลการรับเข้าคณะวิศวกรรมศาสตร์และสาขาที่เกี่ยวข้องในมหาวิทยาลัยชั้นนำ สำหรับรอบ Portfolio (ข้อมูลเบื้องต้น)"})]}),i.jsxs("section",{className:"pt-8 mb-12",children:[i.jsxs(A.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.7,delay:.2},className:"text-center mb-10",children:[i.jsxs("h1",{className:"text-5xl lg:text-6xl font-bold text-white mb-4",children:["ข้อมูลการรับเข้า ",i.jsx("span",{className:"gradient-text",children:"มหาวิทยาลัย"})]}),i.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"ภาพรวมเกณฑ์การรับสมัครคณะวิศวกรรมศาสตร์และสาขาใกล้เคียงในมหาวิทยาลัยชั้นนำ (ข้อมูลสำหรับรอบ Portfolio และอาจมีการเปลี่ยนแปลง)"})]}),e.map((s,a)=>i.jsxs(A.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:a*.1+.3},viewport:{once:!0},className:"mb-12",children:[i.jsxs("div",{className:`flex items-center mb-6 p-3 rounded-lg bg-gradient-to-r ${r[a%r.length]}`,children:[i.jsx(s.icon,{className:"w-8 h-8 text-white mr-4"}),i.jsx("h2",{className:"text-3xl font-bold text-white",children:s.faculty})]}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.universities.map((o,l)=>i.jsxs(A.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},transition:{duration:.4,delay:l*.05},viewport:{once:!0},className:"glass-effect rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx("img",{className:"w-10 h-10 mr-3 rounded-full object-contain bg-white p-1",alt:`โลโก้ ${o.name}`,src:"https://images.unsplash.com/photo-1586374131028-038f2661600f"}),i.jsx("h3",{className:"text-xl font-semibold text-white",children:o.name})]}),i.jsxs("div",{className:"space-y-2 text-sm text-white/80",children:[o.gpax&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(re,{className:"w-4 h-4 mr-2 text-blue-300"}),i.jsxs("span",{children:["GPAX: ",o.gpax]})]}),o.exams&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(bs,{className:"w-4 h-4 mr-2 text-green-300"}),i.jsxs("span",{children:["คะแนนสอบ: ",o.exams]})]}),o.requirements&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(dh,{className:"w-4 h-4 mr-2 text-yellow-300"}),i.jsxs("span",{children:["คุณสมบัติ: ",o.requirements]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ue,{className:"w-4 h-4 mr-2 text-purple-300"}),i.jsxs("span",{children:["จำนวนรับ: ",o.intake]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(dv,{className:"w-4 h-4 mr-2 text-red-300"}),i.jsxs("span",{children:["ค่าเทอม: ",o.fee]})]})]})]}),i.jsx("button",{onClick:()=>alert("🚧 โปรดตรวจสอบข้อมูลล่าสุดจากประกาศอย่างเป็นทางการของ TCAS หรือมหาวิทยาลัยโดยตรง"),className:"mt-4 w-full text-xs bg-white/10 hover:bg-white/20 text-white py-2 px-3 rounded-md transition-colors duration-200",children:"ตรวจสอบข้อมูลล่าสุด"})]},l))})]},a)),i.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.5+e.length*.1},className:"mt-12 text-center p-6 glass-effect rounded-lg",children:i.jsxs("p",{className:"text-white/80 text-sm",children:[i.jsx("span",{className:"font-semibold",children:"ข้อควรทราบ:"})," ข้อมูลข้างต้นเป็นข้อมูลเบื้องต้นสำหรับรอบ Portfolio และอาจมีการเปลี่ยนแปลงในแต่ละปีการศึกษา น้องๆ ควรตรวจสอบข้อมูลล่าสุดจากประกาศอย่างเป็นทางการของ TCAS หรือมหาวิทยาลัยโดยตรงเสมอ"]})})]})]})},Nw=se.forwardRef(({className:e,...t},n)=>i.jsx("textarea",{className:xn("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Nw.displayName="Textarea";const A3=()=>{const{toast:e}=ae(),t={address:"917 จรัญสนิทวงศ์ 75 บางพลัด บางพลัด, กรุงเทพฯ",contacts:[{name:"พี่ก้อง",phone:"090-969-9578"},{name:"พี่เก็ก",phone:"083-436-0294"}],email:"info@loginlearning.com",lineGroup:"https://line.me/ti/g/TbTTLXEkRS"},n=[{name:"สาขาลาดกระบัง",address:"ถนนฉลองกรุง ลาดกระบัง, กรุงเทพฯ 10520"},{name:"สาขาบางพลัด",address:"400 ซ.จรัญสนิทวงศ์ 75 แขวงบางพลัด, กรุงเทพฯ 10700"},{name:"สาขาศรีราชา",address:"165/31 อำเภอศรีราชา ชลบุรี 20110"},{name:"สาขาระยอง",address:"84/48 อำเภอเมืองระยอง ระยอง 21000"}],r=o=>{o.preventDefault(),e({title:"🚧 ระบบส่งข้อความยังไม่พร้อมใช้งาน",description:"ขออภัยในความไม่สะดวก กรุณาติดต่อเราผ่านช่องทางอื่นที่ระบุไว้ 🚀"})},s={initial:{opacity:0,y:20},in:{opacity:1,y:0},out:{opacity:0,y:-20}},a={type:"tween",ease:"anticipate",duration:.5};return i.jsxs(A.div,{initial:"initial",animate:"in",exit:"out",variants:s,transition:a,className:"pt-24 pb-16 px-6",children:[i.jsxs(Ce,{children:[i.jsx("title",{children:"ติดต่อเรา - Login Learning"}),i.jsx("meta",{name:"description",content:"ติดต่อ Login Learning เพื่อสอบถามข้อมูลคอร์สเรียน บริการ หรือขอคำปรึกษาด้านวิศวกรรม"})]}),i.jsxs("section",{className:"pt-8 mb-12",children:[i.jsxs(A.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.7,delay:.2},className:"text-center mb-10",children:[i.jsxs("h1",{className:"text-5xl lg:text-6xl font-bold text-white mb-4",children:["ติดต่อ ",i.jsx("span",{className:"gradient-text",children:"Login Learning"})]}),i.jsx("p",{className:"text-xl text-white/80 max-w-2xl mx-auto",children:"มีคำถาม? ต้องการคำแนะนำ? หรือสนใจคอร์สเรียน? ติดต่อเราได้เลย!"})]}),i.jsxs("div",{className:"max-w-6xl mx-auto grid lg:grid-cols-2 gap-12",children:[i.jsxs(A.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.7,delay:.4},className:"glass-effect p-8 rounded-xl shadow-xl",children:[i.jsx("h2",{className:"text-3xl font-semibold text-white mb-6",children:"ส่งข้อความถึงเรา"}),i.jsxs("form",{onSubmit:r,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-white/90 mb-1",children:"ชื่อ-นามสกุล"}),i.jsx(Le,{type:"text",id:"name",placeholder:"เช่น สมชาย ใจดี",className:"text-black bg-white/90 focus:bg-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white/90 mb-1",children:"อีเมล"}),i.jsx(Le,{type:"email",id:"email",placeholder:"เช่น somchai.j@example.com",className:"text-black bg-white/90 focus:bg-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-white/90 mb-1",children:"หัวข้อ"}),i.jsx(Le,{type:"text",id:"subject",placeholder:"เช่น สอบถามเกี่ยวกับคอร์ส Arduino",className:"text-black bg-white/90 focus:bg-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-white/90 mb-1",children:"ข้อความ"}),i.jsx(Nw,{id:"message",rows:"4",placeholder:"พิมพ์ข้อความของคุณที่นี่...",className:"text-black bg-white/90 focus:bg-white",required:!0})]}),i.jsxs(T,{type:"submit",size:"lg",className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[i.jsx(xv,{className:"w-5 h-5 mr-2"}),"ส่งข้อความ"]})]})]}),i.jsxs(A.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.7,delay:.6},className:"space-y-8",children:[i.jsxs("div",{className:"glass-effect p-8 rounded-xl shadow-xl",children:[i.jsx("h2",{className:"text-3xl font-semibold text-white mb-6",children:"ข้อมูลติดต่อ"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(Po,{className:"w-6 h-6 text-blue-400 mt-1 shrink-0"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-white",children:"ที่ตั้งสำนักงานใหญ่"}),i.jsx("p",{className:"text-white/80",children:t.address})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(cl,{className:"w-6 h-6 text-green-400 mt-1 shrink-0"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-white",children:"เบอร์โทรศัพท์"}),t.contacts.map(o=>i.jsxs("p",{className:"text-white/80",children:[o.name,": ",o.phone]},o.name))]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(Er,{className:"w-6 h-6 text-yellow-400 mt-1 shrink-0"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-white",children:"อีเมล"}),i.jsx("a",{href:`mailto:${t.email}`,className:"text-white/80 hover:text-yellow-300 transition-colors",children:t.email})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(Ue,{className:"w-6 h-6 text-teal-400 mt-1 shrink-0"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-white",children:"Line Group"}),i.jsx("a",{href:t.lineGroup,target:"_blank",rel:"noopener noreferrer",className:"text-white/80 hover:text-teal-300 transition-colors underline",children:"คลิกเพื่อเข้าร่วมกลุ่ม Line"})]})]})]})]}),i.jsxs("div",{className:"glass-effect p-8 rounded-xl shadow-xl",children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"สาขาที่เปิดบริการ"}),i.jsx("div",{className:"space-y-3",children:n.map(o=>i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(Po,{className:"w-5 h-5 text-purple-400 mt-1 shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-md font-medium text-white/90",children:o.name}),i.jsx("p",{className:"text-sm text-white/70",children:o.address})]})]},o.name))})]})]})]})]}),i.jsxs("section",{className:"mt-16",children:[i.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.7,delay:.8},className:"text-center mb-6",children:i.jsx("h2",{className:"text-3xl font-bold text-white",children:"ค้นหาเราบนแผนที่"})}),i.jsx(A.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.7,delay:1},className:"glass-effect rounded-xl p-4 shadow-xl h-96 flex items-center justify-center",children:i.jsx("p",{className:"text-white/80 text-lg",children:"🚧 แผนที่กำลังจะมาเร็วๆ นี้! 🚧"})})]})]})},L3=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(""),[s,a]=w.useState(!1),[o,l]=w.useState(""),{signInWithPassword:c,signInWithGoogle:u,isSupabaseConnected:d}=qe(),h=As(),{toast:f}=ae(),m=async p=>{if(p.preventDefault(),l(""),!d){f({title:"⚠️ ยังไม่ได้เชื่อมต่อ Supabase",description:"โปรดเชื่อมต่อ Supabase ก่อนทำการเข้าสู่ระบบ",variant:"destructive"});return}a(!0);const{error:g}=await c(e,n);a(!1),g?(l(g.message),f({title:"เข้าสู่ระบบไม่สำเร็จ",description:g.message,variant:"destructive"})):(f({title:"เข้าสู่ระบบสำเร็จ!"}),h("/dashboard"))},v=async()=>{if(l(""),!d){f({title:"⚠️ ยังไม่ได้เชื่อมต่อ Supabase",description:"โปรดเชื่อมต่อ Supabase ก่อนทำการเข้าสู่ระบบด้วย Google",variant:"destructive"});return}a(!0);const{error:p}=await u();a(!1),p&&(l(p.message),f({title:"เข้าสู่ระบบด้วย Google ไม่สำเร็จ",description:p.message,variant:"destructive"}))},y={initial:{opacity:0,y:20},in:{opacity:1,y:0},out:{opacity:0,y:-20}},b={type:"tween",ease:"anticipate",duration:.5};return i.jsxs(A.div,{initial:"initial",animate:"in",exit:"out",variants:y,transition:b,className:"min-h-screen flex items-center justify-center pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:[i.jsxs(Ce,{children:[i.jsx("title",{children:"เข้าสู่ระบบ - Login Learning"}),i.jsx("meta",{name:"description",content:"เข้าสู่ระบบบัญชี Login Learning ของคุณเพื่อเข้าถึงคอร์สเรียนและติดตามความก้าวหน้า"})]}),i.jsxs("div",{className:"max-w-md w-full space-y-8 glass-effect p-10 rounded-xl shadow-2xl",children:[i.jsxs("div",{children:[i.jsx(A.h2,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.1},className:"mt-6 text-center text-4xl font-extrabold text-white",children:"เข้าสู่ระบบ"}),i.jsxs(A.p,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.2},className:"mt-2 text-center text-sm text-white/80",children:["หรือ"," ",i.jsx(te,{to:"/signup",className:"font-medium text-blue-400 hover:text-blue-300",children:"สร้างบัญชีใหม่"})]})]}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[o&&i.jsxs(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/20 p-3 rounded-md flex items-center text-red-300 text-sm",children:[i.jsx(Xt,{className:"w-5 h-5 mr-2"}),o]}),i.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[i.jsxs(A.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:.3},children:[i.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"อีเมล"}),i.jsxs("div",{className:"relative",children:[i.jsx(Le,{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-700 bg-gray-800/50 text-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm rounded-t-md",placeholder:"อีเมล",value:e,onChange:p=>t(p.target.value)}),i.jsx(Er,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500"})]})]}),i.jsxs(A.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:.4},children:[i.jsx("label",{htmlFor:"password",className:"sr-only",children:"รหัสผ่าน"}),i.jsxs("div",{className:"relative",children:[i.jsx(Le,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-700 bg-gray-800/50 text-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm rounded-b-md",placeholder:"รหัสผ่าน",value:n,onChange:p=>r(p.target.value)}),i.jsx(To,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500"})]})]})]}),i.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.5},className:"flex items-center justify-between",children:i.jsx("div",{className:"text-sm",children:i.jsx("a",{href:"#",onClick:()=>f({title:"🚧 ฟีเจอร์นี้ยังไม่พร้อมใช้งาน"}),className:"font-medium text-blue-400 hover:text-blue-300",children:"ลืมรหัสผ่าน?"})})}),i.jsx(A.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.6},children:i.jsxs(T,{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-900",disabled:s||!d,children:[i.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:i.jsx(L_,{className:"h-5 w-5 text-blue-300 group-hover:text-blue-200","aria-hidden":"true"})}),s?"กำลังเข้าสู่ระบบ...":"เข้าสู่ระบบ"]})})]}),i.jsxs(A.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.7},className:"mt-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-gray-700"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-2 bg-gray-800 text-gray-400 rounded-md",children:"หรือเข้าสู่ระบบด้วย"})})]}),i.jsx("div",{className:"mt-6",children:i.jsxs(T,{onClick:v,variant:"outline",className:"w-full flex justify-center py-3 px-4 border-gray-700 text-white hover:bg-gray-700/50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-900",disabled:s||!d,children:[i.jsx("svg",{className:"w-5 h-5 mr-2","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:i.jsx("path",{fill:"currentColor",d:"M488 261.8C488 403.3 381.7 512 244 512 110.3 512 0 401.7 0 265.2S110.3 18.3 244 18.3c67.4 0 120.9 24.8 160.4 60.3l-64.8 63.1c-20.1-18.9-48.4-30.8-89.3-30.8-70.1 0-128.2 57.2-128.2 128.2s58.1 128.2 128.2 128.2c80.3 0 110.1-58.8 113.8-87.9H244v-74.6h236.7c2.3 12.7 3.8 25.9 3.8 39.9z"})}),"เข้าสู่ระบบด้วย Google"]})})]}),!d&&i.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-4 text-center text-yellow-400 text-sm p-3 bg-yellow-500/10 rounded-md",children:"⚠️ Supabase ยังไม่ได้เชื่อมต่อ! กรุณาเชื่อมต่อ Supabase ในหน้าตั้งค่าเพื่อเปิดใช้งานระบบ Login"})]})]})},R3=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(""),[s,a]=w.useState(""),[o,l]=w.useState(""),[c,u]=w.useState(!1),[d,h]=w.useState(""),{signUpWithPassword:f,signInWithGoogle:m,isSupabaseConnected:v}=qe(),y=As(),{toast:b}=ae(),p=async N=>{if(N.preventDefault(),h(""),!v){b({title:"⚠️ ยังไม่ได้เชื่อมต่อ Supabase",description:"โปรดเชื่อมต่อ Supabase ก่อนทำการสมัครสมาชิก",variant:"destructive"});return}if(n!==s){h("รหัสผ่านไม่ตรงกัน"),b({title:"ข้อผิดพลาด",description:"รหัสผ่านและการยืนยันรหัสผ่านไม่ตรงกัน",variant:"destructive"});return}u(!0);const{error:S}=await f(e,n,o);u(!1),S?(h(S.message),b({title:"สมัครสมาชิกไม่สำเร็จ",description:S.message,variant:"destructive"})):(b({title:"สมัครสมาชิกสำเร็จ!",description:"กรุณาตรวจสอบอีเมลของคุณเพื่อยืนยันบัญชี"}),y("/login"))},g=async()=>{if(h(""),!v){b({title:"⚠️ ยังไม่ได้เชื่อมต่อ Supabase",description:"โปรดเชื่อมต่อ Supabase ก่อนทำการสมัครสมาชิกด้วย Google",variant:"destructive"});return}u(!0);const{error:N}=await m();u(!1),N&&(h(N.message),b({title:"สมัครสมาชิกด้วย Google ไม่สำเร็จ",description:N.message,variant:"destructive"}))},x={initial:{opacity:0,y:20},in:{opacity:1,y:0},out:{opacity:0,y:-20}},j={type:"tween",ease:"anticipate",duration:.5};return i.jsxs(A.div,{initial:"initial",animate:"in",exit:"out",variants:x,transition:j,className:"min-h-screen flex items-center justify-center pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:[i.jsxs(Ce,{children:[i.jsx("title",{children:"สมัครสมาชิก - Login Learning"}),i.jsx("meta",{name:"description",content:"สร้างบัญชี Login Learning ใหม่เพื่อเริ่มต้นการเรียนรู้และค้นพบศักยภาพด้านวิศวกรรม"})]}),i.jsxs("div",{className:"max-w-md w-full space-y-8 glass-effect p-10 rounded-xl shadow-2xl",children:[i.jsxs("div",{children:[i.jsx(A.h2,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.1},className:"mt-6 text-center text-4xl font-extrabold text-white",children:"สร้างบัญชีใหม่"}),i.jsxs(A.p,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.2},className:"mt-2 text-center text-sm text-white/80",children:["หรือ"," ",i.jsx(te,{to:"/login",className:"font-medium text-blue-400 hover:text-blue-300",children:"เข้าสู่ระบบหากมีบัญชีแล้ว"})]})]}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[d&&i.jsxs(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/20 p-3 rounded-md flex items-center text-red-300 text-sm",children:[i.jsx(Xt,{className:"w-5 h-5 mr-2"}),d]}),i.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[i.jsxs(A.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:.3},children:[i.jsx("label",{htmlFor:"full-name",className:"sr-only",children:"ชื่อ-นามสกุล"}),i.jsxs("div",{className:"relative",children:[i.jsx(Le,{id:"full-name",name:"fullName",type:"text",autoComplete:"name",required:!0,className:"appearance-none relative block w-full px-3 py-3 border border-gray-700 bg-gray-800/50 text-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm rounded-md",placeholder:"ชื่อ-นามสกุล",value:o,onChange:N=>l(N.target.value)}),i.jsx(zi,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500"})]})]}),i.jsxs(A.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:.4},children:[i.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"อีเมล"}),i.jsxs("div",{className:"relative",children:[i.jsx(Le,{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-3 border border-gray-700 bg-gray-800/50 text-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm rounded-md",placeholder:"อีเมล",value:e,onChange:N=>t(N.target.value)}),i.jsx(Er,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500"})]})]}),i.jsxs(A.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:.5},children:[i.jsx("label",{htmlFor:"password",className:"sr-only",children:"รหัสผ่าน"}),i.jsxs("div",{className:"relative",children:[i.jsx(Le,{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-3 border border-gray-700 bg-gray-800/50 text-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm rounded-md",placeholder:"รหัสผ่าน (อย่างน้อย 6 ตัวอักษร)",value:n,onChange:N=>r(N.target.value)}),i.jsx(To,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500"})]})]}),i.jsxs(A.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:.6},children:[i.jsx("label",{htmlFor:"confirm-password",className:"sr-only",children:"ยืนยันรหัสผ่าน"}),i.jsxs("div",{className:"relative",children:[i.jsx(Le,{id:"confirm-password",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-3 border border-gray-700 bg-gray-800/50 text-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm rounded-md",placeholder:"ยืนยันรหัสผ่าน",value:s,onChange:N=>a(N.target.value)}),i.jsx(To,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500"})]})]})]}),i.jsx(A.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.7},children:i.jsxs(T,{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-900",disabled:c||!v,children:[i.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:i.jsx(yv,{className:"h-5 w-5 text-blue-300 group-hover:text-blue-200","aria-hidden":"true"})}),c?"กำลังสร้างบัญชี...":"สร้างบัญชี"]})})]}),i.jsxs(A.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.8},className:"mt-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-gray-700"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-2 bg-gray-800 text-gray-400 rounded-md",children:"หรือสมัครด้วย"})})]}),i.jsx("div",{className:"mt-6",children:i.jsxs(T,{onClick:g,variant:"outline",className:"w-full flex justify-center py-3 px-4 border-gray-700 text-white hover:bg-gray-700/50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 focus:ring-offset-gray-900",disabled:c||!v,children:[i.jsx("svg",{className:"w-5 h-5 mr-2","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:i.jsx("path",{fill:"currentColor",d:"M488 261.8C488 403.3 381.7 512 244 512 110.3 512 0 401.7 0 265.2S110.3 18.3 244 18.3c67.4 0 120.9 24.8 160.4 60.3l-64.8 63.1c-20.1-18.9-48.4-30.8-89.3-30.8-70.1 0-128.2 57.2-128.2 128.2s58.1 128.2 128.2 128.2c80.3 0 110.1-58.8 113.8-87.9H244v-74.6h236.7c2.3 12.7 3.8 25.9 3.8 39.9z"})}),"สมัครด้วย Google"]})})]}),!v&&i.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},className:"mt-4 text-center text-yellow-400 text-sm p-3 bg-yellow-500/10 rounded-md",children:"⚠️ Supabase ยังไม่ได้เชื่อมต่อ! กรุณาเชื่อมต่อ Supabase ในหน้าตั้งค่าเพื่อเปิดใช้งานระบบสมัครสมาชิก"})]})]})},O3=()=>{var l;const{user:e,isAdmin:t}=qe(),{toast:n}=ae(),r=As(),s=(c,u)=>{u?r(u):n({title:`🚧 ฟีเจอร์ "${c}" ยังไม่พร้อมใช้งาน`,description:"เรากำลังพัฒนาฟีเจอร์นี้อยู่ โปรดรอติดตาม! 🚀"})},a={initial:{opacity:0,y:20},in:{opacity:1,y:0},out:{opacity:0,y:-20}};if(!e)return i.jsx("div",{className:"min-h-screen flex items-center justify-center pt-24 pb-12 px-4",children:i.jsx("p",{className:"text-white text-xl",children:"กำลังโหลดข้อมูลผู้ใช้..."})});const o=[{name:"คอร์สของฉัน",icon:We,color:"blue",description:"ดูคอร์สที่คุณกำลังเรียนและติดตามความคืบหน้า",path:"/courses"},{name:"โปรไฟล์ของฉัน",icon:vv,color:"green",description:"อัปเดตข้อมูลส่วนตัวและรูปโปรไฟล์ของคุณ",path:"/profile"},{name:"ความคืบหน้า",icon:av,color:"purple",description:"ติดตามความก้าวหน้าในการเรียนรู้ของคุณ",path:null},{name:"การแจ้งเตือน",icon:x_,color:"yellow",description:"ดูการแจ้งเตือนล่าสุดและข่าวสารจากเรา",path:null},{name:"ตั้งค่าบัญชี",icon:uh,color:"indigo",description:"จัดการการตั้งค่าบัญชีและความปลอดภัย",path:null}];return t&&o.push({name:"แผงควบคุมผู้ดูแลระบบ",icon:fv,color:"red",description:"จัดการผู้ใช้, คอร์สเรียน, และเนื้อหาเว็บไซต์",path:"/admin",gridSpan:"lg:col-span-2"}),i.jsxs(A.div,{initial:"initial",animate:"in",exit:"out",variants:a,className:"container mx-auto px-4 py-12",children:[i.jsxs(Ce,{children:[i.jsx("title",{children:"แดชบอร์ด - Login Learning"}),i.jsx("meta",{name:"description",content:"แดชบอร์ดส่วนตัวของคุณใน Login Learning จัดการคอร์สเรียนและโปรไฟล์"})]}),i.jsxs("div",{className:"max-w-5xl mx-auto",children:[i.jsxs(A.div,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.1},className:"mb-10",children:[i.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white",children:["ยินดีต้อนรับ, ",i.jsx("span",{className:"gradient-text",children:((l=e.user_metadata)==null?void 0:l.full_name)||e.email}),"!"]}),t&&i.jsx("p",{className:"text-yellow-400 text-md sm:text-lg mt-2",children:"คุณกำลังเข้าสู่ระบบในฐานะผู้ดูแลระบบ"})]}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((c,u)=>i.jsxs(A.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4,delay:.15+u*.05},className:`glass-effect p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 ease-in-out transform hover:-translate-y-1 ${c.gridSpan||""}`,onClick:()=>s(c.name,c.path),children:[i.jsxs("div",{className:`flex items-center text-${c.color}-400 mb-3`,children:[i.jsx(c.icon,{className:"w-7 h-7 mr-3"}),i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:c.name})]}),i.jsx("p",{className:"text-slate-300/80 text-sm mb-4",children:c.description}),i.jsx(T,{variant:"outline",className:`w-full border-${c.color}-500/60 text-${c.color}-400 hover:bg-${c.color}-500/20`,children:c.path?c.name==="โปรไฟล์ของฉัน"?"แก้ไขโปรไฟล์":`ไปยัง${c.name}`:"ดูรายละเอียด"})]},c.name))})]})]})},I3=()=>{var m,v,y;const{user:e,isAdmin:t}=qe(),{toast:n}=ae(),[r,s]=se.useState(!1),[a,o]=se.useState(((m=e==null?void 0:e.user_metadata)==null?void 0:m.full_name)||""),[l,c]=se.useState((e==null?void 0:e.email)||""),u=()=>{n({title:"🚧 ฟีเจอร์บันทึกโปรไฟล์ยังไม่พร้อมใช้งาน",description:"คุณสามารถขอให้เพิ่มฟีเจอร์นี้ในข้อความถัดไปได้! 🚀"}),s(!1)},d=b=>{n({title:`🚧 ฟีเจอร์ "${b}" ยังไม่พร้อมใช้งาน`,description:"เรากำลังพัฒนาฟีเจอร์นี้อยู่ โปรดรอติดตาม! 🚀"})},h={initial:{opacity:0,y:20},in:{opacity:1,y:0},out:{opacity:0,y:-20}},f={type:"tween",ease:"anticipate",duration:.5};return e?i.jsxs(A.div,{initial:"initial",animate:"in",exit:"out",variants:h,transition:f,className:"container mx-auto px-4 py-12",children:[i.jsxs(Ce,{children:[i.jsx("title",{children:"โปรไฟล์ของฉัน - Login Learning"}),i.jsx("meta",{name:"description",content:"จัดการข้อมูลโปรไฟล์และตั้งค่าบัญชีของคุณที่ Login Learning"})]}),i.jsxs(A.div,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.1},className:"mb-10 text-center",children:[i.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold text-white",children:["โปรไฟล์ของ ",i.jsx("span",{className:"gradient-text",children:((v=e.user_metadata)==null?void 0:v.full_name)||e.email})]}),t&&i.jsx("p",{className:"text-yellow-400 mt-2",children:"สถานะ: ผู้ดูแลระบบ"})]}),i.jsxs("div",{className:"max-w-2xl mx-auto glass-effect p-6 sm:p-8 rounded-xl shadow-xl",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-semibold text-white",children:"ข้อมูลส่วนตัว"}),i.jsxs(T,{variant:"outline",onClick:()=>s(!r),className:"text-slate-300 border-slate-500 hover:bg-slate-700 hover:text-white",children:[i.jsx(bs,{className:"w-4 h-4 mr-2"}),r?"ยกเลิก":"แก้ไขโปรไฟล์"]})]}),r?i.jsxs("form",{onSubmit:b=>{b.preventDefault(),u()},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-slate-300 mb-1",children:"ชื่อ-นามสกุล"}),i.jsxs("div",{className:"relative",children:[i.jsx(zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500"}),i.jsx(Le,{id:"fullName",type:"text",value:a,onChange:b=>o(b.target.value),className:"pl-10 bg-slate-700/50 border-slate-600 text-white focus:border-[#667eea]"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-300 mb-1",children:"อีเมล"}),i.jsxs("div",{className:"relative",children:[i.jsx(Er,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500"}),i.jsx(Le,{id:"email",type:"email",value:l,onChange:b=>c(b.target.value),disabled:!0,className:"pl-10 bg-slate-800 border-slate-700 text-slate-400 cursor-not-allowed"})]}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"ไม่สามารถแก้ไขอีเมลได้"})]}),i.jsx(T,{type:"submit",className:"w-full bg-gradient-to-r from-[#667eea] to-[#764ba2] hover:from-[#5a6fcf] hover:to-[#673f8b] text-white",children:"บันทึกการเปลี่ยนแปลง"})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(zi,{className:"w-5 h-5 mr-3 text-[#667eea]"}),i.jsxs("span",{className:"text-slate-300",children:["ชื่อ-นามสกุล: ",((y=e.user_metadata)==null?void 0:y.full_name)||"ไม่ได้ระบุ"]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Er,{className:"w-5 h-5 mr-3 text-[#667eea]"}),i.jsxs("span",{className:"text-slate-300",children:["อีเมล: ",e.email]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(B_,{className:"w-5 h-5 mr-3 text-[#667eea]"}),i.jsx("span",{className:"text-slate-300",children:"สถานะบัญชี: ยืนยันแล้ว"})]})]})]}),i.jsxs("div",{className:"max-w-2xl mx-auto mt-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"glass-effect p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow cursor-pointer",onClick:()=>d("คอร์สเรียนของฉัน"),children:[i.jsxs("div",{className:"flex items-center text-blue-300 mb-3",children:[i.jsx(We,{className:"w-7 h-7 mr-3"}),i.jsx("h2",{className:"text-xl font-semibold text-white",children:"คอร์สเรียนของฉัน"})]}),i.jsx("p",{className:"text-slate-300/80 text-sm",children:"ดูและจัดการคอร์สที่คุณลงทะเบียน"})]}),i.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"glass-effect p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow cursor-pointer",onClick:()=>d("ความคืบหน้าการเรียน"),children:[i.jsxs("div",{className:"flex items-center text-green-300 mb-3",children:[i.jsx(av,{className:"w-7 h-7 mr-3"}),i.jsx("h2",{className:"text-xl font-semibold text-white",children:"ความคืบหน้า"})]}),i.jsx("p",{className:"text-slate-300/80 text-sm",children:"ติดตามความก้าวหน้าในการเรียนของคุณ"})]})]})]}):i.jsx("div",{className:"text-center py-10",children:"กำลังโหลดข้อมูลผู้ใช้..."})},M3=()=>{const{toast:e}=ae(),[t,n]=w.useState([{name:"",credit:"",grade:""}]),[r,s]=w.useState(null),a=()=>{n([...t,{name:"",credit:"",grade:""}])},o=f=>{const m=t.filter((v,y)=>y!==f);n(m)},l=(f,m,v)=>{const y=t.map((b,p)=>p===f?{...b,[m]:v}:b);n(y)},c=f=>{const m=f.toUpperCase();if(m==="A")return 4;if(m==="B+")return 3.5;if(m==="B")return 3;if(m==="C+")return 2.5;if(m==="C")return 2;if(m==="D+")return 1.5;if(m==="D")return 1;if(m==="F"||m==="W")return 0;const v=parseFloat(f);return!isNaN(v)&&v>=0&&v<=4?v:null},u=()=>{let f=0,m=0,v=!0;if(t.forEach(y=>{const b=parseFloat(y.credit),p=c(y.grade);if(isNaN(b)||b<=0||p===null){(y.credit||y.grade)&&(v=!1);return}f+=b,m+=b*p}),!v){e({title:"ข้อมูลไม่ถูกต้อง",description:"กรุณาตรวจสอบหน่วยกิต (ต้องเป็นตัวเลขมากกว่า 0) และเกรด (A, B+, B, C+, C, D+, D, F หรือ 0-4)",variant:"destructive"}),s(null);return}if(f===0&&t.some(y=>y.credit||y.grade)){e({title:"ข้อมูลไม่ครบถ้วน",description:"กรุณากรอกหน่วยกิตและเกรดให้ถูกต้อง",variant:"destructive"}),s(null);return}if(f===0){s(null);return}s((m/f).toFixed(2))},d=()=>{if(r===null){e({title:"คำนวณ GPAX ก่อน",description:"กรุณาคำนวณ GPAX ของคุณก่อนรับคำแนะนำ",variant:"destructive"});return}e({title:"🚧 ฟีเจอร์แนะนำมหาวิทยาลัยยังไม่พร้อมใช้งาน",description:`GPAX ของคุณคือ ${r} ฟีเจอร์นี้จะช่วยแนะนำมหาวิทยาลัยที่เหมาะสมกับคุณเร็วๆ นี้! 🚀`})},h={initial:{opacity:0,y:20},in:{opacity:1,y:0},out:{opacity:0,y:-20}};return i.jsxs(A.div,{initial:"initial",animate:"in",exit:"out",variants:h,className:"container mx-auto px-4 py-12",children:[i.jsxs(Ce,{children:[i.jsx("title",{children:"คำนวณ GPAX - Login Learning"}),i.jsx("meta",{name:"description",content:"เครื่องมือคำนวณ GPAX และวางแผนการเรียนต่อมหาวิทยาลัยกับ Login Learning"})]}),i.jsxs(A.div,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.1},className:"text-center mb-10",children:[i.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold text-white mb-3",children:[i.jsx(cv,{className:"inline-block w-10 h-10 mr-3 text-[#667eea]"}),"คำนวณ GPAX"]}),i.jsx("p",{className:"text-slate-300 text-lg",children:"วางแผนอนาคตการศึกษาของคุณด้วยเครื่องมือคำนวณ GPAX ของเรา"})]}),i.jsxs("div",{className:"max-w-3xl mx-auto glass-effect p-6 sm:p-8 rounded-xl shadow-xl",children:[i.jsx("h2",{className:"text-2xl font-semibold text-white mb-6",children:"กรอกข้อมูลรายวิชา"}),t.map((f,m)=>i.jsxs(A.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*m},className:"grid grid-cols-1 sm:grid-cols-12 gap-3 mb-4 items-center",children:[i.jsx(Le,{type:"text",placeholder:`ชื่อวิชา ${m+1}`,value:f.name,onChange:v=>l(m,"name",v.target.value),className:"sm:col-span-5 bg-slate-700/50 border-slate-600 text-white focus:border-[#667eea]"}),i.jsx(Le,{type:"number",placeholder:"หน่วยกิต",min:"0.5",step:"0.5",value:f.credit,onChange:v=>l(m,"credit",v.target.value),className:"sm:col-span-3 bg-slate-700/50 border-slate-600 text-white focus:border-[#667eea]"}),i.jsx(Le,{type:"text",placeholder:"เกรด (เช่น A, B+, 3.5)",value:f.grade,onChange:v=>l(m,"grade",v.target.value),className:"sm:col-span-3 bg-slate-700/50 border-slate-600 text-white focus:border-[#667eea]"}),i.jsx(T,{variant:"ghost",size:"icon",onClick:()=>o(m),className:"sm:col-span-1 text-red-400 hover:bg-red-500/20 hover:text-red-300",disabled:t.length===1,children:i.jsx(Lr,{className:"w-5 h-5"})})]},m)),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-6 space-y-3 sm:space-y-0",children:[i.jsxs(T,{onClick:a,variant:"outline",className:"text-slate-300 border-slate-500 hover:bg-slate-700 hover:text-white w-full sm:w-auto",children:[i.jsx(gv,{className:"w-5 h-5 mr-2"}),"เพิ่มรายวิชา"]}),i.jsxs(T,{onClick:u,className:"bg-gradient-to-r from-[#667eea] to-[#764ba2] hover:from-[#5a6fcf] hover:to-[#673f8b] text-white w-full sm:w-auto",children:[i.jsx(g_,{className:"w-5 h-5 mr-2"}),"คำนวณ GPAX"]})]}),r!==null&&i.jsxs(A.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,type:"spring",stiffness:120},className:"mt-8 text-center glass-effect p-6 rounded-lg border border-[#667eea]/50",children:[i.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"GPAX ของคุณคือ:"}),i.jsx("p",{className:"text-5xl font-bold gradient-text mb-4",children:r}),i.jsxs(T,{onClick:d,variant:"outline",className:"text-[#ff6b6b] border-[#ff6b6b]/50 hover:bg-[#ff6b6b]/20 hover:text-[#ff6b6b]",children:[i.jsx(q_,{className:"w-5 h-5 mr-2"}),"ดูมหาวิทยาลัยที่แนะนำ (เร็วๆ นี้)"]})]})]}),i.jsx("div",{className:"mt-8 text-center text-sm text-slate-400 max-w-2xl mx-auto",children:i.jsx("p",{children:"หมายเหตุ: การคำนวณนี้เป็นเพียงค่าประมาณเบื้องต้น โปรดตรวจสอบกับสถาบันการศึกษาของคุณสำหรับข้อมูลที่ถูกต้องที่สุด เกรดที่รองรับ: A, B+, B, C+, C, D+, D, F หรือค่าตัวเลข 0-4. W จะถูกนับเป็น 0"})})]})},D3=()=>{const{user:e}=qe(),{toast:t}=ae(),n=[{name:"จัดการผู้ใช้",icon:Ue,path:"/admin/users",color:"sky"},{name:"จัดการคอร์สเรียน",icon:Eo,path:"/admin/courses",color:"lime"},{name:"จัดการเนื้อหาเว็บไซต์",icon:re,path:"#",color:"indigo",disabled:!0},{name:"ตั้งค่าเว็บไซต์",icon:uh,path:"#",color:"fuchsia",disabled:!0},{name:"ดูสถิติและรายงาน",icon:ov,path:"#",color:"orange",disabled:!0},{name:"ติดตามการเงิน",icon:dv,path:"#",color:"emerald",disabled:!0}],r=(a,o)=>{o&&t({title:`🚧 ฟีเจอร์ผู้ดูแลระบบ "${a}" ยังไม่พร้อมใช้งาน`,description:"เรากำลังพัฒนาส่วนนี้สำหรับผู้ดูแลระบบ โปรดรอติดตาม! 🚀"})},s={initial:{opacity:0,y:20},in:{opacity:1,y:0},out:{opacity:0,y:-20}};return i.jsxs(A.div,{initial:"initial",animate:"in",exit:"out",variants:s,className:"container mx-auto px-4 py-12",children:[i.jsxs(Ce,{children:[i.jsx("title",{children:"ผู้ดูแลระบบ - Login Learning"}),i.jsx("meta",{name:"description",content:"แผงควบคุมสำหรับผู้ดูแลระบบ Login Learning"})]}),i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs(A.div,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.1},className:"mb-10 flex flex-col sm:flex-row justify-between items-center",children:[i.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-white mb-4 sm:mb-0",children:i.jsx("span",{className:"gradient-text",children:"แผงควบคุมผู้ดูแลระบบ"})}),i.jsxs("div",{className:"flex items-center space-x-2 text-yellow-400 p-2 bg-yellow-800/30 rounded-lg border border-yellow-600/50",children:[i.jsx(V_,{className:"w-5 h-5 sm:w-6 sm:h-6"}),i.jsx("span",{className:"text-sm sm:text-base",children:"โหมดผู้ดูแลระบบ"})]})]}),i.jsxs("p",{className:"text-slate-300 mb-8 text-base sm:text-lg",children:["ยินดีต้อนรับ, ",e==null?void 0:e.email,". ที่นี่คุณสามารถจัดการส่วนต่างๆ ของแพลตฟอร์ม Login Learning ได้"]}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((a,o)=>i.jsx(A.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4,delay:.15+o*.05},children:i.jsxs(te,{to:a.disabled?"#":a.path,onClick:()=>r(a.name,a.disabled),className:`block glass-effect p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 ease-in-out transform hover:-translate-y-1
                  ${a.disabled?"opacity-60 cursor-not-allowed":`hover:border-${a.color}-500/50 border-transparent border`}
                `,children:[i.jsxs("div",{className:`flex items-center text-${a.color}-400 mb-3`,children:[i.jsx(a.icon,{className:"w-7 h-7 mr-3"}),i.jsx("h2",{className:"text-xl font-semibold text-white",children:a.name})]}),i.jsx("p",{className:"text-slate-400 text-sm mb-4",children:a.name==="จัดการผู้ใช้"?"ดู, แก้ไข, หรือลบข้อมูลผู้ใช้งาน":a.name==="จัดการคอร์สเรียน"?"เพิ่ม, แก้ไข, หรือลบคอร์สเรียนและเนื้อหา":a.name==="จัดการเนื้อหาเว็บไซต์"?"อัปเดตข้อมูลหน้าต่างๆ และข่าวสาร":a.name==="ตั้งค่าเว็บไซต์"?"ปรับแต่งการตั้งค่าทั่วไปของแพลตฟอร์ม":a.name==="ดูสถิติและรายงาน"?"ตรวจสอบสถิติการใช้งานและข้อมูลสำคัญ":a.name==="ติดตามการเงิน"?"ดูข้อมูลการชำระเงินและรายรับ":""}),i.jsxs(T,{variant:"outline",className:`w-full border-${a.color}-500/60 text-${a.color}-400 hover:bg-${a.color}-500/20 
                    ${a.disabled?"pointer-events-none":""}
                  `,disabled:a.disabled,children:["ไปยังส่วน",a.name]})]})},a.name))})]})]})},$3=[{id:"1",name:"นักเรียน ตัวอย่าง",email:"student1@example.com",role:"Student",joined:"2024-01-15"},{id:"2",name:"ผู้สอน ทดสอบ",email:"instructor@example.com",role:"Instructor",joined:"2023-11-20"},{id:"3",name:"ผู้ดูแล สาขา",email:"branchmanager@example.com",role:"Branch Manager",joined:"2023-09-01"}],U3=()=>{const{toast:e}=ae(),[t,n]=se.useState(""),[r,s]=se.useState($3),a=c=>{e({title:`🚧 ฟีเจอร์ "${c}" ยังไม่พร้อมใช้งาน`,description:"เรากำลังพัฒนาส่วนนี้สำหรับผู้ดูแลระบบ โปรดรอติดตาม! 🚀"})},o=r.filter(c=>c.name.toLowerCase().includes(t.toLowerCase())||c.email.toLowerCase().includes(t.toLowerCase())),l={initial:{opacity:0,y:20},in:{opacity:1,y:0},out:{opacity:0,y:-20}};return i.jsxs(A.div,{initial:"initial",animate:"in",exit:"out",variants:l,className:"container mx-auto px-4 py-12",children:[i.jsxs(Ce,{children:[i.jsx("title",{children:"จัดการผู้ใช้ - ผู้ดูแลระบบ Login Learning"}),i.jsx("meta",{name:"description",content:"จัดการข้อมูลผู้ใช้งานทั้งหมดในระบบ Login Learning"})]}),i.jsxs(A.div,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.1},className:"flex flex-col sm:flex-row justify-between items-center mb-10",children:[i.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold text-white mb-4 sm:mb-0",children:[i.jsx(Ue,{className:"inline-block w-8 h-8 mr-3 text-[#667eea]"}),"จัดการผู้ใช้งาน"]}),i.jsxs(T,{onClick:()=>a("เพิ่มผู้ใช้ใหม่"),className:"bg-gradient-to-r from-[#667eea] to-[#764ba2] hover:from-[#5a6fcf] hover:to-[#673f8b] text-white",children:[i.jsx(yv,{className:"w-5 h-5 mr-2"}),"เพิ่มผู้ใช้ใหม่"]})]}),i.jsx("div",{className:"mb-6 glass-effect p-4 rounded-xl",children:i.jsxs("div",{className:"relative",children:[i.jsx(ul,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx(Le,{type:"text",placeholder:"ค้นหาผู้ใช้ (ชื่อ, อีเมล)...",value:t,onChange:c=>n(c.target.value),className:"pl-10 w-full bg-slate-700/50 border-slate-600 text-white focus:border-[#667eea]"})]})}),i.jsxs("div",{className:"glass-effect rounded-xl shadow-xl overflow-x-auto",children:[i.jsxs("table",{className:"w-full min-w-max text-left text-slate-300",children:[i.jsx("thead",{className:"border-b border-slate-700",children:i.jsxs("tr",{className:"bg-slate-700/30",children:[i.jsx("th",{className:"p-4",children:"ชื่อ-นามสกุล"}),i.jsx("th",{className:"p-4",children:"อีเมล"}),i.jsx("th",{className:"p-4",children:"บทบาท"}),i.jsx("th",{className:"p-4",children:"วันที่เข้าร่วม"}),i.jsx("th",{className:"p-4 text-center",children:"การดำเนินการ"})]})}),i.jsx("tbody",{children:o.map((c,u)=>i.jsxs(A.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:u*.05},className:"border-b border-slate-700/50 hover:bg-slate-700/20 transition-colors",children:[i.jsx("td",{className:"p-4",children:c.name}),i.jsx("td",{className:"p-4",children:c.email}),i.jsx("td",{className:"p-4",children:i.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${c.role==="Admin"?"bg-red-500/30 text-red-300":c.role==="Instructor"?"bg-blue-500/30 text-blue-300":c.role==="Branch Manager"?"bg-purple-500/30 text-purple-300":"bg-green-500/30 text-green-300"}`,children:c.role})}),i.jsx("td",{className:"p-4",children:c.joined}),i.jsxs("td",{className:"p-4 text-center space-x-2",children:[i.jsx(T,{variant:"ghost",size:"icon",onClick:()=>a(`แก้ไขผู้ใช้ ${c.name}`),className:"text-blue-400 hover:bg-blue-500/20",children:i.jsx(pv,{className:"w-4 h-4"})}),i.jsx(T,{variant:"ghost",size:"icon",onClick:()=>a(`ลบผู้ใช้ ${c.name}`),className:"text-red-400 hover:bg-red-500/20",children:i.jsx(Lr,{className:"w-4 h-4"})})]})]},c.id))})]}),o.length===0&&i.jsx("p",{className:"text-center p-6 text-slate-400",children:"ไม่พบผู้ใช้งานที่ตรงกับการค้นหา"})]})]})},F3=()=>{const{toast:e}=ae(),[t,n]=w.useState(""),[r,s]=w.useState([]),[a,o]=w.useState(!0),[l,c]=w.useState(null);w.useState(!1),w.useEffect(()=>{u(),d()},[]);const u=async()=>{o(!0);const{data:y,error:b}=await KP();b?e({title:"ข้อผิดพลาดในการโหลดข้อมูล",description:b.message,variant:"destructive"}):s(y||[]),o(!1)},d=async()=>{const{data:y,error:b}=await XP();!b&&y&&c(y)},h=async(y,b)=>{if(!confirm(`คุณแน่ใจหรือไม่ที่จะลบคอร์ส "${b}"?`))return;const{error:p}=await qP(y);p?e({title:"ไม่สามารถลบคอร์สได้",description:p.message,variant:"destructive"}):(e({title:"ลบคอร์สสำเร็จ",description:`คอร์ส "${b}" ถูกลบแล้ว`}),u(),d())},f=y=>{e({title:`🚧 ฟีเจอร์ "${y}" ยังไม่พร้อมใช้งาน`,description:"เรากำลังพัฒนาส่วนนี้สำหรับผู้ดูแลระบบ โปรดรอติดตาม! 🚀"})},m=r.filter(y=>y.title.toLowerCase().includes(t.toLowerCase())||y.category.toLowerCase().includes(t.toLowerCase())),v={initial:{opacity:0,y:20},in:{opacity:1,y:0},out:{opacity:0,y:-20}};return i.jsxs(A.div,{initial:"initial",animate:"in",exit:"out",variants:v,className:"container mx-auto px-4 py-12",children:[i.jsxs(Ce,{children:[i.jsx("title",{children:"จัดการคอร์สเรียน - ผู้ดูแลระบบ Login Learning"}),i.jsx("meta",{name:"description",content:"จัดการคอร์สเรียนทั้งหมดในระบบ Login Learning"})]}),i.jsxs(A.div,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.1},className:"flex flex-col sm:flex-row justify-between items-center mb-10",children:[i.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold text-white mb-4 sm:mb-0",children:[i.jsx(Eo,{className:"inline-block w-8 h-8 mr-3 text-[#667eea]"}),"จัดการคอร์สเรียน"]}),i.jsxs(T,{onClick:()=>f("เพิ่มคอร์สใหม่"),className:"bg-gradient-to-r from-[#667eea] to-[#764ba2] hover:from-[#5a6fcf] hover:to-[#673f8b] text-white",children:[i.jsx(gv,{className:"w-5 h-5 mr-2"}),"เพิ่มคอร์สใหม่"]})]}),l&&i.jsxs(A.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.2},className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[i.jsx("div",{className:"glass-effect p-6 rounded-xl",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-400 text-sm",children:"คอร์สทั้งหมด"}),i.jsx("p",{className:"text-2xl font-bold text-white",children:l.totalCourses})]}),i.jsx(Eo,{className:"w-8 h-8 text-[#667eea]"})]})}),i.jsx("div",{className:"glass-effect p-6 rounded-xl",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-400 text-sm",children:"นักเรียนทั้งหมด"}),i.jsx("p",{className:"text-2xl font-bold text-white",children:l.totalEnrollments})]}),i.jsx(Ue,{className:"w-8 h-8 text-green-400"})]})}),i.jsx("div",{className:"glass-effect p-6 rounded-xl",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-400 text-sm",children:"กำลังเรียน"}),i.jsx("p",{className:"text-2xl font-bold text-white",children:l.activeEnrollments})]}),i.jsx(ov,{className:"w-8 h-8 text-blue-400"})]})}),i.jsx("div",{className:"glass-effect p-6 rounded-xl",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-400 text-sm",children:"อัตราสำเร็จ"}),i.jsxs("p",{className:"text-2xl font-bold text-white",children:[l.completionRate,"%"]})]}),i.jsx(qn,{className:"w-8 h-8 text-purple-400"})]})})]}),i.jsx("div",{className:"mb-6 glass-effect p-4 rounded-xl",children:i.jsxs("div",{className:"relative",children:[i.jsx(ul,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx(Le,{type:"text",placeholder:"ค้นหาคอร์ส (ชื่อ, หมวดหมู่)...",value:t,onChange:y=>n(y.target.value),className:"pl-10 w-full bg-slate-700/50 border-slate-600 text-white focus:border-[#667eea]"})]})}),i.jsxs("div",{className:"glass-effect rounded-xl shadow-xl overflow-x-auto",children:[a?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#667eea] mx-auto mb-4"}),i.jsx("p",{className:"text-slate-400",children:"กำลังโหลดข้อมูลคอร์ส..."})]}):i.jsxs("table",{className:"w-full min-w-max text-left text-slate-300",children:[i.jsx("thead",{className:"border-b border-slate-700",children:i.jsxs("tr",{className:"bg-slate-700/30",children:[i.jsx("th",{className:"p-4",children:"ชื่อคอร์ส"}),i.jsx("th",{className:"p-4",children:"หมวดหมู่"}),i.jsx("th",{className:"p-4",children:"นักเรียน"}),i.jsx("th",{className:"p-4",children:"ระยะเวลา"}),i.jsx("th",{className:"p-4",children:"ราคา"}),i.jsx("th",{className:"p-4",children:"สถานะ"}),i.jsx("th",{className:"p-4",children:"วันที่สร้าง"}),i.jsx("th",{className:"p-4 text-center",children:"การดำเนินการ"})]})}),i.jsx("tbody",{children:m.map((y,b)=>i.jsxs(A.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:b*.05},className:"border-b border-slate-700/50 hover:bg-slate-700/20 transition-colors",children:[i.jsx("td",{className:"p-4",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-white",children:y.title}),i.jsx("p",{className:"text-sm text-slate-400 truncate max-w-xs",children:y.description||"ไม่มีคำอธิบาย"})]})}),i.jsx("td",{className:"p-4",children:i.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-500/30 text-blue-300",children:y.category||"ไม่ระบุ"})}),i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ue,{className:"w-4 h-4 mr-1 text-slate-400"}),y.enrollment_count||0]})}),i.jsxs("td",{className:"p-4",children:[y.duration_hours||0," ชั่วโมง"]}),i.jsx("td",{className:"p-4",children:y.price?`฿${y.price.toLocaleString()}`:"ฟรี"}),i.jsx("td",{className:"p-4",children:i.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${y.is_active?"bg-green-500/30 text-green-300":"bg-red-500/30 text-red-300"}`,children:y.is_active?"เปิดใช้งาน":"ปิดใช้งาน"})}),i.jsx("td",{className:"p-4",children:new Date(y.created_at).toLocaleDateString("th-TH")}),i.jsxs("td",{className:"p-4 text-center space-x-2",children:[i.jsx(te,{to:`/admin/courses/${y.id}/content`,children:i.jsx(T,{variant:"ghost",size:"icon",className:"text-green-400 hover:bg-green-500/20",title:"จัดการเนื้อหา",children:i.jsx(re,{className:"w-4 h-4"})})}),i.jsx(T,{variant:"ghost",size:"icon",onClick:()=>f(`แก้ไขคอร์ส ${y.title}`),className:"text-blue-400 hover:bg-blue-500/20",title:"แก้ไขคอร์ส",children:i.jsx(pv,{className:"w-4 h-4"})}),i.jsx(T,{variant:"ghost",size:"icon",onClick:()=>h(y.id,y.title),className:"text-red-400 hover:bg-red-500/20",title:"ลบคอร์ส",children:i.jsx(Lr,{className:"w-4 h-4"})})]})]},y.id))})]}),!a&&m.length===0&&i.jsxs("div",{className:"text-center p-8",children:[i.jsx(ws,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-400 text-lg",children:"ไม่พบคอร์สเรียนที่ตรงกับการค้นหา"}),i.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"ลองปรับเปลี่ยนคำค้นหาหรือเพิ่มคอร์สใหม่"})]})]})]})},V3=async e=>{try{const{data:t,error:n}=await R.from("course_content").select("*").eq("course_id",e).order("order_index",{ascending:!0});if(n)throw n;return{data:t||[],error:null}}catch(t){return console.error("Error fetching course content:",t),{data:[],error:t}}},z3=async e=>{try{const{data:{user:t},error:n}=await R.auth.getUser();if(n||!t)throw new Error("User not authenticated");const{data:r,error:s}=await R.from("course_content").insert([{...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(s)throw s;return{data:r,error:null}}catch(t){return console.error("Error creating content:",t),{data:null,error:t}}},B3=async(e,t)=>{try{const{data:{user:n},error:r}=await R.auth.getUser();if(r||!n)throw new Error("User not authenticated");const{data:s,error:a}=await R.from("course_content").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(a)throw a;return{data:s,error:null}}catch(n){return console.error("Error updating content:",n),{data:null,error:n}}},H3=async e=>{try{const{data:{user:t},error:n}=await R.auth.getUser();if(n||!t)throw new Error("User not authenticated");const{data:r}=await R.from("quizzes").select("id").eq("content_id",e),{data:s}=await R.from("assignments").select("id").eq("content_id",e);if(r&&r.length>0){for(const o of r)await R.from("quiz_attempts").delete().eq("quiz_id",o.id);await R.from("quizzes").delete().eq("content_id",e)}if(s&&s.length>0){for(const o of s)await R.from("assignment_submissions").delete().eq("assignment_id",o.id);await R.from("assignments").delete().eq("content_id",e)}await R.from("video_progress").delete().eq("content_id",e);const{error:a}=await R.from("course_content").delete().eq("id",e);if(a)throw a;return{error:null}}catch(t){return console.error("Error deleting content:",t),{error:t}}},W3=e=>{var n,r,s;const t=[];if((n=e.title)!=null&&n.trim()||t.push("ชื่อเนื้อหาไม่สามารถว่างได้"),e.content_type||t.push("ต้องระบุประเภทเนื้อหา"),e.content_type==="video"&&!((r=e.content_url)!=null&&r.trim())&&t.push("วิดีโอต้องมี URL"),e.content_type==="document"&&!((s=e.content_url)!=null&&s.trim())&&t.push("เอกสารต้องมี URL"),e.duration_minutes<0&&t.push("ระยะเวลาต้องเป็นจำนวนบวก"),e.content_url&&(e.content_type==="video"||e.content_type==="document"))try{new URL(e.content_url)}catch{t.push("รูปแบบ URL ไม่ถูกต้อง")}return{isValid:t.length===0,errors:t}},G3=()=>[{name:"วิดีโอบทเรียน",content_type:"video",title:"บทเรียนที่ X: ",description:"วิดีโอการสอนเกี่ยวกับ...",duration_minutes:15},{name:"แบบทดสอบ",content_type:"quiz",title:"แบบทดสอบบทที่ X",description:"ทดสอบความเข้าใจจากบทเรียน",duration_minutes:10},{name:"งานมอบหมาย",content_type:"assignment",title:"งานมอบหมายที่ X",description:"สร้างโปรเจกต์เพื่อฝึกทักษะ",duration_minutes:60},{name:"เอกสารประกอบ",content_type:"document",title:"เอกสารประกอบการเรียน",description:"เอกสาร PDF หรือไฟล์สำหรับดาวน์โหลด",duration_minutes:0}],q3=({contentId:e,initialQuiz:t,onSave:n})=>{const{toast:r}=ae(),[s,a]=w.useState({title:(t==null?void 0:t.title)||"",description:(t==null?void 0:t.description)||"",instructions:(t==null?void 0:t.instructions)||"",time_limit:(t==null?void 0:t.time_limit)||0,max_attempts:(t==null?void 0:t.max_attempts)||3,passing_score:(t==null?void 0:t.passing_score)||70,show_correct_answers:(t==null?void 0:t.show_correct_answers)??!0,randomize_questions:(t==null?void 0:t.randomize_questions)??!1,questions:(t==null?void 0:t.questions)||[]}),[o,l]=w.useState(null),[c,u]=w.useState(!1),d=()=>{const p=g3(s);if(!p.isValid){r({title:"ข้อมูลแบบทดสอบไม่ถูกต้อง",description:p.errors.join(`
`),variant:"destructive"});return}n(s)},h=()=>{l({id:Date.now().toString(),type:"multiple_choice",question:"",options:["","","",""],correct_answer:"",explanation:"",points:1}),u(!0)},f=p=>{l({...p}),u(!0)},m=p=>{p.id&&s.questions.find(g=>g.id===p.id)?a(g=>({...g,questions:g.questions.map(x=>x.id===p.id?p:x)})):a(g=>({...g,questions:[...g.questions,p]})),u(!1),l(null)},v=p=>{confirm("คุณแน่ใจหรือไม่ที่จะลบคำถามนี้?")&&a(g=>({...g,questions:g.questions.filter(x=>x.id!==p)}))},y=p=>{const g={...p,id:Date.now().toString(),question:`${p.question} (สำเนา)`};a(x=>({...x,questions:[...x.questions,g]}))},b=()=>{const p=x3();a(g=>({...g,questions:[...g.questions,...p]}))};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"glass-effect p-4 rounded-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"การตั้งค่าแบบทดสอบ"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"ชื่อแบบทดสอบ"}),i.jsx("input",{type:"text",value:s.title,onChange:p=>a(g=>({...g,title:p.target.value})),className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white",placeholder:"ชื่อแบบทดสอบ"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"เวลาจำกัด (นาที)"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(vn,{className:"w-4 h-4 text-slate-400"}),i.jsx("input",{type:"number",value:s.time_limit,onChange:p=>a(g=>({...g,time_limit:parseInt(p.target.value)||0})),className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white",min:"0",placeholder:"0 = ไม่จำกัดเวลา"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"จำนวนครั้งที่ทำได้สูงสุด"}),i.jsx("input",{type:"number",value:s.max_attempts,onChange:p=>a(g=>({...g,max_attempts:parseInt(p.target.value)||1})),className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white",min:"1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"คะแนนผ่าน (%)"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ft,{className:"w-4 h-4 text-slate-400"}),i.jsx("input",{type:"number",value:s.passing_score,onChange:p=>a(g=>({...g,passing_score:parseInt(p.target.value)||70})),className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white",min:"0",max:"100"})]})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"คำอธิบาย"}),i.jsx("textarea",{value:s.description,onChange:p=>a(g=>({...g,description:p.target.value})),className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white resize-none",rows:2,placeholder:"อธิบายเกี่ยวกับแบบทดสอบนี้"})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"คำแนะนำ"}),i.jsx("textarea",{value:s.instructions,onChange:p=>a(g=>({...g,instructions:p.target.value})),className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white resize-none",rows:3,placeholder:"คำแนะนำสำหรับผู้ทำแบบทดสอบ"})]}),i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("input",{type:"checkbox",id:"show_correct_answers",checked:s.show_correct_answers,onChange:p=>a(g=>({...g,show_correct_answers:p.target.checked})),className:"w-4 h-4"}),i.jsx("label",{htmlFor:"show_correct_answers",className:"text-sm text-slate-300",children:"แสดงเฉลยหลังทำเสร็จ"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("input",{type:"checkbox",id:"randomize_questions",checked:s.randomize_questions,onChange:p=>a(g=>({...g,randomize_questions:p.target.checked})),className:"w-4 h-4"}),i.jsx("label",{htmlFor:"randomize_questions",className:"text-sm text-slate-300",children:"สุ่มลำดับคำถาม"})]})]})]}),i.jsxs("div",{className:"glass-effect p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white",children:["คำถาม (",s.questions.length," ข้อ)"]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[s.questions.length===0&&i.jsx(T,{onClick:b,variant:"outline",size:"sm",children:"โหลดตัวอย่าง"}),i.jsxs(T,{onClick:h,className:"bg-green-500 hover:bg-green-600",children:[i.jsx(Vi,{className:"w-4 h-4 mr-2"}),"เพิ่มคำถาม"]})]})]}),s.questions.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Xt,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-400 mb-4",children:"ยังไม่มีคำถาม"}),i.jsxs(T,{onClick:h,children:[i.jsx(Vi,{className:"w-4 h-4 mr-2"}),"เพิ่มคำถามแรก"]})]}):i.jsx("div",{className:"space-y-3",children:s.questions.map((p,g)=>i.jsx(K3,{question:p,index:g,onEdit:()=>f(p),onDelete:()=>v(p.id),onDuplicate:()=>y(p)},p.id))})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(T,{onClick:d,className:"bg-blue-500 hover:bg-blue-600",children:"บันทึกแบบทดสอบ"})}),i.jsx(Ct,{children:c&&i.jsx(X3,{question:o,onSave:m,onClose:()=>{u(!1),l(null)}})})]})},K3=({question:e,index:t,onEdit:n,onDelete:r,onDuplicate:s})=>{var c;const[a,o]=w.useState(!1),l=u=>({multiple_choice:"เลือกตอบ",multiple_select:"เลือกหลายข้อ",true_false:"ถูก/ผิด",fill_blank:"เติมคำ"})[u]||u;return i.jsx("div",{className:"bg-slate-700/30 rounded-lg border border-slate-600",children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[i.jsxs("span",{className:"text-sm font-medium text-slate-400",children:["#",t+1]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-white font-medium truncate",children:e.question}),i.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[l(e.type)," • ",e.points||1," คะแนน"]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(T,{size:"sm",variant:"ghost",onClick:()=>o(!a),children:a?i.jsx(b_,{className:"w-4 h-4"}):i.jsx(w_,{className:"w-4 h-4"})}),i.jsx(T,{size:"sm",variant:"ghost",onClick:n,children:i.jsx(bs,{className:"w-4 h-4"})}),i.jsx(T,{size:"sm",variant:"ghost",onClick:s,children:i.jsx(Tu,{className:"w-4 h-4"})}),i.jsx(T,{size:"sm",variant:"ghost",onClick:r,className:"text-red-400",children:i.jsx(Lr,{className:"w-4 h-4"})})]})]}),i.jsx(Ct,{children:a&&i.jsxs(A.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mt-4 pt-4 border-t border-slate-600",children:[e.type==="multiple_choice"&&i.jsx("div",{className:"space-y-2",children:(c=e.options)==null?void 0:c.map((u,d)=>i.jsxs("div",{className:`p-2 rounded ${u===e.correct_answer?"bg-green-500/20 text-green-300":"bg-slate-700/50 text-slate-300"}`,children:[u===e.correct_answer&&"✓ ",u]},d))}),e.type==="true_false"&&i.jsxs("div",{className:"text-slate-300",children:["คำตอบที่ถูก: ",i.jsx("span",{className:"text-green-300",children:e.correct_answer?"ถูก":"ผิด"})]}),e.explanation&&i.jsxs("div",{className:"mt-3 p-3 bg-blue-500/10 rounded text-blue-300 text-sm",children:[i.jsx("strong",{children:"คำอธิบาย:"})," ",e.explanation]})]})})]})})},X3=({question:e,onSave:t,onClose:n})=>{const[r,s]=w.useState({id:(e==null?void 0:e.id)||Date.now().toString(),type:(e==null?void 0:e.type)||"multiple_choice",question:(e==null?void 0:e.question)||"",options:(e==null?void 0:e.options)||["","","",""],correct_answer:(e==null?void 0:e.correct_answer)||"",explanation:(e==null?void 0:e.explanation)||"",points:(e==null?void 0:e.points)||1}),a=u=>{if(u.preventDefault(),!r.question.trim()){alert("กรุณาใส่คำถาม");return}if(r.type==="multiple_choice"&&r.options.filter(d=>d.trim()).length<2){alert("ต้องมีตัวเลือกอย่างน้อย 2 ตัวเลือก");return}if(!r.correct_answer){alert("กรุณาระบุคำตอบที่ถูกต้อง");return}t(r)},o=()=>{s(u=>({...u,options:[...u.options,""]}))},l=u=>{s(d=>({...d,options:d.options.filter((h,f)=>f!==u)}))},c=(u,d)=>{s(h=>({...h,options:h.options.map((f,m)=>m===u?d:f)}))};return i.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:n,children:i.jsxs(A.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"glass-effect p-6 rounded-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",onClick:u=>u.stopPropagation(),children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:e!=null&&e.id?"แก้ไขคำถาม":"เพิ่มคำถามใหม่"}),i.jsxs("form",{onSubmit:a,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"ประเภทคำถาม"}),i.jsxs("select",{value:r.type,onChange:u=>s(d=>({...d,type:u.target.value})),className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white",children:[i.jsx("option",{value:"multiple_choice",children:"เลือกตอบ (ตัวเลือกเดียว)"}),i.jsx("option",{value:"multiple_select",children:"เลือกตอบ (หลายตัวเลือก)"}),i.jsx("option",{value:"true_false",children:"ถูก/ผิด"}),i.jsx("option",{value:"fill_blank",children:"เติมคำ"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"คำถาม"}),i.jsx("textarea",{value:r.question,onChange:u=>s(d=>({...d,question:u.target.value})),className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white resize-none",rows:3,placeholder:"ใส่คำถาม",required:!0})]}),r.type==="multiple_choice"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"ตัวเลือก"}),i.jsxs("div",{className:"space-y-2",children:[r.options.map((u,d)=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"radio",name:"correct_answer",checked:r.correct_answer===u,onChange:()=>s(h=>({...h,correct_answer:u})),className:"w-4 h-4"}),i.jsx("input",{type:"text",value:u,onChange:h=>c(d,h.target.value),className:"flex-1 p-3 bg-slate-700 border border-slate-600 rounded-lg text-white",placeholder:`ตัวเลือกที่ ${d+1}`}),r.options.length>2&&i.jsx(T,{type:"button",variant:"ghost",size:"icon",onClick:()=>l(d),children:i.jsx(Lr,{className:"w-4 h-4 text-red-400"})})]},d)),i.jsxs(T,{type:"button",onClick:o,variant:"outline",size:"sm",children:[i.jsx(Vi,{className:"w-4 h-4 mr-2"}),"เพิ่มตัวเลือก"]})]})]}),r.type==="true_false"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"คำตอบที่ถูกต้อง"}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"radio",name:"correct_answer",value:"true",checked:r.correct_answer===!0||r.correct_answer==="true",onChange:()=>s(u=>({...u,correct_answer:!0})),className:"w-4 h-4"}),i.jsx("span",{className:"text-slate-300",children:"ถูก"})]}),i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"radio",name:"correct_answer",value:"false",checked:r.correct_answer===!1||r.correct_answer==="false",onChange:()=>s(u=>({...u,correct_answer:!1})),className:"w-4 h-4"}),i.jsx("span",{className:"text-slate-300",children:"ผิด"})]})]})]}),r.type==="fill_blank"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"คำตอบที่ถูกต้อง"}),i.jsx("input",{type:"text",value:r.correct_answer,onChange:u=>s(d=>({...d,correct_answer:u.target.value})),className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white",placeholder:"คำตอบที่ถูกต้อง"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"คำอธิบาย (ไม่บังคับ)"}),i.jsx("textarea",{value:r.explanation,onChange:u=>s(d=>({...d,explanation:u.target.value})),className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white resize-none",rows:2,placeholder:"อธิบายเหตุผลของคำตอบที่ถูกต้อง"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"คะแนน"}),i.jsx("input",{type:"number",value:r.points,onChange:u=>s(d=>({...d,points:parseInt(u.target.value)||1})),className:"w-32 p-3 bg-slate-700 border border-slate-600 rounded-lg text-white",min:"1"})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx(T,{type:"button",variant:"outline",onClick:n,children:"ยกเลิก"}),i.jsx(T,{type:"submit",className:"bg-blue-500 hover:bg-blue-600",children:"บันทึก"})]})]})]})})},Y3=({contentId:e,initialAssignment:t,onSave:n})=>{const{toast:r}=ae(),[s,a]=w.useState({title:(t==null?void 0:t.title)||"",description:(t==null?void 0:t.description)||"",instructions:(t==null?void 0:t.instructions)||"",due_date:(t==null?void 0:t.due_date)||"",max_file_size:(t==null?void 0:t.max_file_size)||10485760,allowed_file_types:(t==null?void 0:t.allowed_file_types)||["pdf","doc","docx","jpg","png"],max_files:(t==null?void 0:t.max_files)||5,max_score:(t==null?void 0:t.max_score)||100,auto_grade:(t==null?void 0:t.auto_grade)||!1,grading_rubric:(t==null?void 0:t.grading_rubric)||{}}),o=[{value:"pdf",label:"PDF"},{value:"doc",label:"Word (.doc)"},{value:"docx",label:"Word (.docx)"},{value:"txt",label:"Text (.txt)"},{value:"jpg",label:"Image (.jpg)"},{value:"jpeg",label:"Image (.jpeg)"},{value:"png",label:"Image (.png)"},{value:"gif",label:"Image (.gif)"},{value:"zip",label:"ZIP Archive"},{value:"rar",label:"RAR Archive"},{value:"mp4",label:"Video (.mp4)"},{value:"avi",label:"Video (.avi)"},{value:"mov",label:"Video (.mov)"}],l=()=>{if(!s.title.trim()){r({title:"ข้อมูลไม่ครบถ้วน",description:"กรุณาใส่ชื่องานมอบหมาย",variant:"destructive"});return}if(!s.instructions.trim()){r({title:"ข้อมูลไม่ครบถ้วน",description:"กรุณาใส่คำแนะนำงานมอบหมาย",variant:"destructive"});return}if(s.allowed_file_types.length===0){r({title:"ข้อมูลไม่ครบถ้วน",description:"กรุณาเลือกประเภทไฟล์ที่อนุญาตอย่างน้อย 1 ประเภท",variant:"destructive"});return}n(s)},c=h=>{a(f=>({...f,allowed_file_types:f.allowed_file_types.includes(h)?f.allowed_file_types.filter(m=>m!==h):[...f.allowed_file_types,h]}))},u=h=>{if(h===0)return"0 Bytes";const f=1024,m=["Bytes","KB","MB","GB"],v=Math.floor(Math.log(h)/Math.log(f));return parseFloat((h/Math.pow(f,v)).toFixed(2))+" "+m[v]},d=h=>{a(f=>({...f,max_file_size:h*1024*1024}))};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"glass-effect p-4 rounded-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"ข้อมูลพื้นฐาน"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"ชื่องานมอบหมาย *"}),i.jsx("input",{type:"text",value:s.title,onChange:h=>a(f=>({...f,title:h.target.value})),className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white",placeholder:"ชื่องานมอบหมาย",required:!0})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"คำอธิบายโดยย่อ"}),i.jsx("textarea",{value:s.description,onChange:h=>a(f=>({...f,description:h.target.value})),className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white resize-none",rows:2,placeholder:"อธิบายงานมอบหมายนี้โดยย่อ"})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"คำแนะนำและรายละเอียด *"}),i.jsx("textarea",{value:s.instructions,onChange:h=>a(f=>({...f,instructions:h.target.value})),className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white resize-none",rows:6,placeholder:"ใส่คำแนะนำและรายละเอียดงานมอบหมาย เช่น วัตถุประสงค์ ขั้นตอนการทำ เกณฑ์การให้คะแนน ฯลฯ",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"กำหนดส่ง"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ll,{className:"w-4 h-4 text-slate-400"}),i.jsx("input",{type:"datetime-local",value:s.due_date,onChange:h=>a(f=>({...f,due_date:h.target.value})),className:"flex-1 p-3 bg-slate-700 border border-slate-600 rounded-lg text-white"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"คะแนนเต็ม"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ft,{className:"w-4 h-4 text-slate-400"}),i.jsx("input",{type:"number",value:s.max_score,onChange:h=>a(f=>({...f,max_score:parseInt(h.target.value)||100})),className:"flex-1 p-3 bg-slate-700 border border-slate-600 rounded-lg text-white",min:"1"})]})]})]})]}),i.jsxs("div",{className:"glass-effect p-4 rounded-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"การตั้งค่าไฟล์"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"จำนวนไฟล์สูงสุด"}),i.jsx("input",{type:"number",value:s.max_files,onChange:h=>a(f=>({...f,max_files:parseInt(h.target.value)||5})),className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white",min:"1",max:"20"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"ขนาดไฟล์สูงสุด (MB)"}),i.jsxs("select",{value:s.max_file_size/1024/1024,onChange:h=>d(parseInt(h.target.value)),className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white",children:[i.jsx("option",{value:1,children:"1 MB"}),i.jsx("option",{value:5,children:"5 MB"}),i.jsx("option",{value:10,children:"10 MB"}),i.jsx("option",{value:25,children:"25 MB"}),i.jsx("option",{value:50,children:"50 MB"}),i.jsx("option",{value:100,children:"100 MB"})]})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"ประเภทไฟล์ที่อนุญาต *"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:o.map(h=>i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:s.allowed_file_types.includes(h.value),onChange:()=>c(h.value),className:"w-4 h-4 rounded"}),i.jsx("span",{className:"text-sm text-slate-300",children:h.label})]},h.value))}),i.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"เลือกอย่างน้อย 1 ประเภทไฟล์"})]}),i.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-3",children:i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(P_,{className:"w-4 h-4 text-blue-400 mt-0.5"}),i.jsxs("div",{className:"text-sm text-blue-300",children:[i.jsx("p",{children:i.jsx("strong",{children:"สรุปการตั้งค่า:"})}),i.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[i.jsxs("li",{children:["อนุญาตไฟล์สูงสุด: ",s.max_files," ไฟล์"]}),i.jsxs("li",{children:["ขนาดไฟล์สูงสุด: ",u(s.max_file_size)]}),i.jsxs("li",{children:["ประเภทไฟล์: ",s.allowed_file_types.join(", ")]})]})]})]})})]}),i.jsxs("div",{className:"glass-effect p-4 rounded-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"การให้คะแนน"}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("input",{type:"checkbox",id:"auto_grade",checked:s.auto_grade,onChange:h=>a(f=>({...f,auto_grade:h.target.checked})),className:"w-4 h-4"}),i.jsx("label",{htmlFor:"auto_grade",className:"text-sm text-slate-300",children:"ให้คะแนนอัตโนมัติ"})]}),i.jsx("p",{className:"text-xs text-slate-500 mt-1 ml-7",children:"ถ้าเปิดใช้งาน นักเรียนจะได้คะแนนเต็มทันทีที่ส่งงาน"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"เกณฑ์การให้คะแนน"}),i.jsx("textarea",{value:s.grading_rubric.description||"",onChange:h=>a(f=>({...f,grading_rubric:{...f.grading_rubric,description:h.target.value}})),className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white resize-none",rows:4,placeholder:`อธิบายเกณฑ์การให้คะแนน เช่น:
- ความถูกต้องของเนื้อหา (50%)
- ความคิดสร้างสรรค์ (30%)
- การนำเสนอ (20%)`})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs(T,{onClick:l,className:"bg-blue-500 hover:bg-blue-600",children:[i.jsx(re,{className:"w-4 h-4 mr-2"}),"บันทึกงานมอบหมาย"]})}),s.allowed_file_types.length===0&&i.jsxs("div",{className:"flex items-center space-x-2 text-amber-400 text-sm",children:[i.jsx(Xt,{className:"w-4 h-4"}),i.jsx("span",{children:"กรุณาเลือกประเภทไฟล์ที่อนุญาตอย่างน้อย 1 ประเภท"})]})]})},Q3=async()=>{try{console.log("Checking storage setup...");const{data:{user:e},error:t}=await R.auth.getUser();if(t||!e)throw new Error("User must be authenticated to check storage");const{data:n,error:r}=await R.storage.listBuckets();if(r){console.error("List buckets error:",r);const{data:c,error:u}=await R.storage.from("course-files").list("",{limit:1});if(u)throw new Error(`Cannot access storage: ${r.message}. Direct test also failed: ${u.message}`);console.log("Bucket exists but listBuckets() failed. Using direct access method.")}else if(console.log("Available buckets:",n),!n.find(u=>u.name==="course-files"))return console.error("course-files bucket not found in list"),{success:!1,error:'Storage bucket "course-files" not found in bucket list. Please check bucket permissions.',details:{buckets:n.map(u=>u.name),missingBucket:"course-files"}};const s=new Blob(["test"],{type:"text/plain"}),a=`test/${Date.now()}_test.txt`,{data:o,error:l}=await R.storage.from("course-files").upload(a,s,{upsert:!0});if(l)return console.error("Upload test failed:",l),{success:!1,error:`Cannot upload to storage: ${l.message}`,details:l};try{await R.storage.from("course-files").remove([a])}catch(c){console.warn("Failed to cleanup test file:",c)}return console.log("Storage setup check passed"),{success:!0,message:"Storage is properly configured"}}catch(e){return console.error("Storage setup check failed:",e),{success:!1,error:e.message,details:e}}},J3=async()=>{try{console.log("Checking database schema...");const{data:e,error:t}=await R.from("content_attachments").select("id").limit(1);return t?t.code==="42P01"?{success:!1,error:'Table "content_attachments" does not exist. Please run the database schema setup.',sqlFile:"content-attachments-schema.sql"}:{success:!1,error:`Database error: ${t.message}`,details:t}:(console.log("Database schema check passed"),{success:!0,message:"Database schema is properly configured"})}catch(e){return console.error("Database schema check failed:",e),{success:!1,error:e.message,details:e}}},Z3=async()=>{console.log("Running comprehensive system check...");const e={storage:await Q3(),database:await J3()},t=Object.values(e).every(n=>n.success);return{success:t,results:e,summary:t?"All systems are properly configured":"Some systems need configuration"}},e5=({onClose:e})=>{const{toast:t}=ae(),[n,r]=w.useState(!1),[s,a]=w.useState(null),o=async()=>{r(!0);try{const d=await Z3();a(d),d.success&&t({title:"ระบบพร้อมใช้งาน ✅",description:"ทุกอย่างถูกตั้งค่าเรียบร้อยแล้ว"})}catch(d){t({title:"เกิดข้อผิดพลาดในการตรวจสอบ",description:d.message,variant:"destructive"})}finally{r(!1)}},l=d=>{navigator.clipboard.writeText(d),t({title:"คัดลอกแล้ว",description:"ข้อความได้ถูกคัดลอกไปยังคลิปบอร์ด"})},c=d=>d?i.jsx(Ls,{className:"w-5 h-5 text-green-400"}):i.jsx(Ou,{className:"w-5 h-5 text-red-400"}),u=`-- Run this SQL in Supabase SQL Editor
-- ==========================================
-- CONTENT ATTACHMENTS SCHEMA
-- ระบบไฟล์แนบสำหรับเนื้อหาทุกประเภท (เหมือน Google Classroom)
-- ==========================================

-- สร้างตาราง content_attachments สำหรับเก็บไฟล์แนบของเนื้อหา
CREATE TABLE IF NOT EXISTS content_attachments (
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    content_id UUID NOT NULL REFERENCES course_content(id) ON DELETE CASCADE,
    file_name VARCHAR(255) NOT NULL,
    file_path TEXT NOT NULL,
    file_size BIGINT NOT NULL,
    file_type VARCHAR(50) NOT NULL,
    mime_type VARCHAR(100),
    upload_order INTEGER DEFAULT 1,
    is_downloadable BOOLEAN DEFAULT true,
    is_preview_available BOOLEAN DEFAULT false,
    uploaded_by UUID REFERENCES auth.users(id),
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- สร้าง indexes สำหรับ performance
CREATE INDEX IF NOT EXISTS idx_content_attachments_content_id ON content_attachments(content_id);
CREATE INDEX IF NOT EXISTS idx_content_attachments_upload_order ON content_attachments(content_id, upload_order);
CREATE INDEX IF NOT EXISTS idx_content_attachments_file_type ON content_attachments(file_type);

-- เพิ่ม RLS (Row Level Security)
ALTER TABLE content_attachments ENABLE ROW LEVEL SECURITY;

-- Policy: ให้ทุกคนดู attachments ได้ (สำหรับนักเรียน)
CREATE POLICY "Anyone can view content attachments" ON content_attachments
FOR SELECT USING (true);

-- Policy: ให้ admin/instructor เพิ่ม/แก้ไข/ลบ attachments ได้
CREATE POLICY "Instructors can manage attachments" ON content_attachments
FOR ALL USING (
    auth.uid() IN (
        SELECT user_id FROM user_profiles 
        WHERE role IN ('admin', 'instructor')
    )
);

-- เพิ่ม function trigger สำหรับ updated_at
CREATE OR REPLACE FUNCTION update_content_attachments_updated_at()
RETURNS TRIGGER AS $$
BEGIN
    NEW.updated_at = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trigger_update_content_attachments_updated_at
    BEFORE UPDATE ON content_attachments
    FOR EACH ROW
    EXECUTE FUNCTION update_content_attachments_updated_at();`;return i.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:e,children:i.jsxs(A.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"glass-effect rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:d=>d.stopPropagation(),children:[i.jsx("div",{className:"p-6 border-b border-white/10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(uh,{className:"w-6 h-6 text-blue-400"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"ตรวจสอบระบบไฟล์แนบ"}),i.jsx("p",{className:"text-slate-400 text-sm",children:"ตรวจสอบการตั้งค่า Storage และ Database"})]})]}),i.jsxs(T,{onClick:o,disabled:n,className:"bg-blue-500 hover:bg-blue-600",children:[i.jsx(M_,{className:`w-4 h-4 mr-2 ${n?"animate-spin":""}`}),n?"กำลังตรวจสอบ...":"ตรวจสอบระบบ"]})]})}),i.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[!s&&!n&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ws,{className:"w-16 h-16 text-yellow-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"ตรวจสอบระบบก่อนใช้งาน"}),i.jsx("p",{className:"text-slate-400 mb-6",children:'กดปุ่ม "ตรวจสอบระบบ" เพื่อดูว่าระบบไฟล์แนบพร้อมใช้งานหรือไม่'})]}),n&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),i.jsx("p",{className:"text-white/70",children:"กำลังตรวจสอบระบบ..."})]}),s&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:`p-4 rounded-lg border ${s.success?"bg-green-500/20 border-green-500/30":"bg-red-500/20 border-red-500/30"}`,children:i.jsxs("div",{className:"flex items-center space-x-3",children:[c(s.success),i.jsxs("div",{children:[i.jsx("h3",{className:`font-semibold ${s.success?"text-green-300":"text-red-300"}`,children:s.summary}),s.success&&i.jsx("p",{className:"text-green-200 text-sm",children:"ระบบไฟล์แนบพร้อมใช้งานแล้ว"})]})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h4",{className:"text-lg font-semibold text-white flex items-center",children:[i.jsx(C_,{className:"w-5 h-5 mr-2"}),"Supabase Storage"]}),i.jsx("div",{className:`p-4 rounded-lg border ${s.results.storage.success?"bg-green-500/10 border-green-500/30":"bg-red-500/10 border-red-500/30"}`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[c(s.results.storage.success),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:`font-medium ${s.results.storage.success?"text-green-300":"text-red-300"}`,children:s.results.storage.success?"Storage พร้อมใช้งาน":"Storage ยังไม่พร้อม"}),s.results.storage.error&&i.jsx("p",{className:"text-red-200 text-sm mt-1",children:s.results.storage.error}),!s.results.storage.success&&i.jsxs("div",{className:"mt-3 space-y-3",children:[i.jsxs("div",{className:"p-3 bg-slate-700/50 rounded text-sm",children:[i.jsx("p",{className:"text-slate-300 mb-2",children:"🔧 วิธีแก้ไขแบบง่าย:"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"text-xs text-slate-400",children:[i.jsx("strong",{children:"ขั้นตอนที่ 1:"})," รัน Storage Policies SQL"]}),i.jsx("div",{className:"bg-slate-800 p-2 rounded text-xs",children:i.jsx("pre",{className:"text-slate-300 whitespace-pre-wrap",children:`-- รัน SQL นี้ใน Supabase SQL Editor
CREATE POLICY "Anyone can view course files" ON storage.objects
FOR SELECT USING (bucket_id = 'course-files');

CREATE POLICY "Authenticated users can upload course files" ON storage.objects  
FOR INSERT WITH CHECK (bucket_id = 'course-files' AND auth.uid() IS NOT NULL);

CREATE POLICY IF NOT EXISTS "Anyone can view buckets" ON storage.buckets
FOR SELECT USING (true);`})}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(T,{size:"sm",variant:"outline",onClick:()=>l(`-- รัน SQL นี้ใน Supabase SQL Editor
CREATE POLICY "Anyone can view course files" ON storage.objects
FOR SELECT USING (bucket_id = 'course-files');

CREATE POLICY "Authenticated users can upload course files" ON storage.objects  
FOR INSERT WITH CHECK (bucket_id = 'course-files' AND auth.uid() IS NOT NULL);

CREATE POLICY IF NOT EXISTS "Anyone can view buckets" ON storage.buckets
FOR SELECT USING (true);`),children:[i.jsx(Tu,{className:"w-3 h-3 mr-1"}),"คัดลอก SQL"]}),i.jsxs(T,{size:"sm",variant:"outline",onClick:()=>window.open("https://supabase.com/dashboard","_blank"),children:[i.jsx(Pu,{className:"w-3 h-3 mr-1"}),"เปิด SQL Editor"]})]})]})]}),i.jsxs("div",{className:"p-3 bg-blue-500/10 border border-blue-500/20 rounded text-sm",children:[i.jsx("p",{className:"text-blue-300 mb-2",children:"📋 ขั้นตอนที่ 2: ตรวจสอบ Bucket Settings"}),i.jsxs("ol",{className:"text-blue-200 text-xs space-y-1 ml-4",children:[i.jsx("li",{children:"1. ไปที่ Storage → course-files → Settings"}),i.jsx("li",{children:"2. ✅ Public bucket = true"}),i.jsx("li",{children:"3. ✅ File size limit = 50MB+"}),i.jsx("li",{children:"4. ✅ Allowed MIME types = ทุกประเภท"})]})]}),i.jsxs("div",{className:"p-3 bg-yellow-500/10 border border-yellow-500/20 rounded text-sm",children:[i.jsx("p",{className:"text-yellow-300 mb-2",children:"⚠️ หากยังไม่ได้:"}),i.jsxs("div",{className:"text-yellow-200 text-xs space-y-1",children:[i.jsx("div",{children:"• ลบ bucket เก่าและสร้างใหม่"}),i.jsx("div",{children:"• ตรวจสอบ user permissions"}),i.jsx("div",{children:"• ดูไฟล์ STORAGE_TROUBLESHOOTING.md"})]})]})]})]})]})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h4",{className:"text-lg font-semibold text-white flex items-center",children:[i.jsx(j_,{className:"w-5 h-5 mr-2"}),"Database Schema"]}),i.jsx("div",{className:`p-4 rounded-lg border ${s.results.database.success?"bg-green-500/10 border-green-500/30":"bg-red-500/10 border-red-500/30"}`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[c(s.results.database.success),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:`font-medium ${s.results.database.success?"text-green-300":"text-red-300"}`,children:s.results.database.success?"Database Schema พร้อมใช้งาน":"ต้องติดตั้ง Database Schema"}),s.results.database.error&&i.jsx("p",{className:"text-red-200 text-sm mt-1",children:s.results.database.error}),!s.results.database.success&&i.jsxs("div",{className:"mt-3 space-y-3",children:[i.jsx("p",{className:"text-slate-300 text-sm",children:"รัน SQL นี้ใน Supabase SQL Editor:"}),i.jsxs("div",{className:"relative",children:[i.jsx("pre",{className:"bg-slate-800 p-3 rounded text-xs text-slate-300 overflow-x-auto max-h-40",children:u}),i.jsx(T,{size:"sm",variant:"outline",className:"absolute top-2 right-2",onClick:()=>l(u),children:i.jsx(Tu,{className:"w-3 h-3"})})]}),i.jsx("div",{className:"flex space-x-2",children:i.jsxs(T,{size:"sm",variant:"outline",onClick:()=>window.open("https://supabase.com/dashboard","_blank"),children:[i.jsx(Pu,{className:"w-3 h-3 mr-1"}),"เปิด SQL Editor"]})})]})]})]})})]})]})]}),i.jsx("div",{className:"p-6 border-t border-white/10",children:i.jsx("div",{className:"flex justify-end",children:i.jsx(T,{variant:"outline",onClick:e,children:"ปิด"})})})]})})},t5=({contentId:e,existingFiles:t=[],onFilesChange:n,maxFiles:r=10,maxFileSize:s=50*1024*1024,allowedTypes:a=["pdf","doc","docx","ppt","pptx","xls","xlsx","jpg","jpeg","png","gif","mp4","mp3","zip","rar","txt"],uploadMode:o="admin",className:l=""})=>{const{toast:c}=ae(),u=w.useRef(null),[d,h]=w.useState(t),[f,m]=w.useState(!1),[v,y]=w.useState(!1),[b,p]=w.useState(!1),g=k=>{const L=k==null?void 0:k.toLowerCase();return["jpg","jpeg","png","gif","webp","svg"].includes(L)?i.jsx(oh,{className:"w-5 h-5 text-blue-500"}):["mp4","avi","mov","wmv","flv"].includes(L)?i.jsx(wv,{className:"w-5 h-5 text-purple-500"}):["zip","rar","7z","tar","gz"].includes(L)?i.jsx(hv,{className:"w-5 h-5 text-orange-500"}):["pdf"].includes(L)?i.jsx(re,{className:"w-5 h-5 text-red-500"}):["doc","docx"].includes(L)?i.jsx(re,{className:"w-5 h-5 text-blue-600"}):["ppt","pptx"].includes(L)?i.jsx(re,{className:"w-5 h-5 text-orange-600"}):["xls","xlsx"].includes(L)?i.jsx(re,{className:"w-5 h-5 text-green-600"}):i.jsx(ah,{className:"w-5 h-5 text-slate-500"})},x=k=>{if(k===0)return"0 Bytes";const L=1024,$=["Bytes","KB","MB","GB"],H=Math.floor(Math.log(k)/Math.log(L));return parseFloat((k/Math.pow(L,H)).toFixed(2))+" "+$[H]},j=k=>{var H;const L=[];k.size>s&&L.push(`ไฟล์ ${k.name} มีขนาดใหญ่เกินกำหนด (${x(s)})`);const $=(H=k.name.split(".").pop())==null?void 0:H.toLowerCase();return a.includes($)||L.push(`ไฟล์ ${k.name} ไม่ใช่ประเภทที่อนุญาต`),{isValid:L.length===0,errors:L}},N=k=>{if(!k||k.length===0)return;const L=Array.from(k);if(d.length+L.length>r){c({title:"จำนวนไฟล์เกินกำหนด",description:`สามารถอัปโหลดได้สูงสุด ${r} ไฟล์`,variant:"destructive"});return}const $=[],H=[];if(L.forEach(E=>{var P;const U=j(E);if(U.isValid){const O=`file_${Date.now()}_${Math.floor(Math.random()*1e3)}`;$.push({id:O,file:E,name:E.name,size:E.size,type:(P=E.name.split(".").pop())==null?void 0:P.toLowerCase(),mimeType:E.type,isUploading:!1,isUploaded:!1,progress:0,url:null,path:null})}else H.push(...U.errors)}),H.length>0&&c({title:"ไฟล์บางไฟล์ไม่ถูกต้อง",description:H.join(`
`),variant:"destructive"}),$.length>0){const E=[...d,...$];h(E),n==null||n(E)}},S=k=>{k.preventDefault(),y(!1),N(k.dataTransfer.files)},_=k=>{k.preventDefault(),k.stopPropagation(),k.type==="dragenter"||k.type==="dragover"?y(!0):k.type==="dragleave"&&y(!1)},C=k=>{const L=d.filter($=>$.id!==k);h(L),n==null||n(L)},D=async(k,L=1)=>{var $;h(H=>H.map(E=>E.id===k.id?{...E,isUploading:!0,progress:0}:E));try{const H=setInterval(()=>{h(P=>P.map(O=>O.id===k.id?{...O,progress:Math.min(O.progress+10,90)}:O))},200),{data:E,error:U}=await ZP(k.file,e,L);if(clearInterval(H),U)throw U;return h(P=>P.map(O=>O.id===k.id?{...O,isUploading:!1,isUploaded:!0,progress:100,url:E.url,path:E.file_path,attachmentId:E.id}:O)),{success:!0,data:E}}catch(H){console.error("Upload error details:",H);const E=(($=H==null?void 0:H.error)==null?void 0:$.message)||(H==null?void 0:H.message)||"ไม่สามารถอัปโหลดไฟล์ได้";throw h(U=>U.map(P=>P.id===k.id?{...P,isUploading:!1,isUploaded:!1,progress:0,error:E}:P)),c({title:"ไม่สามารถอัปโหลดไฟล์ได้",description:`${E}

คลิก "ตรวจสอบระบบ" หากต้องการความช่วยเหลือ`,variant:"destructive",action:i.jsx(T,{size:"sm",onClick:()=>p(!0),children:"ตรวจสอบระบบ"})}),H}},V=async()=>{if(!e){c({title:"ไม่สามารถอัปโหลดได้",description:"กรุณาบันทึกเนื้อหาก่อนเพื่อให้ได้ Content ID",variant:"destructive"});return}m(!0);const k=d.filter(L=>!L.isUploaded&&!L.isUploading);if(k.length===0){c({title:"ไม่มีไฟล์ที่ต้องอัปโหลด",description:"ไฟล์ทั้งหมดถูกอัปโหลดแล้ว"}),m(!1);return}try{const L=await Promise.allSettled(k.map((E,U)=>D(E,U+1))),$=L.filter(E=>E.status==="fulfilled").length,H=L.filter(E=>E.status==="rejected").length;$>0&&H===0?c({title:"อัปโหลดสำเร็จ ✅",description:`อัปโหลดไฟล์ ${$} ไฟล์เสร็จสิ้น`}):$>0&&H>0?c({title:"อัปโหลดเสร็จบางส่วน",description:`สำเร็จ ${$} ไฟล์, ล้มเหลว ${H} ไฟล์`,variant:"destructive"}):c({title:"อัปโหลดล้มเหลว",description:"ไม่สามารถอัปโหลดไฟล์ใดๆ ได้",variant:"destructive"}),n==null||n(d)}catch{c({title:"เกิดข้อผิดพลาด",description:"ไม่สามารถอัปโหลดไฟล์ได้",variant:"destructive"})}finally{m(!1)}},K=k=>{if(k.url){const L=document.createElement("a");L.href=k.url,L.download=k.name,document.body.appendChild(L),L.click(),document.body.removeChild(L)}},B=d.filter(k=>!k.isUploaded),z=d.filter(k=>k.isUploaded);return i.jsxs("div",{className:`space-y-4 ${l}`,children:[i.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-6 transition-colors ${v?"border-blue-500 bg-blue-500/10":"border-slate-600 hover:border-slate-500"}`,onDragEnter:_,onDragLeave:_,onDragOver:_,onDrop:S,children:[i.jsx("input",{ref:u,type:"file",multiple:!0,accept:a.map(k=>`.${k}`).join(","),onChange:k=>N(k.target.files),className:"hidden"}),i.jsxs("div",{className:"text-center",children:[i.jsx(Ru,{className:"w-8 h-8 text-slate-400 mx-auto mb-3"}),i.jsxs("p",{className:"text-slate-300 mb-2",children:["ลากไฟล์มาวางที่นี่ หรือ"," ",i.jsx("button",{type:"button",onClick:()=>{var k;return(k=u.current)==null?void 0:k.click()},className:"text-blue-400 hover:text-blue-300 underline",children:"เลือกไฟล์"})]}),i.jsxs("p",{className:"text-xs text-slate-500",children:["ไฟล์ที่รองรับ: ",a.join(", ")," | ขนาดสูงสุด: ",x(s)," | จำนวนสูงสุด: ",r," ไฟล์"]})]})]}),d.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h4",{className:"text-sm font-medium text-slate-300",children:["ไฟล์ที่เลือก (",d.length,"/",r,")"]}),B.length>0&&i.jsx(T,{size:"sm",onClick:V,disabled:f,className:"bg-blue-500 hover:bg-blue-600",children:f?i.jsxs(i.Fragment,{children:[i.jsx(Co,{className:"w-4 h-4 mr-2 animate-spin"}),"กำลังอัปโหลด..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ru,{className:"w-4 h-4 mr-2"}),"อัปโหลดทั้งหมด"]})})]}),i.jsx("div",{className:"grid gap-2",children:i.jsx(Ct,{children:d.map(k=>i.jsxs(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center space-x-3 p-3 bg-slate-700/30 rounded-lg border border-slate-600",children:[i.jsx("div",{className:"flex-shrink-0",children:g(k.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("p",{className:"text-sm font-medium text-white truncate",children:k.name}),k.isUploaded&&i.jsx(Ls,{className:"w-4 h-4 text-green-400"})]}),i.jsx("p",{className:"text-xs text-slate-400",children:x(k.size)}),k.isUploading&&i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"w-full bg-slate-600 rounded-full h-1",children:i.jsx("div",{className:"bg-blue-500 h-1 rounded-full transition-all duration-300",style:{width:`${k.progress}%`}})}),i.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[k.progress,"%"]})]}),k.error&&i.jsx("div",{className:"mt-2 p-2 bg-red-500/20 border border-red-500/30 rounded text-xs",children:i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(Xt,{className:"w-3 h-3 text-red-400 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-red-400",children:k.error}),i.jsx(T,{size:"sm",variant:"ghost",className:"text-red-300 hover:text-red-200 h-auto p-0 mt-1 text-xs",onClick:()=>p(!0),children:"ตรวจสอบระบบ →"})]})]})})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[k.isUploaded&&i.jsxs(i.Fragment,{children:[i.jsx(T,{size:"sm",variant:"ghost",onClick:()=>K(k),title:"ดาวน์โหลด",children:i.jsx(fn,{className:"w-4 h-4"})}),k.type&&["jpg","jpeg","png","gif","pdf"].includes(k.type)&&i.jsx(T,{size:"sm",variant:"ghost",title:"ดูตัวอย่าง",children:i.jsx(qn,{className:"w-4 h-4"})})]}),i.jsx(T,{size:"sm",variant:"ghost",onClick:()=>C(k.id),className:"text-red-400 hover:text-red-300",title:"ลบ",children:i.jsx(Lr,{className:"w-4 h-4"})})]})]},k.id))})})]}),d.length>0&&i.jsxs("div",{className:"text-xs text-slate-500 text-center",children:[z.length>0&&i.jsxs("span",{className:"text-green-400",children:["อัปโหลดแล้ว ",z.length," ไฟล์"]}),B.length>0&&z.length>0&&i.jsx("span",{className:"mx-2",children:"•"}),B.length>0&&i.jsxs("span",{className:"text-yellow-400",children:["รออัปโหลด ",B.length," ไฟล์"]})]}),b&&i.jsx(e5,{onClose:()=>p(!1)})]})},n5=({mode:e,content:t,onSave:n,onClose:r})=>{const{toast:s}=ae(),[a,o]=w.useState({title:(t==null?void 0:t.title)||"",description:(t==null?void 0:t.description)||"",content_type:(t==null?void 0:t.content_type)||"video",content_url:(t==null?void 0:t.content_url)||"",duration_minutes:(t==null?void 0:t.duration_minutes)||0,is_free:(t==null?void 0:t.is_free)||!1}),[l,c]=w.useState("basic"),[u,d]=w.useState(""),[h,f]=w.useState(!1),[m,v]=w.useState(!1);w.useEffect(()=>{var j,N;if(a.content_url&&a.content_type==="video"){let S=a.content_url;S.includes("youtube.com/watch")?S=`https://www.youtube.com/embed/${(j=S.split("v=")[1])==null?void 0:j.split("&")[0]}`:S.includes("youtu.be/")&&(S=`https://www.youtube.com/embed/${(N=S.split("youtu.be/")[1])==null?void 0:N.split("?")[0]}`),d(S)}},[a.content_url,a.content_type]);const y=j=>{j.preventDefault();const N=W3(a);if(!N.isValid){s({title:"ข้อมูลไม่ถูกต้อง",description:N.errors.join(`
`),variant:"destructive"});return}n(a)},b=j=>{o(N=>({...N,...j}))},p=()=>i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"ประเภทเนื้อหา"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[{value:"video",label:"วิดีโอ",icon:lh,color:"blue"},{value:"quiz",label:"แบบทดสอบ",icon:dl,color:"yellow"},{value:"assignment",label:"งานมอบหมาย",icon:re,color:"purple"},{value:"document",label:"เอกสาร",icon:We,color:"green"}].map(j=>{const N=j.icon,S=a.content_type===j.value;return i.jsxs("button",{type:"button",onClick:()=>o(_=>({..._,content_type:j.value})),className:`p-3 rounded-lg border-2 transition-all ${S?`border-${j.color}-500 bg-${j.color}-500/20`:"border-slate-600 hover:border-slate-500"}`,children:[i.jsx(N,{className:`w-5 h-5 mx-auto mb-1 ${S?`text-${j.color}-400`:"text-slate-400"}`}),i.jsx("div",{className:"text-xs text-slate-300",children:j.label})]},j.value)})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"ชื่อเนื้อหา *"}),i.jsx("input",{type:"text",value:a.title,onChange:j=>o(N=>({...N,title:j.target.value})),className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:border-blue-500 focus:outline-none",placeholder:"ใส่ชื่อเนื้อหา",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"คำอธิบาย"}),i.jsx("textarea",{value:a.description,onChange:j=>o(N=>({...N,description:j.target.value})),className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:border-blue-500 focus:outline-none resize-none",rows:3,placeholder:"อธิบายเนื้อหานี้"})]}),(a.content_type==="video"||a.content_type==="document")&&i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["URL เนื้อหา *",a.content_type==="video"&&i.jsx("span",{className:"text-xs text-slate-500 ml-2",children:"(รองรับ YouTube URL)"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("input",{type:"url",value:a.content_url,onChange:j=>o(N=>({...N,content_url:j.target.value})),className:"flex-1 p-3 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:border-blue-500 focus:outline-none",placeholder:a.content_type==="video"?"https://youtube.com/watch?v=... หรือ https://youtu.be/...":"https://..."}),a.content_type==="video"&&a.content_url&&i.jsx(T,{type:"button",variant:"outline",onClick:()=>f(!h),children:h?i.jsx(N_,{className:"w-4 h-4"}):i.jsx(qn,{className:"w-4 h-4"})})]}),a.content_type==="video"&&h&&u&&i.jsx("div",{className:"mt-3",children:i.jsx("div",{className:"aspect-video bg-slate-800 rounded-lg overflow-hidden",children:i.jsx("iframe",{src:u,className:"w-full h-full",allowFullScreen:!0,title:"Video Preview"})})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"ระยะเวลา (นาที)"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(vn,{className:"w-4 h-4 text-slate-400"}),i.jsx("input",{type:"number",value:a.duration_minutes,onChange:j=>o(N=>({...N,duration_minutes:parseInt(j.target.value)||0})),className:"w-32 p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-blue-500 focus:outline-none",min:"0"}),i.jsx("span",{className:"text-sm text-slate-400",children:"นาที"})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("input",{type:"checkbox",id:"is_free",checked:a.is_free,onChange:j=>o(N=>({...N,is_free:j.target.checked})),className:"w-4 h-4 text-blue-500 rounded"}),i.jsx("label",{htmlFor:"is_free",className:"text-sm text-slate-300",children:"เนื้อหาฟรี (เข้าถึงได้โดยไม่ต้องลงทะเบียน)"})]})]}),g=()=>e==="create"?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(re,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-400 mb-2",children:"บันทึกเนื้อหาก่อนเพื่อเพิ่มไฟล์แนบ"}),i.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"ไฟล์แนบจะใช้ได้หลังจากสร้างเนื้อหาเรียบร้อยแล้ว"}),i.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4 max-w-md mx-auto",children:[i.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"💡 วิธีการใช้งาน"}),i.jsxs("ol",{className:"text-blue-200 text-sm space-y-1 text-left",children:[i.jsx("li",{children:'1. กรอกข้อมูลในแท็บ "ข้อมูลพื้นฐาน"'}),i.jsx("li",{children:'2. คลิก "บันทึก" เพื่อสร้างเนื้อหา'}),i.jsx("li",{children:"3. กลับมาแก้ไขเนื้อหาอีกครั้ง"}),i.jsx("li",{children:'4. คลิกแท็บ "ไฟล์แนบ" เพื่ออัปโหลดไฟล์'})]})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"glass-effect p-4 rounded-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"ไฟล์แนบ"}),i.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"เพิ่มไฟล์แนบเพื่อให้นักเรียนดาวน์โหลด เช่น เอกสารประกอบ แบบฝึกหัด หรือทรัพยากรการเรียนรู้"}),i.jsx(Ct,{children:m&&i.jsxs(A.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-6",children:[i.jsx(t5,{contentId:t==null?void 0:t.id,onFilesChange:j=>{console.log("Files changed:",j)},uploadMode:"admin",maxFiles:10,maxFileSize:50*1024*1024}),i.jsx("div",{className:"flex justify-end space-x-2 mt-4",children:i.jsx(T,{type:"button",variant:"outline",onClick:()=>v(!1),children:"ยกเลิก"})})]})}),i.jsx(Vh,{contentId:t==null?void 0:t.id,showUploadButton:!m,onUploadClick:()=>v(!0)})]}),i.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:[i.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"💡 คำแนะนำสำหรับไฟล์แนบ"}),i.jsxs("ul",{className:"text-blue-200 text-sm space-y-1",children:[i.jsx("li",{children:"• ไฟล์ PDF, Word, PowerPoint จะแสดงตัวอย่างได้"}),i.jsx("li",{children:"• รูปภาพจะแสดงตัวอย่างแบบเต็มหน้าจอ"}),i.jsx("li",{children:"• ชื่อไฟล์ควรมีความหมายและเข้าใจง่าย"}),i.jsx("li",{children:"• ขนาดไฟล์สูงสุด 50MB ต่อไฟล์"}),i.jsx("li",{children:"• นักเรียนสามารถดาวน์โหลดไฟล์ได้ทั้งหมด"})]})]})]}),x=()=>{switch(a.content_type){case"quiz":return i.jsx(q3,{contentId:t==null?void 0:t.id,onSave:j=>{console.log("Quiz data:",j)}});case"assignment":return i.jsx(Y3,{contentId:t==null?void 0:t.id,onSave:j=>{console.log("Assignment data:",j)}});default:return i.jsxs("div",{className:"text-center py-8",children:[i.jsx(re,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-400",children:"ไม่มีการตั้งค่าเพิ่มเติมสำหรับประเภทเนื้อหานี้"})]})}};return i.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:r,children:i.jsxs(A.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"glass-effect rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:j=>j.stopPropagation(),children:[i.jsxs("div",{className:"p-6 border-b border-white/10",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:e==="create"?"เพิ่มเนื้อหาใหม่":"แก้ไขเนื้อหา"}),i.jsx(T,{variant:"ghost",size:"icon",onClick:r,children:i.jsx(ea,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex space-x-4 mt-4",children:[i.jsx("button",{type:"button",onClick:()=>c("basic"),className:`px-4 py-2 rounded-lg text-sm transition-colors ${l==="basic"?"bg-blue-500/20 text-blue-300":"text-slate-400 hover:text-slate-300"}`,children:"ข้อมูลพื้นฐาน"}),i.jsx("button",{type:"button",onClick:()=>c("attachments"),className:`px-4 py-2 rounded-lg text-sm transition-colors ${l==="attachments"?"bg-blue-500/20 text-blue-300":"text-slate-400 hover:text-slate-300"}`,children:"ไฟล์แนบ"}),(a.content_type==="quiz"||a.content_type==="assignment")&&i.jsx("button",{type:"button",onClick:()=>c("advanced"),className:`px-4 py-2 rounded-lg text-sm transition-colors ${l==="advanced"?"bg-blue-500/20 text-blue-300":"text-slate-400 hover:text-slate-300"}`,children:"การตั้งค่าเพิ่มเติม"})]})]}),i.jsxs("form",{onSubmit:y,className:"flex flex-col h-full",children:[i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i.jsx(Ct,{mode:"wait",children:i.jsxs(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[l==="basic"&&p(),l==="attachments"&&g(),l==="advanced"&&x()]},l)})}),l==="basic"&&i.jsxs("div",{className:"p-6 border-t border-white/10",children:[e==="create"&&i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-sm text-slate-400 mb-2",children:"เทมเพลตเนื้อหา:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:G3().map((j,N)=>i.jsx("button",{type:"button",onClick:()=>b(j),className:"px-3 py-1 text-xs bg-slate-700 hover:bg-slate-600 text-slate-300 rounded-full transition-colors",children:j.name},N))})]}),i.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[i.jsx(T,{type:"button",variant:"outline",onClick:r,children:"ยกเลิก"}),i.jsxs(T,{type:"submit",className:"bg-blue-500 hover:bg-blue-600",children:[i.jsx(ch,{className:"w-4 h-4 mr-2"}),"บันทึก"]})]})]})]})]})})},r5=()=>{const{courseId:e}=al(),{user:t,isAdmin:n}=qe(),{toast:r}=ae(),[s,a]=w.useState(null),[o,l]=w.useState([]),[c,u]=w.useState(!0),[d,h]=w.useState(!1),[f,m]=w.useState(null),[v,y]=w.useState("create");w.useState(null),w.useEffect(()=>{n&&b()},[e,n]);const b=async()=>{u(!0);try{const{data:_,error:C}=await Uh(e);if(C)throw C;a(_);const{data:D,error:V}=await V3(e);if(V)throw V;l(D||[])}catch(_){console.error("Error loading course data:",_),r({title:"ไม่สามารถโหลดข้อมูลได้",description:_.message,variant:"destructive"})}finally{u(!1)}},p=()=>{m(null),y("create"),h(!0)},g=_=>{m(_),y("edit"),h(!0)},x=async _=>{if(confirm("คุณแน่ใจหรือไม่ที่จะลบเนื้อหานี้?"))try{const{error:C}=await H3(_);if(C)throw C;r({title:"ลบเนื้อหาสำเร็จ",description:"เนื้อหาได้ถูกลบออกจากระบบแล้ว"}),b()}catch(C){console.error("Error deleting content:",C),r({title:"ไม่สามารถลบเนื้อหาได้",description:C.message,variant:"destructive"})}},j=async _=>{try{let C;if(v==="create"?C=await z3({..._,course_id:e,order_index:o.length+1}):C=await B3(f.id,_),C.error)throw C.error;r({title:v==="create"?"สร้างเนื้อหาสำเร็จ":"อัปเดตเนื้อหาสำเร็จ",description:"เนื้อหาได้รับการบันทึกแล้ว"}),h(!1),b()}catch(C){console.error("Error saving content:",C),r({title:"ไม่สามารถบันทึกได้",description:C.message,variant:"destructive"})}},N=_=>{switch(_){case"video":return i.jsx(lh,{className:"w-5 h-5 text-blue-500"});case"quiz":return i.jsx(dl,{className:"w-5 h-5 text-yellow-500"});case"assignment":return i.jsx(re,{className:"w-5 h-5 text-purple-500"});case"document":return i.jsx(re,{className:"w-5 h-5 text-green-500"});default:return i.jsx(re,{className:"w-5 h-5 text-gray-500"})}},S=_=>({video:"วิดีโอ",quiz:"แบบทดสอบ",assignment:"งานมอบหมาย",document:"เอกสาร",text:"ข้อความ"})[_]||_;return n?c?i.jsx("div",{className:"container mx-auto px-4 py-12",children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),i.jsx("p",{className:"text-white/70",children:"กำลังโหลดข้อมูลเนื้อหา..."})]})}):i.jsxs("div",{className:"container mx-auto px-4 py-12",children:[i.jsx(Ce,{children:i.jsxs("title",{children:["จัดการเนื้อหาคอร์ส - ",s==null?void 0:s.title," | Admin"]})}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[i.jsx(te,{to:"/admin/courses",children:i.jsx(T,{variant:"ghost",size:"icon",children:i.jsx(Zi,{className:"w-5 h-5"})})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-white",children:"จัดการเนื้อหาคอร์ส"}),i.jsx("p",{className:"text-slate-400",children:s==null?void 0:s.title})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-sm text-slate-400",children:["เนื้อหาทั้งหมด: ",o.length," รายการ"]}),i.jsxs(T,{onClick:p,className:"bg-blue-500 hover:bg-blue-600",children:[i.jsx(Vi,{className:"w-4 h-4 mr-2"}),"เพิ่มเนื้อหาใหม่"]})]})]}),i.jsx("div",{className:"space-y-4",children:o.length===0?i.jsxs("div",{className:"glass-effect p-12 rounded-xl text-center",children:[i.jsx(re,{className:"w-16 h-16 text-slate-500 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"ยังไม่มีเนื้อหา"}),i.jsx("p",{className:"text-slate-400 mb-4",children:"เริ่มสร้างเนื้อหาแรกของคอร์สนี้"}),i.jsxs(T,{onClick:p,children:[i.jsx(Vi,{className:"w-4 h-4 mr-2"}),"เพิ่มเนื้อหาใหม่"]})]}):o.map((_,C)=>i.jsx(A.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"glass-effect p-4 rounded-xl",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"cursor-move text-slate-400 hover:text-slate-300",children:i.jsx(E_,{className:"w-5 h-5"})}),i.jsx("div",{className:"text-sm font-medium text-slate-400 w-8",children:_.order_index}),i.jsx("div",{className:"flex-shrink-0",children:N(_.content_type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("h3",{className:"text-lg font-semibold text-white truncate",children:_.title}),i.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-slate-700 text-slate-300",children:S(_.content_type)})]}),_.description&&i.jsx("p",{className:"text-slate-400 text-sm mt-1 truncate",children:_.description}),i.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-slate-500",children:[_.duration_minutes>0&&i.jsxs("span",{children:["ระยะเวลา: ",_.duration_minutes," นาที"]}),_.is_free&&i.jsx("span",{className:"text-green-400",children:"ฟรี"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(te,{to:`/courses/${e}/learn`,target:"_blank",children:i.jsx(T,{size:"sm",variant:"ghost",title:"ดูตัวอย่าง",children:i.jsx(qn,{className:"w-4 h-4"})})}),_.content_type==="assignment"&&_.assignment_id&&i.jsx(te,{to:`/admin/assignments/${_.assignment_id}/grading`,children:i.jsx(T,{size:"sm",variant:"ghost",className:"text-orange-400 hover:text-orange-300",title:"ให้คะแนน",children:i.jsx(y_,{className:"w-4 h-4"})})}),i.jsx(T,{size:"sm",variant:"ghost",onClick:()=>g(_),title:"แก้ไข",children:i.jsx(bs,{className:"w-4 h-4"})}),i.jsx(T,{size:"sm",variant:"ghost",onClick:()=>x(_.id),className:"text-red-400 hover:text-red-300",title:"ลบ",children:i.jsx(Lr,{className:"w-4 h-4"})})]})]})},_.id))}),i.jsx(Ct,{children:d&&i.jsx(n5,{mode:v,content:f,onSave:j,onClose:()=>h(!1)})})]}):i.jsx("div",{className:"container mx-auto px-4 py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"ไม่มีสิทธิ์เข้าถึง"}),i.jsx("p",{className:"text-slate-400",children:"หน้านี้สำหรับผู้ดูแลระบบเท่านั้น"})]})})},s5=({submission:e,assignment:t,onGrade:n})=>{var h,f;const r=e.score!==null,s=e.is_late,a=new Date(e.submitted_at),o=s&&t.due_date?Math.ceil((a-new Date(t.due_date))/(1e3*60*60*24)):0,l=async(m,v)=>{try{const{data:y,error:b}=await R.storage.from("course-files").download(v);if(b)throw b;const p=URL.createObjectURL(y),g=document.createElement("a");g.href=p,g.download=m,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(p)}catch(y){console.error("Download error:",y),alert("ไม่สามารถดาวน์โหลดไฟล์ได้")}},c=()=>r?"text-green-400":s?"text-red-400":"text-yellow-400",u=()=>r?i.jsx(Ls,{className:"w-4 h-4"}):s?i.jsx(ws,{className:"w-4 h-4"}):i.jsx(vn,{className:"w-4 h-4"}),d=()=>r?`ให้คะแนนแล้ว (${e.score}/${t.max_score})`:s?`ส่งช้า ${o} วัน`:"รอให้คะแนน";return i.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-effect p-6 rounded-xl hover:bg-slate-700/30 transition-colors",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center mb-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center mr-3",children:i.jsx(zi,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:((h=e.user_profiles)==null?void 0:h.full_name)||"ไม่ระบุชื่อ"}),i.jsx("p",{className:"text-sm text-slate-400",children:((f=e.user_profiles)==null?void 0:f.email)||"ไม่ระบุอีเมล"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{className:"flex items-center text-sm text-slate-400",children:[i.jsx(ll,{className:"w-4 h-4 mr-2"}),"ส่งเมื่อ: ",a.toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]}),i.jsxs("div",{className:`flex items-center text-sm ${c()}`,children:[u(),i.jsx("span",{className:"ml-2",children:d()})]})]}),e.notes&&i.jsx("div",{className:"mb-4",children:i.jsx("div",{className:"bg-slate-700/50 p-3 rounded-lg",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(O_,{className:"w-4 h-4 text-slate-400 mr-2 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-slate-300 mb-1",children:"หมายเหตุจากนักเรียน:"}),i.jsx("p",{className:"text-sm text-slate-400",children:e.notes})]})]})})}),e.file_paths&&e.file_paths.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-sm font-medium text-slate-300 mb-2",children:"ไฟล์ที่ส่ง:"}),i.jsx("div",{className:"space-y-2",children:e.file_paths.map((m,v)=>{const y=m.split("/").pop();return i.jsxs("div",{className:"flex items-center justify-between bg-slate-700/50 p-2 rounded",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(re,{className:"w-4 h-4 text-blue-400 mr-2"}),i.jsx("span",{className:"text-sm text-slate-300",children:y})]}),i.jsx(T,{size:"sm",variant:"ghost",onClick:()=>l(y,m),className:"text-blue-400 hover:text-blue-300",children:i.jsx(fn,{className:"w-4 h-4"})})]},v)})})]}),r&&e.feedback&&i.jsx("div",{className:"mb-4",children:i.jsx("div",{className:"bg-green-500/10 border border-green-500/20 p-3 rounded-lg",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(Ft,{className:"w-4 h-4 text-green-400 mr-2 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-300 mb-1",children:"ความคิดเห็นจากอาจารย์:"}),i.jsx("p",{className:"text-sm text-green-200",children:e.feedback})]})]})})})]}),i.jsxs("div",{className:"ml-6 flex flex-col space-y-2",children:[i.jsxs(T,{onClick:n,className:`${r?"bg-blue-500 hover:bg-blue-600":"bg-green-500 hover:bg-green-600"}`,children:[i.jsx(Ft,{className:"w-4 h-4 mr-2"}),r?"แก้ไขคะแนน":"ให้คะแนน"]}),e.file_paths&&e.file_paths.length>0&&i.jsxs(T,{variant:"outline",size:"sm",onClick:()=>{e.file_paths.forEach(m=>{const v=m.split("/").pop();l(v,m)})},children:[i.jsx(fn,{className:"w-4 h-4 mr-2"}),"ดาวน์โหลดทั้งหมด"]})]})]}),r&&i.jsx("div",{className:"mt-4 pt-4 border-t border-slate-600",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ft,{className:"w-5 h-5 text-yellow-400 mr-2"}),i.jsx("span",{className:"text-sm text-slate-400",children:"คะแนน:"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-2xl font-bold text-white mr-1",children:e.score}),i.jsxs("span",{className:"text-lg text-slate-400",children:["/ ",t.max_score]}),i.jsxs("span",{className:"ml-2 text-sm text-slate-400",children:["(",Math.round(e.score/t.max_score*100),"%)"]})]})]})})]})},i5=({submission:e,assignment:t,onSave:n,onClose:r})=>{var v,y;const{toast:s}=ae(),[a,o]=w.useState({score:e.score||"",feedback:e.feedback||"",grading_rubric_scores:e.grading_rubric_scores||{}}),[l,c]=w.useState(!1),u=["งานดีมาก! เข้าใจเนื้อหาอย่างถ่องแท้","งานดี แต่ยังมีจุดที่ต้องปรับปรุง","เป็นการทำงานที่ดี คิดวิเคราะห์ได้ดี","งานมีคุณภาพ แต่ควรใส่ใจในรายละเอียดมากขึ้น","ควรศึกษาเพิ่มเติมและปรับปรุงในครั้งต่อไป","งานยังไม่ตรงตามที่กำหนด กรุณาทำใหม่"],d=async b=>{if(b.preventDefault(),!a.score||a.score===""){s({title:"กรุณาใส่คะแนน",variant:"destructive"});return}const p=parseFloat(a.score);if(isNaN(p)||p<0||p>t.max_score){s({title:"คะแนนไม่ถูกต้อง",description:`คะแนนต้องอยู่ระหว่าง 0-${t.max_score}`,variant:"destructive"});return}c(!0);try{await n({...a,score:p,graded_at:new Date().toISOString(),graded_by:"admin"})}catch(g){console.error("Grading error:",g)}finally{c(!1)}},h=async(b,p)=>{try{const{data:g,error:x}=await R.storage.from("course-files").download(p);if(x)throw x;const j=URL.createObjectURL(g),N=document.createElement("a");N.href=j,N.download=b,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(j)}catch(g){console.error("Download error:",g),s({title:"ไม่สามารถดาวน์โหลดไฟล์ได้",variant:"destructive"})}},f=b=>{const p=b/t.max_score*100;return p>=80?"text-green-400":p>=70?"text-yellow-400":p>=60?"text-orange-400":"text-red-400"},m=b=>{const p=b/t.max_score*100;return p>=80?"A":p>=70?"B":p>=60?"C":p>=50?"D":"F"};return i.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:r,children:i.jsxs(A.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"glass-effect rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:b=>b.stopPropagation(),children:[i.jsx("div",{className:"p-6 border-b border-white/10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"ให้คะแนนงานมอบหมาย"}),i.jsx("p",{className:"text-slate-400 mt-1",children:t.title})]}),i.jsx(T,{variant:"ghost",size:"icon",onClick:r,children:i.jsx(ea,{className:"w-5 h-5"})})]})}),i.jsxs("div",{className:"flex flex-col lg:flex-row h-full max-h-[calc(90vh-88px)]",children:[i.jsxs("div",{className:"lg:w-1/2 p-6 border-r border-white/10 overflow-y-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center mr-3",children:i.jsx(zi,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:((v=e.user_profiles)==null?void 0:v.full_name)||"ไม่ระบุชื่อ"}),i.jsx("p",{className:"text-sm text-slate-400",children:(y=e.user_profiles)==null?void 0:y.email})]})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[i.jsxs("div",{className:"flex items-center text-sm text-slate-400",children:[i.jsx(ll,{className:"w-4 h-4 mr-2"}),"ส่งเมื่อ: ",new Date(e.submitted_at).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]}),e.is_late&&i.jsxs("div",{className:"flex items-center text-sm text-red-400",children:[i.jsx(ws,{className:"w-4 h-4 mr-2"}),"ส่งช้า"]})]})]}),e.notes&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h4",{className:"text-sm font-medium text-slate-300 mb-2",children:"หมายเหตุจากนักเรียน:"}),i.jsx("div",{className:"bg-slate-700/50 p-3 rounded-lg",children:i.jsx("p",{className:"text-sm text-slate-300",children:e.notes})})]}),e.file_paths&&e.file_paths.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h4",{className:"text-sm font-medium text-slate-300 mb-2",children:"ไฟล์ที่ส่ง:"}),i.jsx("div",{className:"space-y-2",children:e.file_paths.map((b,p)=>{const g=b.split("/").pop();return i.jsxs("div",{className:"flex items-center justify-between bg-slate-700/50 p-3 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(re,{className:"w-4 h-4 text-blue-400 mr-2"}),i.jsx("span",{className:"text-sm text-slate-300",children:g})]}),i.jsx(T,{size:"sm",variant:"ghost",onClick:()=>h(g,b),className:"text-blue-400 hover:text-blue-300",children:i.jsx(fn,{className:"w-4 h-4"})})]},p)})})]}),i.jsxs("div",{className:"bg-slate-700/30 p-4 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-slate-300 mb-2",children:"รายละเอียดงาน:"}),i.jsx("p",{className:"text-sm text-slate-400 mb-3",children:t.instructions}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-slate-400",children:"คะแนนเต็ม:"}),i.jsxs("span",{className:"text-white font-semibold",children:[t.max_score," คะแนน"]})]})]})]}),i.jsx("div",{className:"lg:w-1/2 p-6 overflow-y-auto",children:i.jsxs("form",{onSubmit:d,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"คะแนน *"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("input",{type:"number",min:"0",max:t.max_score,step:"0.5",value:a.score,onChange:b=>o(p=>({...p,score:b.target.value})),className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white text-center text-xl font-bold",placeholder:"0",required:!0})}),i.jsxs("div",{className:"text-xl text-slate-400",children:["/ ",t.max_score]}),a.score&&i.jsx("div",{className:`text-lg font-bold ${f(parseFloat(a.score))}`,children:m(parseFloat(a.score))})]}),a.score&&i.jsx("div",{className:"mt-2 text-center",children:i.jsxs("span",{className:`text-sm ${f(parseFloat(a.score))}`,children:[Math.round(parseFloat(a.score)/t.max_score*100),"%"]})})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-400 mb-2",children:"คะแนนด่วน:"}),i.jsx("div",{className:"grid grid-cols-4 gap-2",children:[25,50,75,100].map(b=>{const p=Math.round(b/100*t.max_score);return i.jsxs(T,{type:"button",variant:"outline",size:"sm",onClick:()=>o(g=>({...g,score:p.toString()})),className:"text-xs",children:[b,"%"]},b)})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"ความคิดเห็น/คำแนะนำ"}),i.jsx("textarea",{value:a.feedback,onChange:b=>o(p=>({...p,feedback:b.target.value})),className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white resize-none",rows:6,placeholder:"ให้คำแนะนำและความคิดเห็นเกี่ยวกับงานของนักเรียน..."})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-400 mb-2",children:"ความคิดเห็นด่วน:"}),i.jsx("div",{className:"space-y-2",children:u.map((b,p)=>i.jsx("button",{type:"button",onClick:()=>o(g=>({...g,feedback:g.feedback?`${g.feedback}

${b}`:b})),className:"w-full text-left p-2 text-xs bg-slate-700/50 hover:bg-slate-700 rounded text-slate-300 hover:text-white transition-colors",children:b},p))})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-white/10",children:[i.jsx(T,{type:"button",variant:"outline",onClick:r,children:"ยกเลิก"}),i.jsx(T,{type:"submit",className:"bg-green-500 hover:bg-green-600",disabled:l,children:l?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"กำลังบันทึก..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ch,{className:"w-4 h-4 mr-2"}),"บันทึกคะแนน"]})})]})]})})]})]})})},a5=()=>{const{assignmentId:e}=al(),{toast:t}=ae();qe();const[n,r]=w.useState(null),[s,a]=w.useState([]),[o,l]=w.useState(!0),[c,u]=w.useState(""),[d,h]=w.useState("all"),[f,m]=w.useState(null),[v,y]=w.useState(!1);w.useEffect(()=>{b()},[e]);const b=async()=>{l(!0);try{const{data:N,error:S}=await _3(e);if(S)throw S;r(N);const{data:_,error:C}=await S3(e);if(C)throw C;a(_||[])}catch(N){t({title:"ข้อผิดพลาดในการโหลดข้อมูล",description:N.message,variant:"destructive"})}finally{l(!1)}},p=N=>{m(N),y(!0)},g=async N=>{try{const{error:S}=await k3(f.id,N);if(S)throw S;t({title:"บันทึกคะแนนสำเร็จ",description:`ให้คะแนน ${N.score}/${n.max_score} คะแนน`}),b(),y(!1),m(null)}catch(S){t({title:"ไม่สามารถบันทึกคะแนนได้",description:S.message,variant:"destructive"})}},x=s.filter(N=>{var C,D;const S=((D=(C=N.user_profiles)==null?void 0:C.full_name)==null?void 0:D.toLowerCase().includes(c.toLowerCase()))||!1,_=d==="all"||d==="graded"&&N.score!==null||d==="ungraded"&&N.score===null||d==="late"&&N.is_late;return S&&_}),j={total:s.length,graded:s.filter(N=>N.score!==null).length,ungraded:s.filter(N=>N.score===null).length,average:s.length>0&&Math.round(s.filter(N=>N.score!==null).reduce((N,S)=>N+(S.score||0),0)/s.filter(N=>N.score!==null).length)||0};return o?i.jsx("div",{className:"container mx-auto px-4 py-12",children:i.jsxs("div",{className:"flex items-center justify-center h-64",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),i.jsx("span",{className:"ml-3 text-slate-400",children:"กำลังโหลดข้อมูล..."})]})}):i.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"container mx-auto px-4 py-12",children:[i.jsx(Ce,{children:i.jsx("title",{children:"ให้คะแนนงานมอบหมาย - ผู้ดูแลระบบ Login Learning"})}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(te,{to:"/admin/courses",className:"text-slate-400 hover:text-white transition-colors mr-4",children:i.jsx(Zi,{className:"w-5 h-5"})}),i.jsx("h1",{className:"text-2xl font-bold text-white",children:"ให้คะแนนงานมอบหมาย"})]}),n&&i.jsx("div",{className:"glass-effect p-6 rounded-xl",children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:n.title}),i.jsx("p",{className:"text-slate-400 mb-4",children:n.description}),i.jsxs("div",{className:"flex items-center space-x-6 text-sm text-slate-400",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ft,{className:"w-4 h-4 mr-1"}),"คะแนนเต็ม: ",n.max_score]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(vn,{className:"w-4 h-4 mr-1"}),"กำหนดส่ง: ",n.due_date?new Date(n.due_date).toLocaleDateString("th-TH"):"ไม่ระบุ"]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ue,{className:"w-4 h-4 mr-1"}),"ส่งงานแล้ว: ",j.total," คน"]})]})]})})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[i.jsx("div",{className:"glass-effect p-4 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-400 text-sm",children:"งานทั้งหมด"}),i.jsx("p",{className:"text-2xl font-bold text-white",children:j.total})]}),i.jsx(re,{className:"w-8 h-8 text-blue-400"})]})}),i.jsx("div",{className:"glass-effect p-4 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-400 text-sm",children:"ให้คะแนนแล้ว"}),i.jsx("p",{className:"text-2xl font-bold text-green-400",children:j.graded})]}),i.jsx(Ls,{className:"w-8 h-8 text-green-400"})]})}),i.jsx("div",{className:"glass-effect p-4 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-400 text-sm",children:"รอให้คะแนน"}),i.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:j.ungraded})]}),i.jsx(Xt,{className:"w-8 h-8 text-yellow-400"})]})}),i.jsx("div",{className:"glass-effect p-4 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-400 text-sm",children:"คะแนนเฉลี่ย"}),i.jsx("p",{className:"text-2xl font-bold text-purple-400",children:j.average})]}),i.jsx(Ft,{className:"w-8 h-8 text-purple-400"})]})})]}),i.jsx("div",{className:"glass-effect p-4 rounded-lg mb-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(ul,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),i.jsx(Le,{type:"text",placeholder:"ค้นหาชื่อนักเรียน...",value:c,onChange:N=>u(N.target.value),className:"pl-10 bg-slate-700/50 border-slate-600 text-white"})]})}),i.jsx("div",{className:"w-full sm:w-48",children:i.jsxs("select",{value:d,onChange:N=>h(N.target.value),className:"w-full p-2 bg-slate-700 border border-slate-600 rounded-lg text-white",children:[i.jsx("option",{value:"all",children:"ทั้งหมด"}),i.jsx("option",{value:"ungraded",children:"รอให้คะแนน"}),i.jsx("option",{value:"graded",children:"ให้คะแนนแล้ว"}),i.jsx("option",{value:"late",children:"ส่งช้า"})]})})]})}),i.jsx("div",{className:"space-y-4",children:x.length===0?i.jsxs("div",{className:"glass-effect p-8 rounded-lg text-center",children:[i.jsx(re,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-400 text-lg",children:c||d!=="all"?"ไม่พบงานที่ตรงกับเงื่อนไขการค้นหา":"ยังไม่มีนักเรียนส่งงาน"})]}):x.map(N=>i.jsx(s5,{submission:N,assignment:n,onGrade:()=>p(N)},N.id))}),i.jsx(Ct,{children:v&&f&&i.jsx(i5,{submission:f,assignment:n,onSave:g,onClose:()=>{y(!1),m(null)}})})]})},o5=()=>{const{toast:e}=ae(),{user:t,signOut:n,isAdmin:r}=qe(),s=As(),a=async()=>{try{await n(),e({title:"ออกจากระบบสำเร็จแล้ว"}),s("/")}catch(l){e({title:"เกิดข้อผิดพลาดในการออกจากระบบ",description:l.message,variant:"destructive"})}},o=[{to:"/",label:"หน้าแรก",icon:T_},{to:"/courses",label:"คอร์สเรียน",icon:lv},{to:"/admissions",label:"ข้อมูลการรับเข้า",icon:k_},{to:"/gpax-calculator",label:"คำนวณ GPAX",icon:cv},{to:"/about",label:"เกี่ยวกับเรา",icon:l5},{to:"/contact",label:"ติดต่อ",icon:cl}];return i.jsx(A.nav,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8},className:"glass-effect fixed top-0 left-0 right-0 z-50 px-4 sm:px-6 py-3 shadow-lg",children:i.jsxs("div",{className:"max-w-screen-xl mx-auto flex items-center justify-between",children:[i.jsxs(te,{to:"/",className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-[#667eea] to-[#764ba2] rounded-lg flex items-center justify-center shadow-md",children:i.jsx(We,{className:"w-6 h-6 text-white"})}),i.jsx("span",{className:"text-xl sm:text-2xl font-bold text-white hidden sm:block",children:"Login Learning"})]}),i.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[o.map(l=>i.jsxs(te,{to:l.to,className:"text-slate-200 hover:text-white transition-colors flex items-center space-x-1",children:[i.jsx(l.icon,{className:"w-4 h-4"}),i.jsx("span",{children:l.label})]},l.to)),r&&i.jsxs(te,{to:"/admin",className:"text-yellow-400 hover:text-yellow-300 transition-colors flex items-center space-x-1",children:[i.jsx(z_,{className:"w-4 h-4"}),i.jsx("span",{children:"ผู้ดูแลระบบ"})]})]}),i.jsx("div",{className:"flex items-center space-x-2 sm:space-x-3",children:t?i.jsxs(i.Fragment,{children:[i.jsx(T,{variant:"ghost",className:"text-slate-200 hover:bg-white/10 hover:text-white px-2 sm:px-3 py-1 sm:py-2",asChild:!0,children:i.jsxs(te,{to:"/dashboard",className:"flex items-center space-x-1",children:[i.jsx(fv,{className:"w-4 h-4 sm:w-5 sm:h-5"}),i.jsx("span",{className:"hidden sm:inline",children:"แดชบอร์ด"})]})}),i.jsxs(T,{variant:"outline",className:"text-slate-200 border-slate-200/30 hover:bg-white/10 hover:text-white px-2 sm:px-3 py-1 sm:py-2",onClick:a,children:[i.jsx(R_,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-0 sm:mr-1"}),i.jsx("span",{className:"hidden sm:inline",children:"ออกจากระบบ"})]})]}):i.jsxs(i.Fragment,{children:[i.jsx(T,{variant:"ghost",className:"text-slate-200 hover:bg-white/10 hover:text-white px-2 sm:px-3 py-1 sm:py-2",asChild:!0,children:i.jsx(te,{to:"/login",children:"เข้าสู่ระบบ"})}),i.jsx(T,{className:"bg-gradient-to-r from-[#667eea] to-[#764ba2] hover:from-[#5a6fcf] hover:to-[#673f8b] text-white px-2 sm:px-3 py-1 sm:py-2",asChild:!0,children:i.jsx(te,{to:"/signup",children:"สมัครเรียน"})})]})})]})})},l5=()=>i.jsx(vv,{className:"w-4 h-4"}),c5=()=>{const e={name:"Login Learning",description:"แพลตฟอร์มเสริมทักษะและค้นหาตัวตนของน้องมัธยม ต้น-ปลาย เพื่อตัดสินใจเข้าเรียนต่อในระดับมัธยมปลาย/มหาวิทยาลัย",address:"917 จรัญสนิทวงศ์ 75 บางพลัด บางพลัด",contacts:[{name:"พี่ก้อง",phone:"090-969-9578"},{name:"พี่เก็ก",phone:"083-436-0294"}],lineGroup:"https://line.me/ti/g/TbTTLXEkRS",email:"info@loginlearning.com"},t=[{name:"สาขาลาดกระบัง",address:"ถนนฉลองกรุง ลาดกระบัง, กรุงเทพฯ 10520"},{name:"สาขาบางพลัด",address:"400 ซ.จรัญสนิทวงศ์ 75 แขวงบางพลัด, กรุงเทพฯ 10700"},{name:"สาขาศรีราชา",address:"165/31 อำเภอศรีราชา ชลบุรี 20110"},{name:"สาขาระยอง",address:"84/48 อำเภอเมืองระยอง ระยอง 21000"}];return i.jsx("footer",{className:"py-12 px-6 border-t border-white/10 bg-black/20 backdrop-blur-md",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:[i.jsxs("div",{children:[i.jsxs(te,{to:"/",className:"flex items-center space-x-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:i.jsx(We,{className:"w-6 h-6 text-white"})}),i.jsx("span",{className:"text-2xl font-bold text-white",children:e.name})]}),i.jsx("p",{className:"text-white/70 leading-relaxed mb-4",children:e.description}),i.jsxs("div",{className:"flex items-start space-x-2 text-white/70 mb-2",children:[i.jsx(Po,{className:"w-5 h-5 mt-1 text-blue-400 shrink-0"}),i.jsx("span",{children:e.address})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-white/70 mb-2",children:[i.jsx(Er,{className:"w-5 h-5 text-blue-400 shrink-0"}),i.jsx("a",{href:`mailto:${e.email}`,className:"hover:text-white transition-colors",children:e.email})]}),e.contacts.map(n=>i.jsxs("div",{className:"flex items-center space-x-2 text-white/70 mb-1",children:[i.jsx(cl,{className:"w-5 h-5 text-blue-400 shrink-0"}),i.jsxs("span",{children:[n.name,": ",n.phone]})]},n.name)),i.jsxs("div",{className:"flex items-center space-x-2 text-white/70 mt-2",children:[i.jsx(Ue,{className:"w-5 h-5 text-blue-400 shrink-0"}),i.jsx("a",{href:e.lineGroup,target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:"Line Group"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-semibold mb-4 text-lg",children:"สาขาที่เปิดบริการ"}),i.jsx("ul",{className:"space-y-3",children:t.map(n=>i.jsxs("li",{children:[i.jsx("p",{className:"font-medium text-white/90",children:n.name}),i.jsx("p",{className:"text-white/70 text-sm",children:n.address})]},n.name))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-semibold mb-4 text-lg",children:"ลิงก์ด่วน"}),i.jsxs("ul",{className:"space-y-2 text-white/70",children:[i.jsx("li",{children:i.jsx(te,{to:"/courses",className:"hover:text-white transition-colors",children:"คอร์สเรียนทั้งหมด"})}),i.jsx("li",{children:i.jsx(te,{to:"/admissions",className:"hover:text-white transition-colors",children:"ข้อมูลการรับเข้ามหาวิทยาลัย"})}),i.jsx("li",{children:i.jsx(te,{to:"/about#services",className:"hover:text-white transition-colors",children:"บริการและกิจกรรม"})}),i.jsx("li",{children:i.jsx(te,{to:"/about#projects",className:"hover:text-white transition-colors",children:"ตัวอย่างโครงงาน"})}),i.jsx("li",{children:i.jsx(te,{to:"/contact",className:"hover:text-white transition-colors",children:"ติดต่อเรา"})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-semibold mb-4 text-lg",children:"ติดตามเรา"}),i.jsxs("ul",{className:"space-y-2 text-white/70",children:[i.jsx("li",{children:i.jsx("a",{href:"#",onClick:n=>{n.preventDefault(),alert("🚧 ฟีเจอร์นี้ยังไม่พร้อมใช้งาน")},className:"hover:text-white transition-colors",children:"Facebook"})}),i.jsx("li",{children:i.jsx("a",{href:"#",onClick:n=>{n.preventDefault(),alert("🚧 ฟีเจอร์นี้ยังไม่พร้อมใช้งาน")},className:"hover:text-white transition-colors",children:"Instagram"})}),i.jsx("li",{children:i.jsx("a",{href:"#",onClick:n=>{n.preventDefault(),alert("🚧 ฟีเจอร์นี้ยังไม่พร้อมใช้งาน")},className:"hover:text-white transition-colors",children:"YouTube"})}),i.jsx("li",{children:i.jsx("a",{href:e.lineGroup,target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:"Line Official"})})]})]})]}),i.jsxs("div",{className:"border-t border-white/10 mt-8 pt-8 text-center",children:[i.jsxs("p",{className:"text-white/70",children:["© ",new Date().getFullYear()," ",e.name,". สงวนลิขสิทธิ์ทั้งหมด."]}),i.jsx("p",{className:"text-xs text-white/50 mt-1",children:"ข้อมูลในเว็บไซต์นี้เป็นข้อมูลเบื้องต้นและอาจมีการเปลี่ยนแปลง โปรดตรวจสอบข้อมูลล่าสุดจากประกาศอย่างเป็นทางการ"})]})]})})},Nc=({children:e})=>{const{user:t,loading:n,isSupabaseConnected:r}=qe(),s=Pr();return n?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("p",{className:"text-white text-xl",children:"กำลังตรวจสอบสิทธิ์..."})}):r?t?e:i.jsx(hi,{to:"/login",state:{from:s},replace:!0}):i.jsx(hi,{to:"/login",state:{from:s,message:"โปรดเชื่อมต่อ Supabase ก่อนเข้าถึงหน้านี้"},replace:!0})},Ys=({children:e})=>{const{user:t,isAdmin:n,loading:r,isSupabaseConnected:s}=qe(),a=Pr();return r?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("p",{className:"text-white text-xl",children:"กำลังตรวจสอบสิทธิ์ผู้ดูแลระบบ..."})}):s?t?n?e:i.jsx(hi,{to:"/dashboard",state:{message:"คุณไม่มีสิทธิ์เข้าถึงหน้านี้"},replace:!0}):i.jsx(hi,{to:"/login",state:{from:a},replace:!0}):i.jsx(hi,{to:"/login",state:{from:a,message:"โปรดเชื่อมต่อ Supabase ก่อนเข้าถึงหน้านี้"},replace:!0})};function u5(){return i.jsxs(i.Fragment,{children:[i.jsxs(Ce,{children:[i.jsx("title",{children:"Login Learning - แพลตฟอร์มเรียนรู้วิศวกรรมออนไลน์"}),i.jsx("meta",{name:"description",content:"เรียนรู้การทำโครงงานวิศวกรรมกับผู้เชี่ยวชาญ ค้นหาตัวตนสำหรับน้องมัธยม เพื่อตัดสินใจเข้าเรียนต่อ พร้อมคอร์สเรียนที่หลากหลายและการสนับสนุนตลอด 24 ชั่วโมง"})]}),i.jsx(B2,{children:i.jsx(kE,{children:i.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-[#0a192f] to-[#172a46] text-slate-300",children:[i.jsx(o5,{}),i.jsx("main",{className:"flex-grow pt-20",children:i.jsxs(M2,{children:[i.jsx(Re,{path:"/",element:i.jsx(HP,{})}),i.jsx(Re,{path:"/about",element:i.jsx(WP,{})}),i.jsx(Re,{path:"/courses",element:i.jsx(YP,{})}),i.jsx(Re,{path:"/courses/:courseId",element:i.jsx(i3,{})}),i.jsx(Re,{path:"/courses/:courseId/learn",element:i.jsx(Nc,{children:i.jsx(T3,{})})}),i.jsx(Re,{path:"/admissions",element:i.jsx(P3,{})}),i.jsx(Re,{path:"/contact",element:i.jsx(A3,{})}),i.jsx(Re,{path:"/login",element:i.jsx(L3,{})}),i.jsx(Re,{path:"/signup",element:i.jsx(R3,{})}),i.jsx(Re,{path:"/gpax-calculator",element:i.jsx(M3,{})}),i.jsx(Re,{path:"/dashboard",element:i.jsx(Nc,{children:i.jsx(O3,{})})}),i.jsx(Re,{path:"/profile",element:i.jsx(Nc,{children:i.jsx(I3,{})})}),i.jsx(Re,{path:"/admin",element:i.jsx(Ys,{children:i.jsx(D3,{})})}),i.jsx(Re,{path:"/admin/users",element:i.jsx(Ys,{children:i.jsx(U3,{})})}),i.jsx(Re,{path:"/admin/courses",element:i.jsx(Ys,{children:i.jsx(F3,{})})}),i.jsx(Re,{path:"/admin/courses/:courseId/content",element:i.jsx(Ys,{children:i.jsx(r5,{})})}),i.jsx(Re,{path:"/admin/assignments/:assignmentId/grading",element:i.jsx(Ys,{children:i.jsx(a5,{})})})]})}),i.jsx(c5,{}),i.jsx(aS,{})]})})})]})}_c.createRoot(document.getElementById("root")).render(i.jsx(se.StrictMode,{children:i.jsx(u5,{})}));
