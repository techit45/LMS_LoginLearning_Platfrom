import{r as N,ac as z,j as e,bn as y,bc as O,bp as S,X as _,n as v,a_ as w,b0 as L,y as B,am as M,bq as E,aZ as I,U as P,J as U,C as $,l as q,F as D,ab as F,m as R}from"./vendor-558e3516.js";import{a as J,B as a}from"./admin-f4ec72c8.js";import{A as T,m as r}from"./ui-675b1de5.js";import"./vendor-misc-0d9f0c57.js";const H=()=>{var m,h,p,f,g,u,j;const[i,k]=N.useState(!1),[l,n]=N.useState(!1),d=z(),{user:t,signOut:C}=J(),c=[{title:"Dashboard",icon:I,path:"/admin",description:"ภาพรวมระบบ"},{title:"จัดการผู้ใช้",icon:P,path:"/admin/users",description:"นักเรียน ผู้สอน และ Admin"},{title:"จัดการคอร์ส",icon:U,path:"/admin/courses",description:"อนุมัติและจัดการคอร์ส"},{title:"จัดการโครงงาน",icon:$,path:"/admin/projects",description:"จัดการผลงานและโครงงาน"},{title:"สถิติและรายงาน",icon:q,path:"/admin/analytics",description:"ข้อมูลการใช้งานและยอดขาย"},{title:"จัดการเนื้อหา",icon:D,path:"/admin/content",description:"การดูแลเนื้อหาและฟอรัม"},{title:"การสื่อสาร",icon:F,path:"/admin/communications",description:"ประกาศและแจ้งเตือน"},{title:"ความปลอดภัย",icon:y,path:"/admin/security",description:"การรักษาความปลอดภัย"},{title:"ตั้งค่าระบบ",icon:R,path:"/admin/settings",description:"การตั้งค่าเว็บไซต์"}],o=s=>s==="/admin"?d.pathname==="/admin":d.pathname.startsWith(s),x=async()=>{try{await C()}catch(s){console.error("Error signing out:",s)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[e.jsx(T,{children:l&&e.jsx(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden",onClick:()=>n(!1)})}),e.jsxs(r.div,{animate:{width:i?80:280,x:l?0:-280},transition:{duration:.3,ease:"easeInOut"},className:`fixed lg:relative left-0 top-0 h-full bg-white border-r border-gray-200 shadow-lg z-50 flex flex-col ${l?"block":"hidden lg:flex"}`,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[!i&&e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(y,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Admin Panel"}),e.jsx("p",{className:"text-xs text-gray-500",children:"จัดการระบบ"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(a,{variant:"ghost",size:"sm",onClick:()=>k(!i),className:"hidden lg:flex p-2",children:i?e.jsx(O,{className:"w-4 h-4"}):e.jsx(S,{className:"w-4 h-4"})}),e.jsx(a,{variant:"ghost",size:"sm",onClick:()=>n(!1),className:"lg:hidden p-2",children:e.jsx(_,{className:"w-4 h-4"})})]})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:e.jsx("div",{className:"space-y-1 px-3",children:c.map(s=>{const A=s.icon,b=o(s.path);return e.jsxs(v,{to:s.path,onClick:()=>n(!1),className:`group flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-all duration-200 ${b?"bg-indigo-50 text-indigo-700 border-r-2 border-indigo-600":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[e.jsx(A,{className:`flex-shrink-0 w-5 h-5 ${b?"text-indigo-600":"text-gray-400 group-hover:text-gray-600"}`}),!i&&e.jsxs(r.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"ml-3 flex-1",children:[e.jsx("div",{className:"font-medium",children:s.title}),e.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:s.description})]})]},s.path)})})}),e.jsx("div",{className:"border-t border-gray-200 p-4",children:i?e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:((g=(f=t==null?void 0:t.user_profiles)==null?void 0:f.full_name)==null?void 0:g.charAt(0))||"A"}),e.jsx(a,{variant:"ghost",size:"sm",onClick:x,className:"p-2 text-gray-400 hover:text-red-600",title:"ออกจากระบบ",children:e.jsx(w,{className:"w-4 h-4"})})]}):e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold",children:((h=(m=t==null?void 0:t.user_profiles)==null?void 0:m.full_name)==null?void 0:h.charAt(0))||"A"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:((p=t==null?void 0:t.user_profiles)==null?void 0:p.full_name)||"Admin User"}),e.jsx("p",{className:"text-xs text-gray-500",children:"ผู้ดูแลระบบ"})]}),e.jsx(a,{variant:"ghost",size:"sm",onClick:x,className:"p-2 text-gray-400 hover:text-red-600",title:"ออกจากระบบ",children:e.jsx(w,{className:"w-4 h-4"})})]})})]}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[e.jsxs("header",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(a,{variant:"ghost",size:"sm",onClick:()=>n(!0),className:"lg:hidden p-2",children:e.jsx(L,{className:"w-5 h-5"})}),e.jsxs("div",{className:"hidden md:block",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:((u=c.find(s=>o(s.path)))==null?void 0:u.title)||"Admin Panel"}),e.jsx("p",{className:"text-sm text-gray-600",children:((j=c.find(s=>o(s.path)))==null?void 0:j.description)||"ระบบจัดการ"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"hidden md:flex items-center space-x-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"ค้นหา...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent w-64"})]})}),e.jsxs(a,{variant:"ghost",size:"sm",className:"relative p-2",children:[e.jsx(M,{className:"w-5 h-5"}),e.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full text-xs flex items-center justify-center text-white",children:"3"})]}),e.jsx("div",{className:"hidden md:flex items-center space-x-2",children:e.jsx(v,{to:"/courses",children:e.jsx(a,{variant:"outline",size:"sm",children:"ดูเว็บไซต์"})})})]})]}),e.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:e.jsx(E,{})})]})]})};export{H as default};
